{"version":3,"sources":["webpack://Snapdown/webpack/bootstrap","webpack://Snapdown/./src/index.js","webpack://Snapdown/./node_modules/elkjs/lib/elk-api.js","webpack://Snapdown/./node_modules/yaml-front-matter/dist/yamlFront.js","webpack://Snapdown/./node_modules/js-yaml/dist/js-yaml.js","webpack://Snapdown/./src/transformer.js","webpack://Snapdown/./dist/snapdown-parser.js","webpack://Snapdown/./src/renderer.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","elkjs","require","yamlfront","transformer","renderer","scriptSelector","jsonSelector","elk","this","instance","workerUrl","URL","createObjectURL","Blob","type","parseText","scriptElement","matches","Error","text","safeLoadFront","__content","spec","parse","snap","transform","jsonElement","document","createElement","JSON","stringify","id","Math","random","toString","substring","parentNode","append","renderJSON","graph","drawable","layout","then","draw","render","elt","renderAll","scriptElements","Array","from","querySelectorAll","created","map","x","y","push","graphId","e","f","u","a","code","length","1","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","TypeError","ELK","_this","_ref","arguments","undefined","_ref$defaultLayoutOpt","defaultLayoutOptions","_ref$algorithms","algorithms","workerFactory","initialized","factory","url","Worker","worker","postMessage","PromisedWorker","cmd","catch","console","err","_ref2","_ref2$layoutOptions","layoutOptions","_ref2$logging","logging","_ref2$measureExecutio","measureExecutionTime","options","Promise","reject","terminate","default","_this2","resolvers","onmessage","answer","setTimeout","receive","msg","self","resolve","res","convertGwtStyleError","json","data","resolver","error","javaException","cause","backingJsObject","2","iterator","constructor","contentKeyName","exec","charAt","safeLoad","load","loader","dumper","deprecated","Type","Schema","FAILSAFE_SCHEMA","JSON_SCHEMA","CORE_SCHEMA","DEFAULT_SAFE_SCHEMA","DEFAULT_FULL_SCHEMA","loadAll","safeLoadAll","dump","safeDump","YAMLException","MINIMAL_SCHEMA","SAFE_SCHEMA","DEFAULT_SCHEMA","scan","compose","addConstructor","isNothing","subject","isObject","toArray","sequence","isArray","repeat","string","count","cycle","result","isNegativeZero","number","Number","NEGATIVE_INFINITY","extend","source","index","sourceKeys","keys","3","common","_toString","_hasOwnProperty","ESCAPE_SEQUENCES","DEPRECATED_BOOLEANS_SYNTAX","encodeHex","character","handle","toUpperCase","State","schema","indent","max","noArrayIndent","skipInvalid","flowLevel","styleMap","tag","style","String","slice","compiledTypeMap","styleAliases","compileStyleMap","sortKeys","lineWidth","noRefs","noCompatMode","condenseFlow","implicitTypes","compiledImplicit","explicitTypes","compiledExplicit","duplicates","usedDuplicates","indentString","spaces","line","ind","position","next","indexOf","generateNextLine","state","level","isWhitespace","isPrintable","isPlainSafe","needIndentIndicator","test","chooseScalarStyle","singleLineOnly","indentPerLevel","testAmbiguousType","char","hasLineBreak","hasFoldableLine","shouldTrackWidth","previousLineBreak","plain","charCodeAt","writeScalar","iskey","min","str","testImplicitResolving","replace","blockHeader","dropEndingNewline","width","moreIndented","match","nextLF","lineRe","lastIndex","foldLine","prevMoreIndented","prefix","foldString","nextChar","escapeSeq","escapeString","indentIndicator","clip","end","breakRe","start","curr","detectType","explicit","_result","typeList","instanceOf","predicate","represent","defaultStyle","writeNode","block","compact","duplicateIndex","duplicate","objectOrArray","objectKey","objectValue","explicitPair","pairBuffer","_tag","objectKeyList","sort","writeBlockMapping","writeFlowMapping","arrayLevel","writeBlockSequence","writeFlowSequence","getDuplicateReferences","objects","duplicatesIndexes","inspectNode","input","4","reason","mark","message","captureStackTrace","stack","5","Mark","PATTERN_NON_PRINTABLE","PATTERN_NON_ASCII_LINE_BREAKS","PATTERN_FLOW_INDICATORS","PATTERN_TAG_HANDLE","PATTERN_TAG_URI","_class","obj","is_EOL","is_WHITE_SPACE","is_WS_OR_EOL","is_FLOW_INDICATOR","fromHexCode","lc","simpleEscapeSequence","charFromCodepoint","fromCharCode","simpleEscapeCheck","simpleEscapeMap","filename","onWarning","legacy","listener","typeMap","lineStart","lineIndent","documents","generateError","throwError","throwWarning","directiveHandlers","YAML","args","major","minor","version","parseInt","checkLineBreaks","TAG","tagMap","captureSegment","checkJson","_position","_length","_character","mergeMappings","destination","overridableKeys","quantity","storeMappingPair","keyTag","keyNode","valueNode","startLine","startPos","readLineBreak","ch","skipSeparationSpace","allowComments","checkIndent","lineBreaks","testDocumentSeparator","writeFoldedLines","readBlockSequence","nodeIndent","_line","_anchor","anchor","detected","anchorMap","composeNode","kind","readTagProperty","tagHandle","tagName","isVerbatim","isNamed","readAnchorProperty","parentIndent","nodeContext","allowToSeek","allowCompact","allowBlockStyles","allowBlockScalars","allowBlockCollections","typeIndex","typeQuantity","flowIndent","blockIndent","indentStatus","atNewLine","hasContent","following","_pos","atExplicitKey","readBlockMapping","terminator","isPair","isExplicitPair","isMapping","readNext","readFlowCollection","captureStart","folding","tmp","chomping","didReadContent","detectedIndent","textIndent","emptyLines","atMoreIndented","readBlockScalar","captureEnd","readSingleQuotedScalar","hexLength","hexResult","readDoubleQuotedScalar","alias","readAlias","withinFlowCollection","hasPendingContent","_lineStart","_lineIndent","_kind","readPlainScalar","construct","readDocument","directiveName","directiveArgs","documentStart","hasDirectives","loadDocuments","output","6","buffer","column","getSnippet","maxLength","head","tail","snippet","where","7","compileList","exclude","include","forEach","includedSchema","currentType","previousType","previousIndex","filter","definition","implicit","loadKind","scalar","mapping","fallback","collectType","compileMap","DEFAULT","schemas","types","every","8","9","10","11","12","13","TYPE_CONSTRUCTOR_OPTIONS","YAML_NODE_KINDS","14","NodeBuffer","Buffer","__","BASE64_MAP","idx","bitlen","tailbits","bits","isBuffer","15","lowercase","uppercase","camelcase","16","YAML_FLOAT_PATTERN","RegExp","SCIENTIFIC_WITHOUT_DOT","sign","base","digits","toLowerCase","POSITIVE_INFINITY","NaN","split","v","unshift","parseFloat","isNaN","17","isOctCode","isDecCode","hasDigits","binary","octal","decimal","hexadecimal","18","esprima","_","window","ast","range","body","expression","params","param","Function","19","regexp","modifiers","global","multiline","ignoreCase","20","21","22","23","canonical","24","pair","pairKey","pairHasKey","objectKeys","25","26","27","28","29","YAML_DATE_REGEXP","YAML_TIMESTAMP_REGEXP","year","month","day","hour","minute","second","date","fraction","delta","Date","UTC","setTime","getTime","toISOString","yaml","counter","parser","identify","flattenAll","arr","ancestors","reduce","flat","concat","flatten","ref","assign","to","lookupRef","fields","array","val","inside","defn","find","fieldsFound","location","heap","roots","peg$SyntaxError","expected","found","child","parent","ctor","peg$subclass","buildMessage","DESCRIBE_EXPECTATION_FNS","literal","expectation","literalEscape","escapedParts","parts","classEscape","inverted","any","other","description","hex","j","descriptions","join","describeExpected","describeFound","SyntaxError","peg$result","peg$FAILED","peg$startRuleFunctions","diagram","peg$parsediagram","peg$startRuleFunction","peg$c5","peg$literalExpectation","peg$c7","peg$c10","peg$c13","peg$c15","peg$c18","peg$c20","peg$c24","first","it","peg$c25","rest","peg$c27","peg$c29","peg$c32","peg$c33","peg$c34","peg$classExpectation","peg$c37","peg$c38","peg$c40","peg$c44","peg$c47","peg$c50","peg$c51","peg$c52","peg$c54","peg$c57","peg$c59","peg$c61","peg$c62","peg$c64","peg$c66","peg$c68","peg$c69","peg$c70","peg$c71","peg$c72","peg$c73","peg$c74","peg$currPos","peg$savedPos","peg$posDetailsCache","peg$maxFailPos","peg$maxFailExpected","startRule","peg$computePosDetails","pos","details","peg$computeLocation","endPos","startPosDetails","endPosDetails","offset","peg$fail","peg$buildStructuredError","s0","s1","s2","s3","s4","peg$parse$","peg$parsepointer","peg$parsevalue","peg$parseheap","s5","peg$parseblank","peg$parseref","peg$parselhs","peg$parse_","peg$parsereassignable","immutable","peg$parsefinal","peg$parsearrow","peg$parserhs","merge","peg$parseinternals","peg$parsemutable","substr","peg$parseimmutable","peg$parseobject","peg$parsecomma","peg$parseelements","peg$parsearray","peg$parsestring","peg$parsefloat","peg$parseinteger","peg$parseboolean","peg$parsechar","peg$parsenull","peg$parseprimitive","s6","s8","s9","peg$parsetype","peg$parsepointers","peg$parsevalues","peg$parsefields","peg$parsename","peg$parsetype_params","peg$parsecomment","createSVG","classes","createElementNS","classList","add","createSVGRoot","root","insertAdjacentHTML","metrics","makeID","drawableHeap","children","edges","incorporate","showHashRefs","nodeSpacing","isHashRef","startsWith","ptr","labels","makeLabels","sources","targets","apply","textContent","getBoundingClientRect","height","removeChild","drawAtom","atom","group","setAttribute","rect","attr","drawLabel","drawEdge","label","edge","path","sections","startPoint","bendPoints","bend","endPoint","nearby","insertBefore","nextSibling"],"mappings":";;;;yBACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,+DChFrD,IAAMC,EAAQC,EAAQ,GAChBC,EAAYD,EAAQ,GAEpBE,EAAcF,EAAQ,GACtBG,EAAWH,EAAQ,GAEnBI,EAAiB,sCACjBC,EAAe,2CAGfC,EAAM,CAAE,eAEZ,cADOC,KAAKC,SACLD,KAAKC,SAAW,IAAIT,EAAM,CAAEU,UAAWC,IAAIC,gBAAgB,IAAIC,KAAK,CAAC,yEAEzE,CAAEC,KAAM,gCAIb,SAASC,EAAUC,GACjB,IAAOA,EAAcC,QAAQZ,GAC3B,MAAM,IAAIa,MAAJ,8CAAwDb,GAEhE,IACIc,EADSjB,EAAUkB,cAAcJ,EAAcG,MACjCE,UACdC,EAAOnB,EAAYoB,MAAMJ,GACzBK,EAAOrB,EAAYsB,UAAUH,GAE7BI,EAAcC,SAASC,cAAc,UAKzC,OAJAF,EAAYP,KAAOU,KAAKC,UAAUN,GAClCE,EAAYZ,KAAO,4BACnBY,EAAYK,IAAMC,KAAKC,SAAW,GAAGC,SAAS,IAAIC,UAAU,GAC5DnB,EAAcoB,WAAWC,OAAOX,GACzBA,EAIT,SAASY,EAAWZ,GAClB,IAAOA,EAAYT,QAAQX,GACzB,MAAM,IAAIY,MAAJ,+CAAyDZ,GAEjE,IAAIkB,EAAOK,KAAKN,MAAMG,EAAYP,MAC9BoB,EAAQnC,EAASoC,SAAShB,GAC1BO,GAAMC,KAAKC,SAAW,GAAGC,SAAS,IAAIC,UAAU,GAIpD,OAHA5B,EAAIE,SAASgC,OAAOF,GAAOG,MAAK,SAAAH,GAC9BnC,EAASuC,KAAKjB,EAAaa,EAAOR,MAE7BA,EAqBThE,EAAOD,QAAU,CAAE8E,OAlBnB,SAAgBC,GACVA,EAAI5B,QAAQZ,IAAmBU,EAAU8B,GAC7CP,EAAWO,IAgBcC,UAb3B,WACE,IAAIC,EAAiBC,MAAMC,KAAKtB,SAASuB,iBAAiB7C,IACtD8C,EAAU,GAQd,OAPAJ,EAAeK,KAAI,SAAAC,GACjB,IAAIC,EAAIvC,EAAUsC,GAClBF,EAAQI,KAAKD,EAAEvB,IACf,IAAIyB,EAAUlB,EAAWgB,GACzBH,EAAQI,KAAKC,MAGRL,K,gBClE+DpF,EAAOD,QAAwS,SAASgB,EAAE2E,EAAEhE,EAAEP,GAAG,SAAST,EAAET,EAAE0F,GAAG,IAAIjE,EAAEzB,GAAG,CAAC,IAAIyF,EAAEzF,GAAG,CAAmE,GAAG2F,EAAE,OAAOA,EAAE3F,GAAE,GAAI,IAAI4F,EAAE,IAAI1C,MAAM,uBAAuBlD,EAAE,KAAK,MAAM4F,EAAEC,KAAK,mBAAmBD,EAAE,IAAI9D,EAAEL,EAAEzB,GAAG,CAACF,QAAQ,IAAI2F,EAAEzF,GAAG,GAAGG,KAAK2B,EAAEhC,SAAQ,SAASgB,GAAoB,OAAOL,EAAlBgF,EAAEzF,GAAG,GAAGc,IAAeA,KAAIgB,EAAEA,EAAEhC,QAAQgB,EAAE2E,EAAEhE,EAAEP,GAAG,OAAOO,EAAEzB,GAAGF,QAAQ,IAAI,IAAI6F,GAAE,EAAoC3F,EAAE,EAAEA,EAAEkB,EAAE4E,OAAO9F,IAAIS,EAAES,EAAElB,IAAI,OAAOS,EAA7b,CAA4c,CAACsF,EAAE,CAAC,SAAS9D,EAAQlC,EAAOD,GACn1B,aAEAY,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAGT,IAAI+E,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAInG,EAAI,EAAGA,EAAImG,EAAML,OAAQ9F,IAAK,CAAE,IAAIoG,EAAaD,EAAMnG,GAAIoG,EAAWxF,WAAawF,EAAWxF,aAAc,EAAOwF,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAM5F,OAAOC,eAAeuF,EAAQE,EAAW7E,IAAK6E,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAY3E,UAAW4E,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAEnB,SAASG,EAAgBjE,EAAU8D,GAAe,KAAM9D,aAAoB8D,GAAgB,MAAM,IAAII,UAAU,qCAShH,IAAIC,EAAM,WACR,SAASA,IACP,IAAIC,EAAQrE,KAERsE,EAAOC,UAAUjB,OAAS,QAAsBkB,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,GAC3EE,EAAwBH,EAAKI,qBAC7BA,OAAiDF,IAA1BC,EAAsC,GAAKA,EAClEE,EAAkBL,EAAKM,WACvBA,OAAiCJ,IAApBG,EAAgC,CAAC,UAAW,SAAU,SAAU,SAAU,QAAS,QAAS,eAAgB,kBAAmB,eAAiBA,EAC7JE,EAAgBP,EAAKO,cACrB3E,EAAYoE,EAAKpE,UAQrB,GANAgE,EAAgBlE,KAAMoE,GAEtBpE,KAAK0E,qBAAuBA,EAC5B1E,KAAK8E,aAAc,OAGM,IAAd5E,QAAsD,IAAlB2E,EAC7C,MAAM,IAAInE,MAAM,yEAElB,IAAIqE,EAAUF,OACW,IAAd3E,QAAsD,IAAlB2E,IAE7CE,EAAU,SAAiBC,GACzB,OAAO,IAAIC,OAAOD,KAKtB,IAAIE,EAASH,EAAQ7E,GACrB,GAAkC,mBAAvBgF,EAAOC,YAChB,MAAM,IAAIhB,UAAU,wEAItBnE,KAAKkF,OAAS,IAAIE,EAAeF,GAGjClF,KAAKkF,OAAOC,YAAY,CACtBE,IAAK,WACLT,WAAYA,IACX1C,MAAK,SAAU5D,GAChB,OAAO+F,EAAMS,aAAc,KAC1BQ,MAAMC,QAAQC,KAiDnB,OA9CAhC,EAAaY,EAAK,CAAC,CACjBrF,IAAK,SACLN,MAAO,SAAgBsD,GACrB,IAAI0D,EAAQlB,UAAUjB,OAAS,QAAsBkB,IAAjBD,UAAU,GAAmBA,UAAU,GAAK,GAC5EmB,EAAsBD,EAAME,cAC5BA,OAAwCnB,IAAxBkB,EAAoC1F,KAAK0E,qBAAuBgB,EAChFE,EAAgBH,EAAMI,QACtBA,OAA4BrB,IAAlBoB,GAAsCA,EAChDE,EAAwBL,EAAMM,qBAC9BA,OAAiDvB,IAA1BsB,GAA8CA,EAEzE,OAAK/D,EAGE/B,KAAKkF,OAAOC,YAAY,CAC7BE,IAAK,SACLtD,MAAOA,EACP4D,cAAeA,EACfK,QAAS,CACPH,QAASA,EACTE,qBAAsBA,KARjBE,QAAQC,OAAO,IAAIxF,MAAM,2CAYnC,CACD3B,IAAK,wBACLN,MAAO,WACL,OAAOuB,KAAKkF,OAAOC,YAAY,CAAEE,IAAK,iBAEvC,CACDtG,IAAK,qBACLN,MAAO,WACL,OAAOuB,KAAKkF,OAAOC,YAAY,CAAEE,IAAK,cAEvC,CACDtG,IAAK,wBACLN,MAAO,WACL,OAAOuB,KAAKkF,OAAOC,YAAY,CAAEE,IAAK,iBAEvC,CACDtG,IAAK,kBACLN,MAAO,WACLuB,KAAKkF,OAAOiB,gBAIT/B,EA7FC,GAgGV9G,EAAQ8I,QAAUhC,EAElB,IAAIgB,EAAiB,WACnB,SAASA,EAAeF,GACtB,IAAImB,EAASrG,KAIb,GAFAkE,EAAgBlE,KAAMoF,QAEPZ,IAAXU,EACF,MAAM,IAAIxE,MAAM,yCAElBV,KAAKsG,UAAY,GACjBtG,KAAKkF,OAASA,EACdlF,KAAKkF,OAAOqB,UAAY,SAAUC,GAEhCC,YAAW,WACTJ,EAAOK,QAAQL,EAAQG,KACtB,IAqEP,OAjEAhD,EAAa4B,EAAgB,CAAC,CAC5BrG,IAAK,cACLN,MAAO,SAAqBkI,GAC1B,IAAIpF,EAAKvB,KAAKuB,IAAM,EACpBvB,KAAKuB,GAAKA,EAAK,EACfoF,EAAIpF,GAAKA,EACT,IAAIqF,EAAO5G,KACX,OAAO,IAAIiG,SAAQ,SAAUY,EAASX,GAEpCU,EAAKN,UAAU/E,GAAM,SAAUiE,EAAKsB,GAC9BtB,GACFoB,EAAKG,qBAAqBvB,GAC1BU,EAAOV,IAEPqB,EAAQC,IAIZF,EAAK1B,OAAOC,YAAYwB,QAG3B,CACD5H,IAAK,UACLN,MAAO,SAAiBmI,EAAMJ,GAC5B,IAAIQ,EAAOR,EAAOS,KACdC,EAAWN,EAAKN,UAAUU,EAAKzF,IAC/B2F,WACKN,EAAKN,UAAUU,EAAKzF,IACvByF,EAAKG,MACPD,EAASF,EAAKG,OAEdD,EAAS,KAAMF,EAAKC,SAIzB,CACDlI,IAAK,YACLN,MAAO,WACDuB,KAAKkF,OAAOiB,WACdnG,KAAKkF,OAAOiB,cAGf,CACDpH,IAAK,uBACLN,MAAO,SAA8B+G,GACnC,GAAKA,EAAL,CAIA,IAAI4B,EAAgB5B,EAAsB,iBACtC4B,IAMEA,EAAcC,OAASD,EAAcC,MAAMC,kBAC7C9B,EAAI6B,MAAQD,EAAcC,MAAMC,gBAChCtH,KAAK+G,qBAAqBvB,EAAI6B,eAEzB7B,EAAsB,uBAK5BJ,EApFY,IAsFnB,IAAImC,EAAE,CAAC,SAAS9H,EAAQlC,EAAOD,GACjC,aAEA,IAAI8G,EAAM3E,EAAQ,gBAAgB2G,QAElClI,OAAOC,eAAeZ,EAAOD,QAAS,aAAc,CAClDmB,OAAO,IAETlB,EAAOD,QAAU8G,EACjBA,EAAIgC,QAAUhC,GACZ,CAAC,eAAe,KAAK,GAAG,CAAC,GApNgV,CAoN5U,I,gBCpNyN,IAAUnB,EAAjM1F,EAAOD,SAA0L2F,EAAhL,EAAQ,GAAkL,SAASA,GAAG,IAAIvE,EAAE,GAAG,SAASO,EAAEhB,GAAG,GAAGS,EAAET,GAAG,OAAOS,EAAET,GAAGX,QAAQ,IAAIgB,EAAEI,EAAET,GAAG,CAACT,EAAES,EAAER,GAAE,EAAGH,QAAQ,IAAI,OAAO2F,EAAEhF,GAAGN,KAAKW,EAAEhB,QAAQgB,EAAEA,EAAEhB,QAAQ2B,GAAGX,EAAEb,GAAE,EAAGa,EAAEhB,QAAQ,OAAO2B,EAAErB,EAAEqF,EAAEhE,EAAEpB,EAAEa,EAAEO,EAAEnB,EAAE,SAASmF,EAAEvE,EAAET,GAAGgB,EAAEhB,EAAEgF,EAAEvE,IAAIR,OAAOC,eAAe8E,EAAEvE,EAAE,CAACN,YAAW,EAAGC,IAAIJ,KAAKgB,EAAEX,EAAE,SAAS2E,GAAG,oBAAoB1E,QAAQA,OAAOC,aAAaN,OAAOC,eAAe8E,EAAE1E,OAAOC,YAAY,CAACC,MAAM,WAAWP,OAAOC,eAAe8E,EAAE,aAAa,CAACxE,OAAM,KAAMQ,EAAEP,EAAE,SAASuE,EAAEvE,GAAG,GAAG,EAAEA,IAAIuE,EAAEhE,EAAEgE,IAAI,EAAEvE,EAAE,OAAOuE,EAAE,GAAG,EAAEvE,GAAG,iBAAiBuE,GAAGA,GAAGA,EAAErE,WAAW,OAAOqE,EAAE,IAAIhF,EAAEC,OAAOY,OAAO,MAAM,GAAGG,EAAEX,EAAEL,GAAGC,OAAOC,eAAeF,EAAE,UAAU,CAACG,YAAW,EAAGK,MAAMwE,IAAI,EAAEvE,GAAG,iBAAiBuE,EAAE,IAAI,IAAI3E,KAAK2E,EAAEhE,EAAEnB,EAAEG,EAAEK,EAAE,SAASI,GAAG,OAAOuE,EAAEvE,IAAIM,KAAK,KAAKV,IAAI,OAAOL,GAAGgB,EAAEA,EAAE,SAASgE,GAAG,IAAIvE,EAAEuE,GAAGA,EAAErE,WAAW,WAAW,OAAOqE,EAAEmD,SAAS,WAAW,OAAOnD,GAAG,OAAOhE,EAAEnB,EAAEY,EAAE,IAAIA,GAAGA,GAAGO,EAAEhB,EAAE,SAASgF,EAAEvE,GAAG,OAAOR,OAAOkB,UAAUC,eAAe1B,KAAKsF,EAAEvE,IAAIO,EAAEK,EAAE,GAAGL,EAAEA,EAAEM,EAAE,GAAj5B,CAAq5B,CAAC,SAAS0D,EAAEvE,EAAEO,GAAG,aAAa,SAAShB,EAAEgF,GAAG,OAAOhF,EAAE,mBAAmBM,QAAQ,iBAAiBA,OAAOiJ,SAAS,SAASvE,GAAG,cAAcA,GAAG,SAASA,GAAG,OAAOA,GAAG,mBAAmB1E,QAAQ0E,EAAEwE,cAAclJ,QAAQ0E,IAAI1E,OAAOa,UAAU,gBAAgB6D,IAAIA,GAAGhE,EAAEX,EAAEI,GAAGO,EAAEnB,EAAEY,EAAE,aAAY,WAAY,OAAOwE,KAAKjE,EAAEnB,EAAEY,EAAE,iBAAgB,WAAY,OAAOlB,KAAK,IAAIc,EAAEW,EAAE,GAAG,SAASkE,EAAEF,EAAEvE,EAAEO,GAAG,IAAIkE,EAAED,EAAExE,GAAG,iBAAiBA,EAAEA,EAAEA,GAAGA,EAAEgJ,eAAehJ,EAAEgJ,eAAe,YAAYlK,EAAEkB,GAAG,WAAWT,EAAES,GAAGA,OAAE,EAAOb,EAAE,qDAAqD8J,KAAK1E,GAAGxF,EAAE,GAAG,OAAO0F,EAAEtF,EAAE,MAAMJ,EAAE,MAAM0F,EAAEyE,OAAO,GAAGvG,KAAKN,MAAMoC,GAAGlE,EAAEX,EAAEuJ,SAAS1E,EAAE3F,GAAGc,EAAEwJ,KAAK3E,EAAE3F,IAAIC,EAAEyF,GAAGrF,EAAE,IAAI,GAAGJ,EAAE,SAASyF,EAAED,EAAEvE,GAAG,OAAOyE,EAAEF,EAAEvE,GAAE,GAAI,SAASlB,EAAEyF,EAAEvE,GAAG,OAAOyE,EAAEF,EAAEvE,GAAE,KAAM,SAASA,EAAEO,GAAGP,EAAEpB,QAAQ2F,O,gBCAnxD1F,EAAOD,QAA2S,SAASgB,EAAE2E,EAAEhE,EAAEP,GAAG,SAAST,EAAET,EAAE0F,GAAG,IAAIjE,EAAEzB,GAAG,CAAC,IAAIyF,EAAEzF,GAAG,CAAmE,GAAG2F,EAAE,OAAOA,EAAE3F,GAAE,GAAI,IAAI4F,EAAE,IAAI1C,MAAM,uBAAuBlD,EAAE,KAAK,MAAM4F,EAAEC,KAAK,mBAAmBD,EAAE,IAAI9D,EAAEL,EAAEzB,GAAG,CAACF,QAAQ,IAAI2F,EAAEzF,GAAG,GAAGG,KAAK2B,EAAEhC,SAAQ,SAASgB,GAAoB,OAAOL,EAAlBgF,EAAEzF,GAAG,GAAGc,IAAeA,KAAIgB,EAAEA,EAAEhC,QAAQgB,EAAE2E,EAAEhE,EAAEP,GAAG,OAAOO,EAAEzB,GAAGF,QAAQ,IAAI,IAAI6F,GAAE,EAAoC3F,EAAE,EAAEA,EAAEkB,EAAE4E,OAAO9F,IAAIS,EAAES,EAAElB,IAAI,OAAOS,EAA7b,CAA4c,CAACsF,EAAE,CAAC,SAAS9D,EAAQlC,EAAOD,GAC54B,aAGA,IAAIyK,EAAStI,EAAQ,oBACjBuI,EAASvI,EAAQ,oBAGrB,SAASwI,EAAWlK,GAClB,OAAO,WACL,MAAM,IAAI2C,MAAM,YAAc3C,EAAO,uCAKzCR,EAAOD,QAAQ4K,KAAsBzI,EAAQ,kBAC7ClC,EAAOD,QAAQ6K,OAAsB1I,EAAQ,oBAC7ClC,EAAOD,QAAQ8K,gBAAsB3I,EAAQ,6BAC7ClC,EAAOD,QAAQ+K,YAAsB5I,EAAQ,yBAC7ClC,EAAOD,QAAQgL,YAAsB7I,EAAQ,yBAC7ClC,EAAOD,QAAQiL,oBAAsB9I,EAAQ,iCAC7ClC,EAAOD,QAAQkL,oBAAsB/I,EAAQ,iCAC7ClC,EAAOD,QAAQwK,KAAsBC,EAAOD,KAC5CvK,EAAOD,QAAQmL,QAAsBV,EAAOU,QAC5ClL,EAAOD,QAAQuK,SAAsBE,EAAOF,SAC5CtK,EAAOD,QAAQoL,YAAsBX,EAAOW,YAC5CnL,EAAOD,QAAQqL,KAAsBX,EAAOW,KAC5CpL,EAAOD,QAAQsL,SAAsBZ,EAAOY,SAC5CrL,EAAOD,QAAQuL,cAAsBpJ,EAAQ,uBAG7ClC,EAAOD,QAAQwL,eAAiBrJ,EAAQ,6BACxClC,EAAOD,QAAQyL,YAAiBtJ,EAAQ,iCACxClC,EAAOD,QAAQ0L,eAAiBvJ,EAAQ,iCAGxClC,EAAOD,QAAQ2L,KAAiBhB,EAAW,QAC3C1K,EAAOD,QAAQyD,MAAiBkH,EAAW,SAC3C1K,EAAOD,QAAQ4L,QAAiBjB,EAAW,WAC3C1K,EAAOD,QAAQ6L,eAAiBlB,EAAW,mBAEzC,CAAC,mBAAmB,EAAE,sBAAsB,EAAE,mBAAmB,EAAE,mBAAmB,EAAE,wBAAwB,EAAE,gCAAgC,EAAE,gCAAgC,GAAG,4BAA4B,GAAG,wBAAwB,GAAG,iBAAiB,KAAKV,EAAE,CAAC,SAAS9H,EAAQlC,EAAOD,GACpS,aAGA,SAAS8L,EAAUC,GACjB,OAAO,MAAQA,EAiDjB9L,EAAOD,QAAQ8L,UAAiBA,EAChC7L,EAAOD,QAAQgM,SA9Cf,SAAkBD,GAChB,MAA2B,iBAAZA,GAAsC,OAAZA,GA8C3C9L,EAAOD,QAAQiM,QA1Cf,SAAiBC,GACf,OAAIhH,MAAMiH,QAAQD,GAAkBA,EAC3BJ,EAAUI,GAAkB,GAE9B,CAAEA,IAuCXjM,EAAOD,QAAQoM,OAnBf,SAAgBC,EAAQC,GACtB,IAAiBC,EAAbC,EAAS,GAEb,IAAKD,EAAQ,EAAGA,EAAQD,EAAOC,GAAS,EACtCC,GAAUH,EAGZ,OAAOG,GAaTvM,EAAOD,QAAQyM,eATf,SAAwBC,GACtB,OAAmB,IAAXA,GAAkBC,OAAOC,oBAAsB,EAAIF,GAS7DzM,EAAOD,QAAQ6M,OArCf,SAAgBzG,EAAQ0G,GACtB,IAAIC,EAAO/G,EAAQvE,EAAKuL,EAExB,GAAIF,EAGF,IAAKC,EAAQ,EAAG/G,GAFhBgH,EAAapM,OAAOqM,KAAKH,IAEW9G,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAEnE3G,EADA3E,EAAMuL,EAAWD,IACHD,EAAOrL,GAIzB,OAAO2E,IA2BP,IAAI8G,EAAE,CAAC,SAAS/K,EAAQlC,EAAOD,GACjC,aAIA,IAAImN,EAAsBhL,EAAQ,YAC9BoJ,EAAsBpJ,EAAQ,eAC9B+I,EAAsB/I,EAAQ,yBAC9B8I,EAAsB9I,EAAQ,yBAE9BiL,EAAkBxM,OAAOkB,UAAUsC,SACnCiJ,EAAkBzM,OAAOkB,UAAUC,eAyBnCuL,EAAmB,CAEvB,EAA2B,MAC3B,EAA2B,MAC3B,EAA2B,MAC3B,EAA2B,MAC3B,GAA2B,MAC3B,GAA2B,MAC3B,GAA2B,MAC3B,GAA2B,MAC3B,GAA2B,MAC3B,GAA2B,MAC3B,GAA2B,OAC3B,IAA2B,MAC3B,IAA2B,MAC3B,KAA2B,MAC3B,KAA2B,OAEvBC,EAA6B,CAC/B,IAAK,IAAK,MAAO,MAAO,MAAO,KAAM,KAAM,KAC3C,IAAK,IAAK,KAAM,KAAM,KAAM,MAAO,MAAO,OA8B5C,SAASC,EAAUC,GACjB,IAAIpB,EAAQqB,EAAQ1H,EAIpB,GAFAqG,EAASoB,EAAUrJ,SAAS,IAAIuJ,cAE5BF,GAAa,IACfC,EAAS,IACT1H,EAAS,OACJ,GAAIyH,GAAa,MACtBC,EAAS,IACT1H,EAAS,MACJ,MAAIyH,GAAa,YAItB,MAAM,IAAIlC,EAAc,iEAHxBmC,EAAS,IACT1H,EAAS,EAKX,MAAO,KAAO0H,EAASP,EAAOf,OAAO,IAAKpG,EAASqG,EAAOrG,QAAUqG,EAGtE,SAASuB,EAAMlF,GACbhG,KAAKmL,OAAgBnF,EAAgB,QAAKwC,EAC1CxI,KAAKoL,OAAgB5J,KAAK6J,IAAI,EAAIrF,EAAgB,QAAK,GACvDhG,KAAKsL,cAAgBtF,EAAuB,gBAAK,EACjDhG,KAAKuL,YAAgBvF,EAAqB,cAAK,EAC/ChG,KAAKwL,UAAiBf,EAAOrB,UAAUpD,EAAmB,YAAM,EAAIA,EAAmB,UACvFhG,KAAKyL,SAtDP,SAAyBN,EAAQvI,GAC/B,IAAIkH,EAAQS,EAAMF,EAAO/G,EAAQoI,EAAKC,EAAOrL,EAE7C,GAAY,OAARsC,EAAc,MAAO,GAKzB,IAHAkH,EAAS,GAGJO,EAAQ,EAAG/G,GAFhBiH,EAAOrM,OAAOqM,KAAK3H,IAEWU,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAC7DqB,EAAMnB,EAAKF,GACXsB,EAAQC,OAAOhJ,EAAI8I,IAEK,OAApBA,EAAIG,MAAM,EAAG,KACfH,EAAM,qBAAuBA,EAAIG,MAAM,KAEzCvL,EAAO6K,EAAOW,gBAA0B,SAAEJ,KAE9Bf,EAAgBhN,KAAK2C,EAAKyL,aAAcJ,KAClDA,EAAQrL,EAAKyL,aAAaJ,IAG5B7B,EAAO4B,GAAOC,EAGhB,OAAO7B,EA8BckC,CAAgBhM,KAAKmL,OAAQnF,EAAgB,QAAK,MACvEhG,KAAKiM,SAAgBjG,EAAkB,WAAK,EAC5ChG,KAAKkM,UAAgBlG,EAAmB,WAAK,GAC7ChG,KAAKmM,OAAgBnG,EAAgB,SAAK,EAC1ChG,KAAKoM,aAAgBpG,EAAsB,eAAK,EAChDhG,KAAKqM,aAAgBrG,EAAsB,eAAK,EAEhDhG,KAAKsM,cAAgBtM,KAAKmL,OAAOoB,iBACjCvM,KAAKwM,cAAgBxM,KAAKmL,OAAOsB,iBAEjCzM,KAAK0L,IAAM,KACX1L,KAAK8J,OAAS,GAEd9J,KAAK0M,WAAa,GAClB1M,KAAK2M,eAAiB,KAIxB,SAASC,EAAajD,EAAQkD,GAQ5B,IAPA,IAIIC,EAJAC,EAAMtC,EAAOf,OAAO,IAAKmD,GACzBG,EAAW,EACXC,GAAQ,EACRnD,EAAS,GAETxG,EAASqG,EAAOrG,OAEb0J,EAAW1J,IAEF,KADd2J,EAAOtD,EAAOuD,QAAQ,KAAMF,KAE1BF,EAAOnD,EAAOkC,MAAMmB,GACpBA,EAAW1J,IAEXwJ,EAAOnD,EAAOkC,MAAMmB,EAAUC,EAAO,GACrCD,EAAWC,EAAO,GAGhBH,EAAKxJ,QAAmB,OAATwJ,IAAehD,GAAUiD,GAE5CjD,GAAUgD,EAGZ,OAAOhD,EAGT,SAASqD,EAAiBC,EAAOC,GAC/B,MAAO,KAAO5C,EAAOf,OAAO,IAAK0D,EAAMhC,OAASiC,GAkBlD,SAASC,EAAazP,GACpB,OAlK8B,KAkKvBA,GApKuB,IAoKHA,EAO7B,SAAS0P,EAAY1P,GACnB,OAAS,IAAWA,GAAKA,GAAK,KACrB,KAAWA,GAAKA,GAAK,OAAmB,OAANA,GAAsB,OAANA,GAClD,OAAWA,GAAKA,GAAK,OAAmB,QAANA,GAClC,OAAWA,GAAKA,GAAK,QAIhC,SAAS2P,EAAY3P,GAGnB,OAAO0P,EAAY1P,IAAY,QAANA,GA5KK,KA8KzBA,GAxKyB,KAyKzBA,GAxKyB,KAyKzBA,GAvKyB,MAwKzBA,GAtKyB,MAuKzBA,GAhLyB,KAkLzBA,GAzLyB,KA0LzBA,EAmCP,SAAS4P,EAAoB9D,GAE3B,MADqB,QACC+D,KAAK/D,GAgB7B,SAASgE,EAAkBhE,EAAQiE,EAAgBC,EAAgB3B,EAAW4B,GAC5E,IAAItQ,EACAuQ,EAnDoBlQ,EAoDpBmQ,GAAe,EACfC,GAAkB,EAClBC,GAAkC,IAAfhC,EACnBiC,GAAqB,EACrBC,EArDGb,EAHiB1P,EAwDK8L,EAAO0E,WAAW,KArDhB,QAANxQ,IACnByP,EAAazP,IA5LW,KA+LzBA,GA5LyB,KA6LzBA,GA/LyB,KAgMzBA,GAlMyB,KAmMzBA,GA7LyB,KA8LzBA,GA7LyB,KA8LzBA,GA5LyB,MA6LzBA,GA3LyB,MA4LzBA,GA5MyB,KA8MzBA,GA5MyB,KA6MzBA,GA3MyB,KA4MzBA,GAlNyB,KAmNzBA,GAlMyB,MAmMzBA,GA1MyB,KA2MzBA,GAhNyB,KAiNzBA,GArNyB,KAsNzBA,GApNyB,KAsNzBA,GA7MyB,KA8MzBA,GA3MyB,KA4MzBA,IA8BOyP,EAAa3D,EAAO0E,WAAW1E,EAAOrG,OAAS,IAE3D,GAAIsK,EAGF,IAAKpQ,EAAI,EAAGA,EAAImM,EAAOrG,OAAQ9F,IAAK,CAElC,IAAK+P,EADLQ,EAAOpE,EAAO0E,WAAW7Q,IAEvB,OAzBY,EA2Bd4Q,EAAQA,GAASZ,EAAYO,OAE1B,CAEL,IAAKvQ,EAAI,EAAGA,EAAImM,EAAOrG,OAAQ9F,IAAK,CAElC,GA3Q0B,MA0Q1BuQ,EAAOpE,EAAO0E,WAAW7Q,IAEvBwQ,GAAe,EAEXE,IACFD,EAAkBA,GAEfzQ,EAAI2Q,EAAoB,EAAIjC,GACM,MAAlCvC,EAAOwE,EAAoB,GAC9BA,EAAoB3Q,QAEjB,IAAK+P,EAAYQ,GACtB,OA5CY,EA8CdK,EAAQA,GAASZ,EAAYO,GAG/BE,EAAkBA,GAAoBC,GACnC1Q,EAAI2Q,EAAoB,EAAIjC,GACM,MAAlCvC,EAAOwE,EAAoB,GAKhC,OAAKH,GAAiBC,EAOlBJ,EAAiB,GAAKJ,EAAoB9D,GA/D5B,EAoEXsE,EArEW,EADA,EA6DTG,IAAUN,EAAkBnE,GA/DnB,EACA,EAgFpB,SAAS2E,EAAYlB,EAAOzD,EAAQ0D,EAAOkB,GACzCnB,EAAMzE,KAAQ,WACZ,GAAsB,IAAlBgB,EAAOrG,OACT,MAAO,KAET,IAAK8J,EAAMhB,eACyC,IAAhDvB,EAA2BqC,QAAQvD,GACrC,MAAO,IAAMA,EAAS,IAGxB,IAAIyB,EAASgC,EAAMhC,OAAS5J,KAAK6J,IAAI,EAAGgC,GAQpCnB,GAAiC,IAArBkB,EAAMlB,WACjB,EAAI1K,KAAK6J,IAAI7J,KAAKgN,IAAIpB,EAAMlB,UAAW,IAAKkB,EAAMlB,UAAYd,GAG/DwC,EAAiBW,GAEfnB,EAAM5B,WAAa,GAAK6B,GAASD,EAAM5B,UAK7C,OAAQmC,EAAkBhE,EAAQiE,EAAgBR,EAAMhC,OAAQc,GAJhE,SAAuBvC,GACrB,OA9LN,SAA+ByD,EAAOqB,GACpC,IAAIpE,EAAO/G,EAEX,IAAK+G,EAAQ,EAAG/G,EAAS8J,EAAMd,cAAchJ,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAG5E,GAFO+C,EAAMd,cAAcjC,GAElBxD,QAAQ4H,GACf,OAAO,EAIX,OAAO,EAmLIC,CAAsBtB,EAAOzD,OAIpC,KA/Gc,EAgHZ,OAAOA,EACT,KAhHc,EAiHZ,MAAO,IAAMA,EAAOgF,QAAQ,KAAM,MAAQ,IAC5C,KAjHc,EAkHZ,MAAO,IAAMC,EAAYjF,EAAQyD,EAAMhC,QACnCyD,EAAkBjC,EAAajD,EAAQyB,IAC7C,KAnHc,EAoHZ,MAAO,IAAMwD,EAAYjF,EAAQyD,EAAMhC,QACnCyD,EAAkBjC,EA4B9B,SAAoBjD,EAAQmF,GAoB1B,IAfA,IAWIC,EAGAC,EAVEC,EAJFC,EAAS,iBAGTpF,GAEFmF,GAAqB,KADjBA,EAAStF,EAAOuD,QAAQ,OACH+B,EAAStF,EAAOrG,OACzC4L,EAAOC,UAAYF,EACZG,EAASzF,EAAOkC,MAAM,EAAGoD,GAASH,IAGvCO,EAAiC,OAAd1F,EAAO,IAA6B,MAAdA,EAAO,GAK5CqF,EAAQE,EAAOvH,KAAKgC,IAAU,CACpC,IAAI2F,EAASN,EAAM,GAAIlC,EAAOkC,EAAM,GACpCD,EAA4B,MAAZjC,EAAK,GACrBhD,GAAUwF,GACJD,GAAqBN,GAAyB,KAATjC,EAC9B,GAAP,MACFsC,EAAStC,EAAMgC,GACnBO,EAAmBN,EAGrB,OAAOjF,EA1DkCyF,CAAW5F,EAAQuC,GAAYd,IACpE,KArHc,EAsHZ,MAAO,IAuGf,SAAsBzB,GAKpB,IAJA,IACIoE,EAAMyB,EACNC,EAFA3F,EAAS,GAIJtM,EAAI,EAAGA,EAAImM,EAAOrG,OAAQ9F,KACjCuQ,EAAOpE,EAAO0E,WAAW7Q,KAEb,OAAUuQ,GAAQ,QAC5ByB,EAAW7F,EAAO0E,WAAW7Q,EAAI,KACjB,OAAUgS,GAAY,OAEpC1F,GAAUgB,EAA4B,MAAjBiD,EAAO,OAAkByB,EAAW,MAAS,OAElEhS,MAGJiS,EAAY7E,EAAiBmD,GAC7BjE,IAAW2F,GAAalC,EAAYQ,GAChCpE,EAAOnM,GACPiS,GAAa3E,EAAUiD,IAG7B,OAAOjE,EA9HY4F,CAAa/F,GAAqB,IACjD,QACE,MAAM,IAAId,EAAc,2CA1CjB,GAgDf,SAAS+F,EAAYjF,EAAQkE,GAC3B,IAAI8B,EAAkBlC,EAAoB9D,GAAUiC,OAAOiC,GAAkB,GAGzE+B,EAA8C,OAA9BjG,EAAOA,EAAOrG,OAAS,GAI3C,OAAOqM,IAHIC,GAAuC,OAA9BjG,EAAOA,EAAOrG,OAAS,IAA0B,OAAXqG,EAChCiG,EAAO,GAAK,IAAnB,KAEc,KAInC,SAASf,EAAkBlF,GACzB,MAAqC,OAA9BA,EAAOA,EAAOrG,OAAS,GAAcqG,EAAOkC,MAAM,GAAI,GAAKlC,EA0CpE,SAASyF,EAAStC,EAAMgC,GACtB,GAAa,KAAThC,GAA2B,MAAZA,EAAK,GAAY,OAAOA,EAa3C,IAVA,IACIkC,EAEWa,EAHXC,EAAU,SAGVC,EAAQ,EAAQC,EAAO,EAAG/C,EAAO,EACjCnD,EAAS,GAMLkF,EAAQc,EAAQnI,KAAKmF,KAC3BG,EAAO+B,EAAM3E,OAEF0F,EAAQjB,IACjBe,EAAOG,EAAOD,EAASC,EAAO/C,EAC9BnD,GAAU,KAAOgD,EAAKjB,MAAMkE,EAAOF,GAEnCE,EAAQF,EAAM,GAEhBG,EAAO/C,EAaT,OARAnD,GAAU,KAENgD,EAAKxJ,OAASyM,EAAQjB,GAASkB,EAAOD,EACxCjG,GAAUgD,EAAKjB,MAAMkE,EAAOC,GAAQ,KAAOlD,EAAKjB,MAAMmE,EAAO,GAE7DlG,GAAUgD,EAAKjB,MAAMkE,GAGhBjG,EAAO+B,MAAM,GA6LtB,SAASoE,EAAW7C,EAAOlO,EAAQgR,GACjC,IAAIC,EAASC,EAAU/F,EAAO/G,EAAQhD,EAAMqL,EAI5C,IAAKtB,EAAQ,EAAG/G,GAFhB8M,EAAWF,EAAW9C,EAAMZ,cAAgBY,EAAMd,eAEhBhJ,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAGjE,KAFA/J,EAAO8P,EAAS/F,IAENgG,YAAe/P,EAAKgQ,cACxBhQ,EAAK+P,YAAkC,iBAAXnR,GAAyBA,aAAkBoB,EAAK+P,eAC5E/P,EAAKgQ,WAAchQ,EAAKgQ,UAAUpR,IAAU,CAIhD,GAFAkO,EAAM1B,IAAMwE,EAAW5P,EAAKoL,IAAM,IAE9BpL,EAAKiQ,UAAW,CAGlB,GAFA5E,EAAQyB,EAAM3B,SAASnL,EAAKoL,MAAQpL,EAAKkQ,aAEF,sBAAnC9F,EAAU/M,KAAK2C,EAAKiQ,WACtBJ,EAAU7P,EAAKiQ,UAAUrR,EAAQyM,OAC5B,KAAIhB,EAAgBhN,KAAK2C,EAAKiQ,UAAW5E,GAG9C,MAAM,IAAI9C,EAAc,KAAOvI,EAAKoL,IAAM,+BAAiCC,EAAQ,WAFnFwE,EAAU7P,EAAKiQ,UAAU5E,GAAOzM,EAAQyM,GAK1CyB,EAAMzE,KAAOwH,EAGf,OAAO,EAIX,OAAO,EAMT,SAASM,EAAUrD,EAAOC,EAAOnO,EAAQwR,EAAOC,EAASpC,GACvDnB,EAAM1B,IAAM,KACZ0B,EAAMzE,KAAOzJ,EAER+Q,EAAW7C,EAAOlO,GAAQ,IAC7B+Q,EAAW7C,EAAOlO,GAAQ,GAG5B,IAAIoB,EAAOoK,EAAU/M,KAAKyP,EAAMzE,MAE5B+H,IACFA,EAAStD,EAAM5B,UAAY,GAAK4B,EAAM5B,UAAY6B,GAGpD,IACIuD,EACAC,EAFAC,EAAyB,oBAATxQ,GAAuC,mBAATA,EAalD,GATIwQ,IAEFD,GAAgC,KADhCD,EAAiBxD,EAAMV,WAAWQ,QAAQhO,MAIzB,OAAdkO,EAAM1B,KAA8B,MAAd0B,EAAM1B,KAAgBmF,GAA+B,IAAjBzD,EAAMhC,QAAgBiC,EAAQ,KAC3FsD,GAAU,GAGRE,GAAazD,EAAMT,eAAeiE,GACpCxD,EAAMzE,KAAO,QAAUiI,MAClB,CAIL,GAHIE,GAAiBD,IAAczD,EAAMT,eAAeiE,KACtDxD,EAAMT,eAAeiE,IAAkB,GAE5B,oBAATtQ,EACEoQ,GAA6C,IAAnCxS,OAAOqM,KAAK6C,EAAMzE,MAAMrF,QAlJ5C,SAA2B8J,EAAOC,EAAOnO,EAAQyR,GAC/C,IAGItG,EACA/G,EACAyN,EACAC,EACAC,EACAC,EARAf,EAAgB,GAChBgB,EAAgB/D,EAAM1B,IACtB0F,EAAgBlT,OAAOqM,KAAKrL,GAShC,IAAuB,IAAnBkO,EAAMnB,SAERmF,EAAcC,YACT,GAA8B,mBAAnBjE,EAAMnB,SAEtBmF,EAAcC,KAAKjE,EAAMnB,eACpB,GAAImB,EAAMnB,SAEf,MAAM,IAAIpD,EAAc,4CAG1B,IAAKwB,EAAQ,EAAG/G,EAAS8N,EAAc9N,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EACtE6G,EAAa,GAERP,GAAqB,IAAVtG,IACd6G,GAAc/D,EAAiBC,EAAOC,IAIxC2D,EAAc9R,EADd6R,EAAYK,EAAc/G,IAGrBoG,EAAUrD,EAAOC,EAAQ,EAAG0D,GAAW,GAAM,GAAM,MAIxDE,EAA8B,OAAd7D,EAAM1B,KAA8B,MAAd0B,EAAM1B,KAC5B0B,EAAMzE,MAAQyE,EAAMzE,KAAKrF,OAAS,QAG5C8J,EAAMzE,MA/lBgB,KA+lBWyE,EAAMzE,KAAK0F,WAAW,GACzD6C,GAAc,IAEdA,GAAc,MAIlBA,GAAc9D,EAAMzE,KAEhBsI,IACFC,GAAc/D,EAAiBC,EAAOC,IAGnCoD,EAAUrD,EAAOC,EAAQ,EAAG2D,GAAa,EAAMC,KAIhD7D,EAAMzE,MAhnBkB,KAgnBSyE,EAAMzE,KAAK0F,WAAW,GACzD6C,GAAc,IAEdA,GAAc,KAMhBf,GAHAe,GAAc9D,EAAMzE,OAMtByE,EAAM1B,IAAMyF,EACZ/D,EAAMzE,KAAOwH,GAAW,KA4ElBmB,CAAkBlE,EAAOC,EAAOD,EAAMzE,KAAMgI,GACxCE,IACFzD,EAAMzE,KAAO,QAAUiI,EAAiBxD,EAAMzE,QA7LxD,SAA0ByE,EAAOC,EAAOnO,GACtC,IAGImL,EACA/G,EACAyN,EACAC,EACAE,EAPAf,EAAgB,GAChBgB,EAAgB/D,EAAM1B,IACtB0F,EAAgBlT,OAAOqM,KAAKrL,GAOhC,IAAKmL,EAAQ,EAAG/G,EAAS8N,EAAc9N,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EACtE6G,EAAa9D,EAAMf,aAAe,IAAM,GAE1B,IAAVhC,IAAa6G,GAAc,MAG/BF,EAAc9R,EADd6R,EAAYK,EAAc/G,IAGrBoG,EAAUrD,EAAOC,EAAO0D,GAAW,GAAO,KAI3C3D,EAAMzE,KAAKrF,OAAS,OAAM4N,GAAc,MAE5CA,GAAc9D,EAAMzE,MAAQyE,EAAMf,aAAe,IAAM,IAAM,KAAOe,EAAMf,aAAe,GAAK,KAEzFoE,EAAUrD,EAAOC,EAAO2D,GAAa,GAAO,KAOjDb,GAHAe,GAAc9D,EAAMzE,OAMtByE,EAAM1B,IAAMyF,EACZ/D,EAAMzE,KAAO,IAAMwH,EAAU,IA2JvBoB,CAAiBnE,EAAOC,EAAOD,EAAMzE,MACjCkI,IACFzD,EAAMzE,KAAO,QAAUiI,EAAiB,IAAMxD,EAAMzE,YAGnD,GAAa,mBAATrI,EAA2B,CACpC,IAAIkR,EAAcpE,EAAM9B,eAAkB+B,EAAQ,EAAMA,EAAQ,EAAIA,EAChEqD,GAAgC,IAAtBtD,EAAMzE,KAAKrF,QAlO/B,SAA4B8J,EAAOC,EAAOnO,EAAQyR,GAChD,IAEItG,EACA/G,EAHA6M,EAAU,GACVgB,EAAU/D,EAAM1B,IAIpB,IAAKrB,EAAQ,EAAG/G,EAASpE,EAAOoE,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAE3DoG,EAAUrD,EAAOC,EAAQ,EAAGnO,EAAOmL,IAAQ,GAAM,KAC9CsG,GAAqB,IAAVtG,IACd8F,GAAWhD,EAAiBC,EAAOC,IAGjCD,EAAMzE,MAhgBgB,KAggBWyE,EAAMzE,KAAK0F,WAAW,GACzD8B,GAAW,IAEXA,GAAW,KAGbA,GAAW/C,EAAMzE,MAIrByE,EAAM1B,IAAMyF,EACZ/D,EAAMzE,KAAOwH,GAAW,KA2MlBsB,CAAmBrE,EAAOoE,EAAYpE,EAAMzE,KAAMgI,GAC9CE,IACFzD,EAAMzE,KAAO,QAAUiI,EAAiBxD,EAAMzE,QAvPxD,SAA2ByE,EAAOC,EAAOnO,GACvC,IAEImL,EACA/G,EAHA6M,EAAU,GACVgB,EAAU/D,EAAM1B,IAIpB,IAAKrB,EAAQ,EAAG/G,EAASpE,EAAOoE,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAE3DoG,EAAUrD,EAAOC,EAAOnO,EAAOmL,IAAQ,GAAO,KAClC,IAAVA,IAAa8F,GAAW,KAAQ/C,EAAMf,aAAqB,GAAN,MACzD8D,GAAW/C,EAAMzE,MAIrByE,EAAM1B,IAAMyF,EACZ/D,EAAMzE,KAAO,IAAMwH,EAAU,IA2OvBuB,CAAkBtE,EAAOoE,EAAYpE,EAAMzE,MACvCkI,IACFzD,EAAMzE,KAAO,QAAUiI,EAAiB,IAAMxD,EAAMzE,WAGnD,IAAa,oBAATrI,EAIJ,CACL,GAAI8M,EAAM7B,YAAa,OAAO,EAC9B,MAAM,IAAI1C,EAAc,0CAA4CvI,GALlD,MAAd8M,EAAM1B,KACR4C,EAAYlB,EAAOA,EAAMzE,KAAM0E,EAAOkB,GAOxB,OAAdnB,EAAM1B,KAA8B,MAAd0B,EAAM1B,MAC9B0B,EAAMzE,KAAO,KAAOyE,EAAM1B,IAAM,KAAO0B,EAAMzE,MAIjD,OAAO,EAGT,SAASgJ,EAAuBzS,EAAQkO,GACtC,IAEI/C,EACA/G,EAHAsO,EAAU,GACVC,EAAoB,GAMxB,IAMF,SAASC,EAAY5S,EAAQ0S,EAASC,GACpC,IAAIT,EACA/G,EACA/G,EAEJ,GAAe,OAAXpE,GAAqC,iBAAXA,EAE5B,IAAe,KADfmL,EAAQuH,EAAQ1E,QAAQhO,KAEoB,IAAtC2S,EAAkB3E,QAAQ7C,IAC5BwH,EAAkB9O,KAAKsH,QAKzB,GAFAuH,EAAQ7O,KAAK7D,GAETsD,MAAMiH,QAAQvK,GAChB,IAAKmL,EAAQ,EAAG/G,EAASpE,EAAOoE,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAC/DyH,EAAY5S,EAAOmL,GAAQuH,EAASC,QAKtC,IAFAT,EAAgBlT,OAAOqM,KAAKrL,GAEvBmL,EAAQ,EAAG/G,EAAS8N,EAAc9N,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EACtEyH,EAAY5S,EAAOkS,EAAc/G,IAASuH,EAASC,GA9B3DC,CAAY5S,EAAQ0S,EAASC,GAExBxH,EAAQ,EAAG/G,EAASuO,EAAkBvO,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAC1E+C,EAAMV,WAAW3J,KAAK6O,EAAQC,EAAkBxH,KAElD+C,EAAMT,eAAiB,IAAInK,MAAMc,GAgCnC,SAASqF,EAAKoJ,EAAO/L,GAGnB,IAAIoH,EAAQ,IAAIlC,EAFhBlF,EAAUA,GAAW,IAMrB,OAFKoH,EAAMjB,QAAQwF,EAAuBI,EAAO3E,GAE7CqD,EAAUrD,EAAO,EAAG2E,GAAO,GAAM,GAAc3E,EAAMzE,KAAO,KAEzD,GAOTpL,EAAOD,QAAQqL,KAAWA,EAC1BpL,EAAOD,QAAQsL,SALf,SAAkBmJ,EAAO/L,GACvB,OAAO2C,EAAKoJ,EAAOtH,EAAON,OAAO,CAAEgB,OAAQ5C,GAAuBvC,MAMlE,CAAC,WAAW,EAAE,cAAc,EAAE,wBAAwB,EAAE,wBAAwB,KAAKgM,EAAE,CAAC,SAASvS,EAAQlC,EAAOD,GAGlH,aAEA,SAASuL,EAAcoJ,EAAQC,GAE7BxR,MAAM/C,KAAKqC,MAEXA,KAAKjC,KAAO,gBACZiC,KAAKiS,OAASA,EACdjS,KAAKkS,KAAOA,EACZlS,KAAKmS,SAAWnS,KAAKiS,QAAU,qBAAuBjS,KAAKkS,KAAO,IAAMlS,KAAKkS,KAAKxQ,WAAa,IAG3FhB,MAAM0R,kBAER1R,MAAM0R,kBAAkBpS,KAAMA,KAAKyH,aAGnCzH,KAAKqS,OAAQ,IAAK3R,OAAS2R,OAAS,GAMxCxJ,EAAczJ,UAAYlB,OAAOY,OAAO4B,MAAMtB,WAC9CyJ,EAAczJ,UAAUqI,YAAcoB,EAGtCA,EAAczJ,UAAUsC,SAAW,SAAkBiP,GACnD,IAAI7G,EAAS9J,KAAKjC,KAAO,KAQzB,OANA+L,GAAU9J,KAAKiS,QAAU,oBAEpBtB,GAAW3Q,KAAKkS,OACnBpI,GAAU,IAAM9J,KAAKkS,KAAKxQ,YAGrBoI,GAITvM,EAAOD,QAAUuL,GAEf,IAAIyJ,EAAE,CAAC,SAAS7S,EAAQlC,EAAOD,GACjC,aAIA,IAAImN,EAAsBhL,EAAQ,YAC9BoJ,EAAsBpJ,EAAQ,eAC9B8S,EAAsB9S,EAAQ,UAC9B8I,EAAsB9I,EAAQ,yBAC9B+I,EAAsB/I,EAAQ,yBAG9BkL,EAAkBzM,OAAOkB,UAAUC,eAcnCmT,EAAgC,sIAChCC,EAAgC,qBAChCC,EAAgC,cAChCC,EAAgC,yBAChCC,EAAgC,mFAGpC,SAASC,EAAOC,GAAO,OAAO5U,OAAOkB,UAAUsC,SAAS/D,KAAKmV,GAE7D,SAASC,EAAOlV,GACd,OAAc,KAANA,GAA8B,KAANA,EAGlC,SAASmV,EAAenV,GACtB,OAAc,IAANA,GAA+B,KAANA,EAGnC,SAASoV,EAAapV,GACpB,OAAc,IAANA,GACM,KAANA,GACM,KAANA,GACM,KAANA,EAGV,SAASqV,EAAkBrV,GACzB,OAAa,KAANA,GACM,KAANA,GACM,KAANA,GACM,MAANA,GACM,MAANA,EAGT,SAASsV,EAAYtV,GACnB,IAAIuV,EAEJ,OAAK,IAAevV,GAAOA,GAAK,GACvBA,EAAI,GAMR,KAFLuV,EAAS,GAAJvV,IAEuBuV,GAAM,IACzBA,EAAK,GAAO,IAGb,EAkBV,SAASC,EAAqBxV,GAE5B,OAAc,KAANA,EAAqB,KAChB,KAANA,EAAqB,IACf,KAANA,EAAqB,KACf,MAANA,GACM,IAANA,EADqB,KAEf,MAANA,EAAqB,KACf,MAANA,EAAqB,KACf,MAANA,EAAqB,KACf,MAANA,EAAqB,KACf,MAANA,EAAqB,IACf,KAANA,EAAyB,IACnB,KAANA,EAAqB,IACf,KAANA,EAAqB,IACf,KAANA,EAAqB,KACf,KAANA,EAAqB,IACf,KAANA,EAAqB,IACf,KAANA,EAAqB,SACf,KAANA,EAAqB,SAAW,GAGzC,SAASyV,EAAkBzV,GACzB,OAAIA,GAAK,MACA+N,OAAO2H,aAAa1V,GAItB+N,OAAO2H,aACa,OAAvB1V,EAAI,OAAa,IACS,OAA1BA,EAAI,MAAY,OAMtB,IAFA,IAAI2V,EAAoB,IAAIhR,MAAM,KAC9BiR,EAAkB,IAAIjR,MAAM,KACvBhF,EAAI,EAAGA,EAAI,IAAKA,IACvBgW,EAAkBhW,GAAK6V,EAAqB7V,GAAK,EAAI,EACrDiW,EAAgBjW,GAAK6V,EAAqB7V,GAI5C,SAAS0N,EAAM6G,EAAO/L,GACpBhG,KAAK+R,MAAQA,EAEb/R,KAAK0T,SAAY1N,EAAkB,UAAM,KACzChG,KAAKmL,OAAYnF,EAAgB,QAAQwC,EACzCxI,KAAK2T,UAAY3N,EAAmB,WAAK,KACzChG,KAAK4T,OAAY5N,EAAgB,SAAQ,EACzChG,KAAKgH,KAAYhB,EAAc,OAAU,EACzChG,KAAK6T,SAAY7N,EAAkB,UAAM,KAEzChG,KAAKsM,cAAgBtM,KAAKmL,OAAOoB,iBACjCvM,KAAK8T,QAAgB9T,KAAKmL,OAAOW,gBAEjC9L,KAAKsD,OAAayO,EAAMzO,OACxBtD,KAAKgN,SAAa,EAClBhN,KAAK8M,KAAa,EAClB9M,KAAK+T,UAAa,EAClB/T,KAAKgU,WAAa,EAElBhU,KAAKiU,UAAY,GAenB,SAASC,EAAc9G,EAAO+E,GAC5B,OAAO,IAAItJ,EACTsJ,EACA,IAAII,EAAKnF,EAAMsG,SAAUtG,EAAM2E,MAAO3E,EAAMJ,SAAUI,EAAMN,KAAOM,EAAMJ,SAAWI,EAAM2G,YAG9F,SAASI,EAAW/G,EAAO+E,GACzB,MAAM+B,EAAc9G,EAAO+E,GAG7B,SAASiC,EAAahH,EAAO+E,GACvB/E,EAAMuG,WACRvG,EAAMuG,UAAUhW,KAAK,KAAMuW,EAAc9G,EAAO+E,IAKpD,IAAIkC,EAAoB,CAEtBC,KAAM,SAA6BlH,EAAOrP,EAAMwW,GAE9C,IAAIvF,EAAOwF,EAAOC,EAEI,OAAlBrH,EAAMsH,SACRP,EAAW/G,EAAO,kCAGA,IAAhBmH,EAAKjR,QACP6Q,EAAW/G,EAAO,+CAKN,QAFd4B,EAAQ,uBAAuBrH,KAAK4M,EAAK,MAGvCJ,EAAW/G,EAAO,6CAGpBoH,EAAQG,SAAS3F,EAAM,GAAI,IAC3ByF,EAAQE,SAAS3F,EAAM,GAAI,IAEb,IAAVwF,GACFL,EAAW/G,EAAO,6CAGpBA,EAAMsH,QAAUH,EAAK,GACrBnH,EAAMwH,gBAAmBH,EAAQ,EAEnB,IAAVA,GAAyB,IAAVA,GACjBL,EAAahH,EAAO,6CAIxByH,IAAK,SAA4BzH,EAAOrP,EAAMwW,GAE5C,IAAIvJ,EAAQsE,EAEQ,IAAhBiF,EAAKjR,QACP6Q,EAAW/G,EAAO,+CAGpBpC,EAASuJ,EAAK,GACdjF,EAASiF,EAAK,GAET5B,EAAmBjF,KAAK1C,IAC3BmJ,EAAW/G,EAAO,+DAGhBzC,EAAgBhN,KAAKyP,EAAM0H,OAAQ9J,IACrCmJ,EAAW/G,EAAO,8CAAgDpC,EAAS,gBAGxE4H,EAAgBlF,KAAK4B,IACxB6E,EAAW/G,EAAO,gEAGpBA,EAAM0H,OAAO9J,GAAUsE,IAK3B,SAASyF,EAAe3H,EAAO2C,EAAOF,EAAKmF,GACzC,IAAIC,EAAWC,EAASC,EAAYhF,EAEpC,GAAIJ,EAAQF,EAAK,CAGf,GAFAM,EAAU/C,EAAM2E,MAAMlG,MAAMkE,EAAOF,GAE/BmF,EACF,IAAKC,EAAY,EAAGC,EAAU/E,EAAQ7M,OAAQ2R,EAAYC,EAASD,GAAa,EAEzD,KADrBE,EAAahF,EAAQ9B,WAAW4G,KAEzB,IAAQE,GAAcA,GAAc,SACzChB,EAAW/G,EAAO,sCAGboF,EAAsB9E,KAAKyC,IACpCgE,EAAW/G,EAAO,gDAGpBA,EAAMtD,QAAUqG,GAIpB,SAASiF,EAAchI,EAAOiI,EAAajL,EAAQkL,GACjD,IAAIhL,EAAYvL,EAAKsL,EAAOkL,EAQ5B,IANK9K,EAAOnB,SAASc,IACnB+J,EAAW/G,EAAO,qEAKf/C,EAAQ,EAAGkL,GAFhBjL,EAAapM,OAAOqM,KAAKH,IAEa9G,OAAQ+G,EAAQkL,EAAUlL,GAAS,EACvEtL,EAAMuL,EAAWD,GAEZM,EAAgBhN,KAAK0X,EAAatW,KACrCsW,EAAYtW,GAAOqL,EAAOrL,GAC1BuW,EAAgBvW,IAAO,GAK7B,SAASyW,EAAiBpI,EAAO+C,EAASmF,EAAiBG,EAAQC,EAASC,EAAWC,EAAWC,GAChG,IAAIxL,EAAOkL,EAKX,GAAI/S,MAAMiH,QAAQiM,GAGhB,IAAKrL,EAAQ,EAAGkL,GAFhBG,EAAUlT,MAAMpD,UAAUyM,MAAMlO,KAAK+X,IAEFpS,OAAQ+G,EAAQkL,EAAUlL,GAAS,EAChE7H,MAAMiH,QAAQiM,EAAQrL,KACxB8J,EAAW/G,EAAO,+CAGG,iBAAZsI,GAAmD,oBAA3B7C,EAAO6C,EAAQrL,MAChDqL,EAAQrL,GAAS,mBAmBvB,GAXuB,iBAAZqL,GAA4C,oBAApB7C,EAAO6C,KACxCA,EAAU,mBAIZA,EAAU9J,OAAO8J,GAED,OAAZvF,IACFA,EAAU,IAGG,4BAAXsF,EACF,GAAIjT,MAAMiH,QAAQkM,GAChB,IAAKtL,EAAQ,EAAGkL,EAAWI,EAAUrS,OAAQ+G,EAAQkL,EAAUlL,GAAS,EACtE+K,EAAchI,EAAO+C,EAASwF,EAAUtL,GAAQiL,QAGlDF,EAAchI,EAAO+C,EAASwF,EAAWL,QAGtClI,EAAMpG,MACN2D,EAAgBhN,KAAK2X,EAAiBI,KACvC/K,EAAgBhN,KAAKwS,EAASuF,KAChCtI,EAAMN,KAAO8I,GAAaxI,EAAMN,KAChCM,EAAMJ,SAAW6I,GAAYzI,EAAMJ,SACnCmH,EAAW/G,EAAO,2BAEpB+C,EAAQuF,GAAWC,SACZL,EAAgBI,GAGzB,OAAOvF,EAGT,SAAS2F,EAAc1I,GACrB,IAAI2I,EAIO,MAFXA,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAGhCI,EAAMJ,WACU,KAAP+I,GACT3I,EAAMJ,WACyC,KAA3CI,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAC/BI,EAAMJ,YAGRmH,EAAW/G,EAAO,4BAGpBA,EAAMN,MAAQ,EACdM,EAAM2G,UAAY3G,EAAMJ,SAG1B,SAASgJ,EAAoB5I,EAAO6I,EAAeC,GAIjD,IAHA,IAAIC,EAAa,EACbJ,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,UAExB,IAAP+I,GAAU,CACf,KAAO/C,EAAe+C,IACpBA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAGtC,GAAIiJ,GAAwB,KAAPF,EACnB,GACEA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,gBACtB,KAAP+I,GAA8B,KAAPA,GAA8B,IAAPA,GAGzD,IAAIhD,EAAOgD,GAYT,MALA,IANAD,EAAc1I,GAEd2I,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,UAClCmJ,IACA/I,EAAM4G,WAAa,EAEL,KAAP+B,GACL3I,EAAM4G,aACN+B,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAW1C,OAJqB,IAAjBkJ,GAAqC,IAAfC,GAAoB/I,EAAM4G,WAAakC,GAC/D9B,EAAahH,EAAO,yBAGf+I,EAGT,SAASC,EAAsBhJ,GAC7B,IACI2I,EADAd,EAAY7H,EAAMJ,SAOtB,QAAY,MAJZ+I,EAAK3I,EAAM2E,MAAM1D,WAAW4G,KAIM,KAAPc,GACvBA,IAAO3I,EAAM2E,MAAM1D,WAAW4G,EAAY,IAC1Cc,IAAO3I,EAAM2E,MAAM1D,WAAW4G,EAAY,KAE5CA,GAAa,EAIF,KAFXc,EAAK3I,EAAM2E,MAAM1D,WAAW4G,MAEZhC,EAAa8C,KAQjC,SAASM,EAAiBjJ,EAAOxD,GACjB,IAAVA,EACFwD,EAAMtD,QAAU,IACPF,EAAQ,IACjBwD,EAAMtD,QAAUW,EAAOf,OAAO,KAAME,EAAQ,IAsehD,SAAS0M,EAAkBlJ,EAAOmJ,GAChC,IAAIC,EAMAT,EALA5E,EAAY/D,EAAM1B,IAClB+K,EAAYrJ,EAAMsJ,OAClBvG,EAAY,GAEZwG,GAAY,EAShB,IANqB,OAAjBvJ,EAAMsJ,SACRtJ,EAAMwJ,UAAUxJ,EAAMsJ,QAAUvG,GAGlC4F,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,UAEpB,IAAP+I,GAEM,KAAPA,GAMC9C,EAFO7F,EAAM2E,MAAM1D,WAAWjB,EAAMJ,SAAW,KASpD,GAHA2J,GAAW,EACXvJ,EAAMJ,WAEFgJ,EAAoB5I,GAAO,GAAO,IAChCA,EAAM4G,YAAcuC,EACtBpG,EAAQpN,KAAK,MACbgT,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,eAYtC,GAPAwJ,EAAQpJ,EAAMN,KACd+J,EAAYzJ,EAAOmJ,EA16BC,GA06B6B,GAAO,GACxDpG,EAAQpN,KAAKqK,EAAMtD,QACnBkM,EAAoB5I,GAAO,GAAO,GAElC2I,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAE7BI,EAAMN,OAAS0J,GAASpJ,EAAM4G,WAAauC,IAAuB,IAAPR,EAC9D5B,EAAW/G,EAAO,4CACb,GAAIA,EAAM4G,WAAauC,EAC5B,MAIJ,QAAII,IACFvJ,EAAM1B,IAAMyF,EACZ/D,EAAMsJ,OAASD,EACfrJ,EAAM0J,KAAO,WACb1J,EAAMtD,OAASqG,GACR,GAgKX,SAAS4G,EAAgB3J,GACvB,IAAI6H,EAGA+B,EACAC,EACAlB,EAJAmB,GAAa,EACbC,GAAa,EAOjB,GAAW,MAFXpB,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAEV,OAAO,EAuB/B,GArBkB,OAAdI,EAAM1B,KACRyI,EAAW/G,EAAO,iCAKT,MAFX2I,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,YAGlCkK,GAAa,EACbnB,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,WAEpB,KAAP+I,GACToB,GAAU,EACVH,EAAY,KACZjB,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,WAGpCgK,EAAY,IAGd/B,EAAY7H,EAAMJ,SAEdkK,EAAY,CACd,GAAKnB,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,gBAC3B,IAAP+I,GAAmB,KAAPA,GAEf3I,EAAMJ,SAAWI,EAAM9J,QACzB2T,EAAU7J,EAAM2E,MAAMlG,MAAMoJ,EAAW7H,EAAMJ,UAC7C+I,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,WAEpCmH,EAAW/G,EAAO,0DAEf,CACL,KAAc,IAAP2I,IAAa9C,EAAa8C,IAEpB,KAAPA,IACGoB,EAUHhD,EAAW/G,EAAO,gDATlB4J,EAAY5J,EAAM2E,MAAMlG,MAAMoJ,EAAY,EAAG7H,EAAMJ,SAAW,GAEzD2F,EAAmBjF,KAAKsJ,IAC3B7C,EAAW/G,EAAO,mDAGpB+J,GAAU,EACVlC,EAAY7H,EAAMJ,SAAW,IAMjC+I,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAGtCiK,EAAU7J,EAAM2E,MAAMlG,MAAMoJ,EAAW7H,EAAMJ,UAEzC0F,EAAwBhF,KAAKuJ,IAC/B9C,EAAW/G,EAAO,uDAwBtB,OApBI6J,IAAYrE,EAAgBlF,KAAKuJ,IACnC9C,EAAW/G,EAAO,4CAA8C6J,GAG9DC,EACF9J,EAAM1B,IAAMuL,EAEHtM,EAAgBhN,KAAKyP,EAAM0H,OAAQkC,GAC5C5J,EAAM1B,IAAM0B,EAAM0H,OAAOkC,GAAaC,EAEf,MAAdD,EACT5J,EAAM1B,IAAM,IAAMuL,EAEK,OAAdD,EACT5J,EAAM1B,IAAM,qBAAuBuL,EAGnC9C,EAAW/G,EAAO,0BAA4B4J,EAAY,MAGrD,EAGT,SAASI,EAAmBhK,GAC1B,IAAI6H,EACAc,EAIJ,GAAW,MAFXA,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAEV,OAAO,EAS/B,IAPqB,OAAjBI,EAAMsJ,QACRvC,EAAW/G,EAAO,qCAGpB2I,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UACpCiI,EAAY7H,EAAMJ,SAEJ,IAAP+I,IAAa9C,EAAa8C,KAAQ7C,EAAkB6C,IACzDA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAQtC,OALII,EAAMJ,WAAaiI,GACrBd,EAAW/G,EAAO,8DAGpBA,EAAMsJ,OAAStJ,EAAM2E,MAAMlG,MAAMoJ,EAAW7H,EAAMJ,WAC3C,EAiCT,SAAS6J,EAAYzJ,EAAOiK,EAAcC,EAAaC,EAAaC,GAClE,IAAIC,EACAC,EACAC,EAIAC,EACAC,EACAvX,EACAwX,EACAC,EAPAC,EAAe,EACfC,GAAa,EACbC,GAAa,EAkCjB,GA3BuB,OAAnB9K,EAAMyG,UACRzG,EAAMyG,SAAS,OAAQzG,GAGzBA,EAAM1B,IAAS,KACf0B,EAAMsJ,OAAS,KACftJ,EAAM0J,KAAS,KACf1J,EAAMtD,OAAS,KAEf2N,EAAmBC,EAAoBC,EAxwCjB,IAywCEL,GA1wCF,IA2wCEA,EAEpBC,GACEvB,EAAoB5I,GAAO,GAAO,KACpC6K,GAAY,EAER7K,EAAM4G,WAAaqD,EACrBW,EAAe,EACN5K,EAAM4G,aAAeqD,EAC9BW,EAAe,EACN5K,EAAM4G,WAAaqD,IAC5BW,GAAgB,IAKD,IAAjBA,EACF,KAAOjB,EAAgB3J,IAAUgK,EAAmBhK,IAC9C4I,EAAoB5I,GAAO,GAAO,IACpC6K,GAAY,EACZN,EAAwBF,EAEpBrK,EAAM4G,WAAaqD,EACrBW,EAAe,EACN5K,EAAM4G,aAAeqD,EAC9BW,EAAe,EACN5K,EAAM4G,WAAaqD,IAC5BW,GAAgB,IAGlBL,GAAwB,EAwD9B,GAnDIA,IACFA,EAAwBM,GAAaT,GAGlB,IAAjBQ,GAjzCkB,IAizC0BV,IAE5CQ,EAtzCkB,IAqzCIR,GApzCJ,IAozCwCA,EAC7CD,EAEAA,EAAe,EAG9BU,EAAc3K,EAAMJ,SAAWI,EAAM2G,UAEhB,IAAjBiE,EACEL,IACCrB,EAAkBlJ,EAAO2K,IA5XpC,SAA0B3K,EAAOmJ,EAAYuB,GAC3C,IAAIK,EACAX,EACAhB,EACA4B,EAUArC,EATA5E,EAAgB/D,EAAM1B,IACtB+K,EAAgBrJ,EAAMsJ,OACtBvG,EAAgB,GAChBmF,EAAkB,GAClBG,EAAgB,KAChBC,EAAgB,KAChBC,EAAgB,KAChB0C,GAAgB,EAChB1B,GAAgB,EASpB,IANqB,OAAjBvJ,EAAMsJ,SACRtJ,EAAMwJ,UAAUxJ,EAAMsJ,QAAUvG,GAGlC4F,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,UAEpB,IAAP+I,GAAU,CASf,GARAoC,EAAY/K,EAAM2E,MAAM1D,WAAWjB,EAAMJ,SAAW,GACpDwJ,EAAQpJ,EAAMN,KACdsL,EAAOhL,EAAMJ,SAMD,KAAP+I,GAA6B,KAAPA,IAAuB9C,EAAakF,GA2BxD,KAAItB,EAAYzJ,EAAO0K,EA5/BV,GA4/BwC,GAAO,GA8CjE,MA5CA,GAAI1K,EAAMN,OAAS0J,EAAO,CAGxB,IAFAT,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,UAE3BgG,EAAe+C,IACpBA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAGtC,GAAW,KAAP+I,EAGG9C,EAFL8C,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,YAGlCmH,EAAW/G,EAAO,2FAGhBiL,IACF7C,EAAiBpI,EAAO+C,EAASmF,EAAiBG,EAAQC,EAAS,MACnED,EAASC,EAAUC,EAAY,MAGjCgB,GAAW,EACX0B,GAAgB,EAChBb,GAAe,EACf/B,EAASrI,EAAM1B,IACfgK,EAAUtI,EAAMtD,WAEX,KAAI6M,EAMT,OAFAvJ,EAAM1B,IAAMyF,EACZ/D,EAAMsJ,OAASD,GACR,EALPtC,EAAW/G,EAAO,iEAQf,KAAIuJ,EAMT,OAFAvJ,EAAM1B,IAAMyF,EACZ/D,EAAMsJ,OAASD,GACR,EALPtC,EAAW/G,EAAO,wFA9DT,KAAP2I,GACEsC,IACF7C,EAAiBpI,EAAO+C,EAASmF,EAAiBG,EAAQC,EAAS,MACnED,EAASC,EAAUC,EAAY,MAGjCgB,GAAW,EACX0B,GAAgB,EAChBb,GAAe,GAENa,GAETA,GAAgB,EAChBb,GAAe,GAGfrD,EAAW/G,EAAO,qGAGpBA,EAAMJ,UAAY,EAClB+I,EAAKoC,EA2EP,IAlBI/K,EAAMN,OAAS0J,GAASpJ,EAAM4G,WAAauC,KACzCM,EAAYzJ,EAAOmJ,EA/iCL,GA+iCoC,EAAMiB,KACtDa,EACF3C,EAAUtI,EAAMtD,OAEhB6L,EAAYvI,EAAMtD,QAIjBuO,IACH7C,EAAiBpI,EAAO+C,EAASmF,EAAiBG,EAAQC,EAASC,EAAWa,EAAO4B,GACrF3C,EAASC,EAAUC,EAAY,MAGjCK,EAAoB5I,GAAO,GAAO,GAClC2I,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAGhCI,EAAM4G,WAAauC,GAAsB,IAAPR,EACpC5B,EAAW/G,EAAO,2CACb,GAAIA,EAAM4G,WAAauC,EAC5B,MAqBJ,OAZI8B,GACF7C,EAAiBpI,EAAO+C,EAASmF,EAAiBG,EAAQC,EAAS,MAIjEiB,IACFvJ,EAAM1B,IAAMyF,EACZ/D,EAAMsJ,OAASD,EACfrJ,EAAM0J,KAAO,UACb1J,EAAMtD,OAASqG,GAGVwG,EAqOE2B,CAAiBlL,EAAO2K,EAAaD,KAnrBhD,SAA4B1K,EAAOmJ,GACjC,IACIC,EAEArG,EAGAoI,EACAC,EACAC,EACAC,EAEAhD,EACAD,EACAE,EACAI,EAdA4C,GAAW,EAEXxH,EAAW/D,EAAM1B,IAEjB+K,EAAWrJ,EAAMsJ,OAMjBpB,EAAkB,GAQtB,GAAW,MAFXS,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAGhCuL,EAAa,GACbG,GAAY,EACZvI,EAAU,OACL,IAAW,MAAP4F,EAKT,OAAO,EAJPwC,EAAa,IACbG,GAAY,EACZvI,EAAU,GAWZ,IANqB,OAAjB/C,EAAMsJ,SACRtJ,EAAMwJ,UAAUxJ,EAAMsJ,QAAUvG,GAGlC4F,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAEtB,IAAP+I,GAAU,CAKf,GAJAC,EAAoB5I,GAAO,EAAMmJ,IAEjCR,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,aAEvBuL,EAMT,OALAnL,EAAMJ,WACNI,EAAM1B,IAAMyF,EACZ/D,EAAMsJ,OAASD,EACfrJ,EAAM0J,KAAO4B,EAAY,UAAY,WACrCtL,EAAMtD,OAASqG,GACR,EACGwI,GACVxE,EAAW/G,EAAO,gDAGDuI,EAAY,KAC/B6C,EAASC,GAAiB,EAEf,KAAP1C,GAGE9C,EAFQ7F,EAAM2E,MAAM1D,WAAWjB,EAAMJ,SAAW,MAGlDwL,EAASC,GAAiB,EAC1BrL,EAAMJ,WACNgJ,EAAoB5I,GAAO,EAAMmJ,IAIrCC,EAAQpJ,EAAMN,KACd+J,EAAYzJ,EAAOmJ,EAhtBC,GAgtB4B,GAAO,GACvDd,EAASrI,EAAM1B,IACfgK,EAAUtI,EAAMtD,OAChBkM,EAAoB5I,GAAO,EAAMmJ,GAEjCR,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAE7ByL,GAAkBrL,EAAMN,OAAS0J,GAAiB,KAAPT,IAC9CyC,GAAS,EACTzC,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UACpCgJ,EAAoB5I,GAAO,EAAMmJ,GACjCM,EAAYzJ,EAAOmJ,EA3tBD,GA2tB8B,GAAO,GACvDZ,EAAYvI,EAAMtD,QAGhB4O,EACFlD,EAAiBpI,EAAO+C,EAASmF,EAAiBG,EAAQC,EAASC,GAC1D6C,EACTrI,EAAQpN,KAAKyS,EAAiBpI,EAAO,KAAMkI,EAAiBG,EAAQC,EAASC,IAE7ExF,EAAQpN,KAAK2S,GAGfM,EAAoB5I,GAAO,EAAMmJ,GAItB,MAFXR,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,YAGhC2L,GAAW,EACX5C,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,WAEpC2L,GAAW,EAIfxE,EAAW/G,EAAO,yDA8kBVwL,CAAmBxL,EAAO0K,GAC5BI,GAAa,GAERR,GA9kBb,SAAyBtK,EAAOmJ,GAC9B,IAAIsC,EACAC,EAOAC,EACAhD,EA7rBmBlY,EAsrBnBmb,EAnvBe,EAovBfC,GAAiB,EACjBC,GAAiB,EACjBC,EAAiB5C,EACjB6C,EAAiB,EACjBC,GAAiB,EAMrB,GAAW,OAFXtD,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAGhC8L,GAAU,MACL,IAAW,KAAP/C,EAGT,OAAO,EAFP+C,GAAU,EAQZ,IAHA1L,EAAM0J,KAAO,SACb1J,EAAMtD,OAAS,GAED,IAAPiM,GAGL,GAAW,MAFXA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,YAEH,KAAP+I,EA5wBT,IA6wBOiD,EACpBA,EAAmB,KAAPjD,EA5wBC,EADA,EA+wBb5B,EAAW/G,EAAO,4CAGf,OAAK2L,EArtBT,KADkBlb,EAstBakY,IArtBTlY,GAAK,GACvBA,EAAI,IAGL,IAitBoC,GAWxC,MAVY,IAARkb,EACF5E,EAAW/G,EAAO,gFACR8L,EAIV/E,EAAW/G,EAAO,8CAHlB+L,EAAa5C,EAAawC,EAAM,EAChCG,GAAiB,GAUvB,GAAIlG,EAAe+C,GAAK,CACtB,GAAKA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,gBAClCgG,EAAe+C,IAEtB,GAAW,KAAPA,EACF,GAAKA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,iBACjC+F,EAAOgD,IAAe,IAAPA,GAI3B,KAAc,IAAPA,GAAU,CAMf,IALAD,EAAc1I,GACdA,EAAM4G,WAAa,EAEnB+B,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,YAEzBkM,GAAkB9L,EAAM4G,WAAamF,IAC/B,KAAPpD,GACN3I,EAAM4G,aACN+B,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAOtC,IAJKkM,GAAkB9L,EAAM4G,WAAamF,IACxCA,EAAa/L,EAAM4G,YAGjBjB,EAAOgD,GACTqD,QADF,CAMA,GAAIhM,EAAM4G,WAAamF,EAAY,CAh0BlB,IAm0BXH,EACF5L,EAAMtD,QAAUW,EAAOf,OAAO,KAAMuP,EAAiB,EAAIG,EAAaA,GAt0BzD,IAu0BJJ,GACLC,IACF7L,EAAMtD,QAAU,MAKpB,MAuCF,IAnCIgP,EAGE9F,EAAe+C,IACjBsD,GAAiB,EAEjBjM,EAAMtD,QAAUW,EAAOf,OAAO,KAAMuP,EAAiB,EAAIG,EAAaA,IAG7DC,GACTA,GAAiB,EACjBjM,EAAMtD,QAAUW,EAAOf,OAAO,KAAM0P,EAAa,IAGzB,IAAfA,EACLH,IACF7L,EAAMtD,QAAU,KAKlBsD,EAAMtD,QAAUW,EAAOf,OAAO,KAAM0P,GAMtChM,EAAMtD,QAAUW,EAAOf,OAAO,KAAMuP,EAAiB,EAAIG,EAAaA,GAGxEH,GAAiB,EACjBC,GAAiB,EACjBE,EAAa,EACbP,EAAezL,EAAMJ,UAEb+F,EAAOgD,IAAe,IAAPA,GACrBA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAGtC+H,EAAe3H,EAAOyL,EAAczL,EAAMJ,UAAU,IAGtD,OAAO,EAkcyBsM,CAAgBlM,EAAO0K,IAnzBzD,SAAgC1K,EAAOmJ,GACrC,IAAIR,EACA8C,EAAcU,EAIlB,GAAW,MAFXxD,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAGhC,OAAO,EAQT,IALAI,EAAM0J,KAAO,SACb1J,EAAMtD,OAAS,GACfsD,EAAMJ,WACN6L,EAAeU,EAAanM,EAAMJ,SAEuB,KAAjD+I,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,YACxC,GAAW,KAAP+I,EAAoB,CAItB,GAHAhB,EAAe3H,EAAOyL,EAAczL,EAAMJ,UAAU,GAGzC,MAFX+I,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,WAOlC,OAAO,EAJP6L,EAAezL,EAAMJ,SACrBI,EAAMJ,WACNuM,EAAanM,EAAMJ,cAKZ+F,EAAOgD,IAChBhB,EAAe3H,EAAOyL,EAAcU,GAAY,GAChDlD,EAAiBjJ,EAAO4I,EAAoB5I,GAAO,EAAOmJ,IAC1DsC,EAAeU,EAAanM,EAAMJ,UAEzBI,EAAMJ,WAAaI,EAAM2G,WAAaqC,EAAsBhJ,GACrE+G,EAAW/G,EAAO,iEAGlBA,EAAMJ,WACNuM,EAAanM,EAAMJ,UAIvBmH,EAAW/G,EAAO,8DA0wBRoM,CAAuBpM,EAAO0K,IAvwB1C,SAAgC1K,EAAOmJ,GACrC,IAAIsC,EACAU,EACAE,EACAC,EACAX,EACAhD,EAxgBiBlY,EA4gBrB,GAAW,MAFXkY,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAGhC,OAAO,EAQT,IALAI,EAAM0J,KAAO,SACb1J,EAAMtD,OAAS,GACfsD,EAAMJ,WACN6L,EAAeU,EAAanM,EAAMJ,SAEuB,KAAjD+I,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,YAAkB,CAC1D,GAAW,KAAP+I,EAGF,OAFAhB,EAAe3H,EAAOyL,EAAczL,EAAMJ,UAAU,GACpDI,EAAMJ,YACC,EAEF,GAAW,KAAP+I,EAAoB,CAI7B,GAHAhB,EAAe3H,EAAOyL,EAAczL,EAAMJ,UAAU,GAGhD+F,EAFJgD,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,WAGlCgJ,EAAoB5I,GAAO,EAAOmJ,QAG7B,GAAIR,EAAK,KAAOvC,EAAkBuC,GACvC3I,EAAMtD,QAAU2J,EAAgBsC,GAChC3I,EAAMJ,gBAED,IAAK+L,EAtiBN,OADWlb,EAuiBekY,GAtiBJ,EACtB,MAANlY,EAA4B,EACtB,KAANA,EAA4B,EACzB,GAmiBoC,EAAG,CAIxC,IAHA4b,EAAYV,EACZW,EAAY,EAELD,EAAY,EAAGA,KAGfV,EAAM5F,EAFX4C,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,aAEL,EAC7B0M,GAAaA,GAAa,GAAKX,EAG/B5E,EAAW/G,EAAO,kCAItBA,EAAMtD,QAAUwJ,EAAkBoG,GAElCtM,EAAMJ,gBAGNmH,EAAW/G,EAAO,2BAGpByL,EAAeU,EAAanM,EAAMJ,cAEzB+F,EAAOgD,IAChBhB,EAAe3H,EAAOyL,EAAcU,GAAY,GAChDlD,EAAiBjJ,EAAO4I,EAAoB5I,GAAO,EAAOmJ,IAC1DsC,EAAeU,EAAanM,EAAMJ,UAEzBI,EAAMJ,WAAaI,EAAM2G,WAAaqC,EAAsBhJ,GACrE+G,EAAW/G,EAAO,iEAGlBA,EAAMJ,WACNuM,EAAanM,EAAMJ,UAIvBmH,EAAW/G,EAAO,8DA4rBRuM,CAAuBvM,EAAO0K,GAChCI,GAAa,EAhHvB,SAAmB9K,GACjB,IAAI6H,EAAW2E,EACX7D,EAIJ,GAAW,MAFXA,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAEV,OAAO,EAK/B,IAHA+I,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UACpCiI,EAAY7H,EAAMJ,SAEJ,IAAP+I,IAAa9C,EAAa8C,KAAQ7C,EAAkB6C,IACzDA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAetC,OAZII,EAAMJ,WAAaiI,GACrBd,EAAW/G,EAAO,6DAGpBwM,EAAQxM,EAAM2E,MAAMlG,MAAMoJ,EAAW7H,EAAMJ,UAEtCI,EAAMwJ,UAAUvX,eAAeua,IAClCzF,EAAW/G,EAAO,uBAAyBwM,EAAQ,KAGrDxM,EAAMtD,OAASsD,EAAMwJ,UAAUgD,GAC/B5D,EAAoB5I,GAAO,GAAO,IAC3B,EAuFUyM,CAAUzM,IACnB8K,GAAa,EAEK,OAAd9K,EAAM1B,KAAiC,OAAjB0B,EAAMsJ,QAC9BvC,EAAW/G,EAAO,8CAz6B9B,SAAyBA,EAAOmJ,EAAYuD,GAC1C,IACI3B,EACAU,EACAU,EACAQ,EACAvD,EACAwD,EACAC,EAGAlE,EAFAmE,EAAQ9M,EAAM0J,KACd3G,EAAU/C,EAAMtD,OAKpB,GAAImJ,EAFJ8C,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,YAG9BkG,EAAkB6C,IACX,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,MAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,GACO,KAAPA,EACF,OAAO,EAGT,IAAW,KAAPA,GAA6B,KAAPA,KAGpB9C,EAFJkF,EAAY/K,EAAM2E,MAAM1D,WAAWjB,EAAMJ,SAAW,KAGhD8M,GAAwB5G,EAAkBiF,IAC5C,OAAO,EASX,IALA/K,EAAM0J,KAAO,SACb1J,EAAMtD,OAAS,GACf+O,EAAeU,EAAanM,EAAMJ,SAClC+M,GAAoB,EAEN,IAAPhE,GAAU,CACf,GAAW,KAAPA,GAGF,GAAI9C,EAFJkF,EAAY/K,EAAM2E,MAAM1D,WAAWjB,EAAMJ,SAAW,KAGhD8M,GAAwB5G,EAAkBiF,GAC5C,WAGG,GAAW,KAAPpC,GAGT,GAAI9C,EAFQ7F,EAAM2E,MAAM1D,WAAWjB,EAAMJ,SAAW,IAGlD,UAGG,IAAKI,EAAMJ,WAAaI,EAAM2G,WAAaqC,EAAsBhJ,IAC7D0M,GAAwB5G,EAAkB6C,GACnD,MAEK,GAAIhD,EAAOgD,GAAK,CAMrB,GALAS,EAAQpJ,EAAMN,KACdkN,EAAa5M,EAAM2G,UACnBkG,EAAc7M,EAAM4G,WACpBgC,EAAoB5I,GAAO,GAAQ,GAE/BA,EAAM4G,YAAcuC,EAAY,CAClCwD,GAAoB,EACpBhE,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,UAClC,SAEAI,EAAMJ,SAAWuM,EACjBnM,EAAMN,KAAO0J,EACbpJ,EAAM2G,UAAYiG,EAClB5M,EAAM4G,WAAaiG,EACnB,OAIAF,IACFhF,EAAe3H,EAAOyL,EAAcU,GAAY,GAChDlD,EAAiBjJ,EAAOA,EAAMN,KAAO0J,GACrCqC,EAAeU,EAAanM,EAAMJ,SAClC+M,GAAoB,GAGjB/G,EAAe+C,KAClBwD,EAAanM,EAAMJ,SAAW,GAGhC+I,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAKtC,OAFA+H,EAAe3H,EAAOyL,EAAcU,GAAY,KAE5CnM,EAAMtD,SAIVsD,EAAM0J,KAAOoD,EACb9M,EAAMtD,OAASqG,GACR,GAk0BUgK,CAAgB/M,EAAO0K,EAh1ClB,IAg1CkDR,KAChEY,GAAa,EAEK,OAAd9K,EAAM1B,MACR0B,EAAM1B,IAAM,MAIK,OAAjB0B,EAAMsJ,SACRtJ,EAAMwJ,UAAUxJ,EAAMsJ,QAAUtJ,EAAMtD,SAGhB,IAAjBkO,IAGTE,EAAaP,GAAyBrB,EAAkBlJ,EAAO2K,KAIjD,OAAd3K,EAAM1B,KAA8B,MAAd0B,EAAM1B,IAC9B,GAAkB,MAAd0B,EAAM1B,KACR,IAAKkM,EAAY,EAAGC,EAAezK,EAAMd,cAAchJ,OAAQsU,EAAYC,EAAcD,GAAa,EAOpG,IANAtX,EAAO8M,EAAMd,cAAcsL,IAMlB/Q,QAAQuG,EAAMtD,QAAS,CAC9BsD,EAAMtD,OAASxJ,EAAK8Z,UAAUhN,EAAMtD,QACpCsD,EAAM1B,IAAMpL,EAAKoL,IACI,OAAjB0B,EAAMsJ,SACRtJ,EAAMwJ,UAAUxJ,EAAMsJ,QAAUtJ,EAAMtD,QAExC,YAGKa,EAAgBhN,KAAKyP,EAAM0G,QAAQ1G,EAAM0J,MAAQ,YAAa1J,EAAM1B,MAC7EpL,EAAO8M,EAAM0G,QAAQ1G,EAAM0J,MAAQ,YAAY1J,EAAM1B,KAEhC,OAAjB0B,EAAMtD,QAAmBxJ,EAAKwW,OAAS1J,EAAM0J,MAC/C3C,EAAW/G,EAAO,gCAAkCA,EAAM1B,IAAM,wBAA0BpL,EAAKwW,KAAO,WAAa1J,EAAM0J,KAAO,KAG7HxW,EAAKuG,QAAQuG,EAAMtD,SAGtBsD,EAAMtD,OAASxJ,EAAK8Z,UAAUhN,EAAMtD,QACf,OAAjBsD,EAAMsJ,SACRtJ,EAAMwJ,UAAUxJ,EAAMsJ,QAAUtJ,EAAMtD,SAJxCqK,EAAW/G,EAAO,gCAAkCA,EAAM1B,IAAM,mBAQlEyI,EAAW/G,EAAO,iBAAmBA,EAAM1B,IAAM,KAOrD,OAHuB,OAAnB0B,EAAMyG,UACRzG,EAAMyG,SAAS,QAASzG,GAEL,OAAdA,EAAM1B,KAAkC,OAAjB0B,EAAMsJ,QAAmBwB,EAGzD,SAASmC,EAAajN,GACpB,IACI6H,EACAqF,EACAC,EAEAxE,EALAyE,EAAgBpN,EAAMJ,SAItByN,GAAgB,EAQpB,IALArN,EAAMsH,QAAU,KAChBtH,EAAMwH,gBAAkBxH,EAAMwG,OAC9BxG,EAAM0H,OAAS,GACf1H,EAAMwJ,UAAY,GAEuC,KAAjDb,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,aACxCgJ,EAAoB5I,GAAO,GAAO,GAElC2I,EAAK3I,EAAM2E,MAAM1D,WAAWjB,EAAMJ,YAE9BI,EAAM4G,WAAa,GAAY,KAAP+B,KAL8B,CAa1D,IAJA0E,GAAgB,EAChB1E,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UACpCiI,EAAY7H,EAAMJ,SAEJ,IAAP+I,IAAa9C,EAAa8C,IAC/BA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAUtC,IANAuN,EAAgB,IADhBD,EAAgBlN,EAAM2E,MAAMlG,MAAMoJ,EAAW7H,EAAMJ,WAGjC1J,OAAS,GACzB6Q,EAAW/G,EAAO,gEAGN,IAAP2I,GAAU,CACf,KAAO/C,EAAe+C,IACpBA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAGtC,GAAW,KAAP+I,EAAoB,CACtB,GAAKA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,gBAC3B,IAAP+I,IAAahD,EAAOgD,IAC3B,MAGF,GAAIhD,EAAOgD,GAAK,MAIhB,IAFAd,EAAY7H,EAAMJ,SAEJ,IAAP+I,IAAa9C,EAAa8C,IAC/BA,EAAK3I,EAAM2E,MAAM1D,aAAajB,EAAMJ,UAGtCuN,EAAcxX,KAAKqK,EAAM2E,MAAMlG,MAAMoJ,EAAW7H,EAAMJ,WAG7C,IAAP+I,GAAUD,EAAc1I,GAExBzC,EAAgBhN,KAAK0W,EAAmBiG,GAC1CjG,EAAkBiG,GAAelN,EAAOkN,EAAeC,GAEvDnG,EAAahH,EAAO,+BAAiCkN,EAAgB,KAIzEtE,EAAoB5I,GAAO,GAAO,GAET,IAArBA,EAAM4G,YACyC,KAA/C5G,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WACkB,KAA/CI,EAAM2E,MAAM1D,WAAWjB,EAAMJ,SAAW,IACO,KAA/CI,EAAM2E,MAAM1D,WAAWjB,EAAMJ,SAAW,IAC1CI,EAAMJ,UAAY,EAClBgJ,EAAoB5I,GAAO,GAAO,IAEzBqN,GACTtG,EAAW/G,EAAO,mCAGpByJ,EAAYzJ,EAAOA,EAAM4G,WAAa,EA79ChB,GA69CsC,GAAO,GACnEgC,EAAoB5I,GAAO,GAAO,GAE9BA,EAAMwH,iBACNnC,EAA8B/E,KAAKN,EAAM2E,MAAMlG,MAAM2O,EAAepN,EAAMJ,YAC5EoH,EAAahH,EAAO,oDAGtBA,EAAM6G,UAAUlR,KAAKqK,EAAMtD,QAEvBsD,EAAMJ,WAAaI,EAAM2G,WAAaqC,EAAsBhJ,GAEf,KAA3CA,EAAM2E,MAAM1D,WAAWjB,EAAMJ,YAC/BI,EAAMJ,UAAY,EAClBgJ,EAAoB5I,GAAO,GAAO,IAKlCA,EAAMJ,SAAYI,EAAM9J,OAAS,GACnC6Q,EAAW/G,EAAO,yDAOtB,SAASsN,EAAc3I,EAAO/L,GAE5BA,EAAUA,GAAW,GAEA,KAHrB+L,EAAQnG,OAAOmG,IAGLzO,SAGmC,KAAvCyO,EAAM1D,WAAW0D,EAAMzO,OAAS,IACO,KAAvCyO,EAAM1D,WAAW0D,EAAMzO,OAAS,KAClCyO,GAAS,MAIiB,QAAxBA,EAAM1D,WAAW,KACnB0D,EAAQA,EAAMlG,MAAM,KAIxB,IAAIuB,EAAQ,IAAIlC,EAAM6G,EAAO/L,GAK7B,IAFAoH,EAAM2E,OAAS,KAEmC,KAA3C3E,EAAM2E,MAAM1D,WAAWjB,EAAMJ,WAClCI,EAAM4G,YAAc,EACpB5G,EAAMJ,UAAY,EAGpB,KAAOI,EAAMJ,SAAYI,EAAM9J,OAAS,GACtC+W,EAAajN,GAGf,OAAOA,EAAM6G,UAIf,SAASxL,EAAQsJ,EAAOvK,EAAUxB,GAChC,IAA+CqE,EAAO/G,EAAlD2Q,EAAYyG,EAAc3I,EAAO/L,GAErC,GAAwB,mBAAbwB,EACT,OAAOyM,EAGT,IAAK5J,EAAQ,EAAG/G,EAAS2Q,EAAU3Q,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAClE7C,EAASyM,EAAU5J,IAKvB,SAASvC,EAAKiK,EAAO/L,GACnB,IAAIiO,EAAYyG,EAAc3I,EAAO/L,GAErC,GAAyB,IAArBiO,EAAU3Q,OAAd,CAGO,GAAyB,IAArB2Q,EAAU3Q,OACnB,OAAO2Q,EAAU,GAEnB,MAAM,IAAIpL,EAAc,6DAkB1BtL,EAAOD,QAAQmL,QAAcA,EAC7BlL,EAAOD,QAAQwK,KAAcA,EAC7BvK,EAAOD,QAAQoL,YAhBf,SAAqBqJ,EAAO4I,EAAQ3U,GAClC,GAAsB,mBAAX2U,EAGT,OAAOlS,EAAQsJ,EAAOtH,EAAON,OAAO,CAAEgB,OAAQ5C,GAAuBvC,IAFrEyC,EAAQsJ,EAAO4I,EAAQlQ,EAAON,OAAO,CAAEgB,OAAQ5C,GAAuBvC,KAe1EzI,EAAOD,QAAQuK,SARf,SAAkBkK,EAAO/L,GACvB,OAAO8B,EAAKiK,EAAOtH,EAAON,OAAO,CAAEgB,OAAQ5C,GAAuBvC,MASlE,CAAC,WAAW,EAAE,cAAc,EAAE,SAAS,EAAE,wBAAwB,EAAE,wBAAwB,KAAK4U,EAAE,CAAC,SAASnb,EAAQlC,EAAOD,GAC7H,aAGA,IAAImN,EAAShL,EAAQ,YAGrB,SAAS8S,EAAKxU,EAAM8c,EAAQ7N,EAAUF,EAAMgO,GAC1C9a,KAAKjC,KAAWA,EAChBiC,KAAK6a,OAAWA,EAChB7a,KAAKgN,SAAWA,EAChBhN,KAAK8M,KAAWA,EAChB9M,KAAK8a,OAAWA,EAIlBvI,EAAKnT,UAAU2b,WAAa,SAAoB3P,EAAQ4P,GACtD,IAAIC,EAAMlL,EAAOmL,EAAMrL,EAAKsL,EAE5B,IAAKnb,KAAK6a,OAAQ,OAAO,KAQzB,IANAzP,EAASA,GAAU,EACnB4P,EAAYA,GAAa,GAEzBC,EAAO,GACPlL,EAAQ/P,KAAKgN,SAEN+C,EAAQ,IAA4E,IAAvE,sBAA2B7C,QAAQlN,KAAK6a,OAAOjT,OAAOmI,EAAQ,KAEhF,GADAA,GAAS,EACL/P,KAAKgN,SAAW+C,EAASiL,EAAY,EAAI,EAAI,CAC/CC,EAAO,QACPlL,GAAS,EACT,MAOJ,IAHAmL,EAAO,GACPrL,EAAM7P,KAAKgN,SAEJ6C,EAAM7P,KAAK6a,OAAOvX,SAA2E,IAAjE,sBAA2B4J,QAAQlN,KAAK6a,OAAOjT,OAAOiI,KAEvF,IADAA,GAAO,GACG7P,KAAKgN,SAAYgO,EAAY,EAAI,EAAI,CAC7CE,EAAO,QACPrL,GAAO,EACP,MAMJ,OAFAsL,EAAUnb,KAAK6a,OAAOhP,MAAMkE,EAAOF,GAE5BpF,EAAOf,OAAO,IAAK0B,GAAU6P,EAAOE,EAAUD,EAAO,KACrDzQ,EAAOf,OAAO,IAAK0B,EAASpL,KAAKgN,SAAW+C,EAAQkL,EAAK3X,QAAU,KAI5EiP,EAAKnT,UAAUsC,SAAW,SAAkBiP,GAC1C,IAAIwK,EAASC,EAAQ,GAgBrB,OAdIpb,KAAKjC,OACPqd,GAAS,OAASpb,KAAKjC,KAAO,MAGhCqd,GAAS,YAAcpb,KAAK8M,KAAO,GAAK,aAAe9M,KAAK8a,OAAS,GAEhEnK,IACHwK,EAAUnb,KAAK+a,gBAGbK,GAAS,MAAQD,GAIdC,GAIT7d,EAAOD,QAAUiV,GAEf,CAAC,WAAW,IAAI8I,EAAE,CAAC,SAAS5b,EAAQlC,EAAOD,GAC7C,aAIA,IAAImN,EAAgBhL,EAAQ,YACxBoJ,EAAgBpJ,EAAQ,eACxByI,EAAgBzI,EAAQ,UAG5B,SAAS6b,EAAYnQ,EAAQpN,EAAM+L,GACjC,IAAIyR,EAAU,GAgBd,OAdApQ,EAAOqQ,QAAQC,SAAQ,SAAUC,GAC/B5R,EAASwR,EAAYI,EAAgB3d,EAAM+L,MAG7CqB,EAAOpN,GAAM0d,SAAQ,SAAUE,GAC7B7R,EAAO2R,SAAQ,SAAUG,EAAcC,GACjCD,EAAalQ,MAAQiQ,EAAYjQ,KAAOkQ,EAAa9E,OAAS6E,EAAY7E,MAC5EyE,EAAQxY,KAAK8Y,MAIjB/R,EAAO/G,KAAK4Y,MAGP7R,EAAOgS,QAAO,SAAUxb,EAAM+J,GACnC,OAAmC,IAA5BkR,EAAQrO,QAAQ7C,MAwB3B,SAASlC,EAAO4T,GACd/b,KAAKwb,QAAWO,EAAWP,SAAY,GACvCxb,KAAKgc,SAAWD,EAAWC,UAAY,GACvChc,KAAKkQ,SAAW6L,EAAW7L,UAAY,GAEvClQ,KAAKgc,SAASP,SAAQ,SAAUnb,GAC9B,GAAIA,EAAK2b,UAA8B,WAAlB3b,EAAK2b,SACxB,MAAM,IAAIpT,EAAc,sHAI5B7I,KAAKuM,iBAAmB+O,EAAYtb,KAAM,WAAY,IACtDA,KAAKyM,iBAAmB6O,EAAYtb,KAAM,WAAY,IACtDA,KAAK8L,gBAhCP,WACE,IAKOzB,EAAO/G,EALVwG,EAAS,CACPoS,OAAQ,GACR1S,SAAU,GACV2S,QAAS,GACTC,SAAU,IAGhB,SAASC,EAAY/b,GACnBwJ,EAAOxJ,EAAKwW,MAAMxW,EAAKoL,KAAO5B,EAAiB,SAAExJ,EAAKoL,KAAOpL,EAG/D,IAAK+J,EAAQ,EAAG/G,EAASiB,UAAUjB,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAClE9F,UAAU8F,GAAOoR,QAAQY,GAE3B,OAAOvS,EAiBiBwS,CAAWtc,KAAKuM,iBAAkBvM,KAAKyM,kBAIjEtE,EAAOoU,QAAU,KAGjBpU,EAAOrJ,OAAS,WACd,IAAI0d,EAASC,EAEb,OAAQlY,UAAUjB,QAChB,KAAK,EACHkZ,EAAUrU,EAAOoU,QACjBE,EAAQlY,UAAU,GAClB,MAEF,KAAK,EACHiY,EAAUjY,UAAU,GACpBkY,EAAQlY,UAAU,GAClB,MAEF,QACE,MAAM,IAAIsE,EAAc,wDAM5B,GAHA2T,EAAU/R,EAAOlB,QAAQiT,GACzBC,EAAQhS,EAAOlB,QAAQkT,IAElBD,EAAQE,OAAM,SAAUvR,GAAU,OAAOA,aAAkBhD,KAC9D,MAAM,IAAIU,EAAc,6FAG1B,IAAK4T,EAAMC,OAAM,SAAUpc,GAAQ,OAAOA,aAAgB4H,KACxD,MAAM,IAAIW,EAAc,sFAG1B,OAAO,IAAIV,EAAO,CAChBqT,QAASgB,EACTtM,SAAUuM,KAKdlf,EAAOD,QAAU6K,GAEf,CAAC,WAAW,EAAE,cAAc,EAAE,SAAS,KAAKwU,EAAE,CAAC,SAASld,EAAQlC,EAAOD,GAQzE,aAGA,IAAI6K,EAAS1I,EAAQ,aAGrBlC,EAAOD,QAAU,IAAI6K,EAAO,CAC1BqT,QAAS,CACP/b,EAAQ,cAIV,CAAC,YAAY,EAAE,SAAS,KAAKmd,EAAE,CAAC,SAASnd,EAAQlC,EAAOD,GAU1D,aAGA,IAAI6K,EAAS1I,EAAQ,aAGrBlC,EAAOD,QAAU6K,EAAOoU,QAAU,IAAIpU,EAAO,CAC3CqT,QAAS,CACP/b,EAAQ,mBAEVyQ,SAAU,CACRzQ,EAAQ,wBACRA,EAAQ,qBACRA,EAAQ,2BAIV,CAAC,YAAY,EAAE,sBAAsB,GAAG,oBAAoB,GAAG,uBAAuB,GAAG,iBAAiB,KAAKod,GAAG,CAAC,SAASpd,EAAQlC,EAAOD,GAQ7I,aAGA,IAAI6K,EAAS1I,EAAQ,aAGrBlC,EAAOD,QAAU,IAAI6K,EAAO,CAC1BqT,QAAS,CACP/b,EAAQ,WAEVuc,SAAU,CACRvc,EAAQ,qBACRA,EAAQ,kBAEVyQ,SAAU,CACRzQ,EAAQ,kBACRA,EAAQ,gBACRA,EAAQ,iBACRA,EAAQ,mBAIV,CAAC,YAAY,EAAE,iBAAiB,GAAG,gBAAgB,GAAG,eAAe,GAAG,gBAAgB,GAAG,cAAc,GAAG,oBAAoB,GAAG,SAAS,IAAIqd,GAAG,CAAC,SAASrd,EAAQlC,EAAOD,GAK9K,aAGA,IAAI6K,EAAS1I,EAAQ,aAGrBlC,EAAOD,QAAU,IAAI6K,EAAO,CAC1B+H,SAAU,CACRzQ,EAAQ,eACRA,EAAQ,eACRA,EAAQ,mBAIV,CAAC,YAAY,EAAE,cAAc,GAAG,cAAc,GAAG,cAAc,KAAKsd,GAAG,CAAC,SAAStd,EAAQlC,EAAOD,GASlG,aAGA,IAAI6K,EAAS1I,EAAQ,aAGrBlC,EAAOD,QAAU,IAAI6K,EAAO,CAC1BqT,QAAS,CACP/b,EAAQ,eAEVuc,SAAU,CACRvc,EAAQ,gBACRA,EAAQ,gBACRA,EAAQ,eACRA,EAAQ,qBAIV,CAAC,YAAY,EAAE,eAAe,GAAG,gBAAgB,GAAG,cAAc,GAAG,eAAe,GAAG,aAAa,KAAKud,GAAG,CAAC,SAASvd,EAAQlC,EAAOD,GACvI,aAEA,IAAIuL,EAAgBpJ,EAAQ,eAExBwd,EAA2B,CAC7B,OACA,UACA,YACA,aACA,YACA,YACA,eACA,gBAGEC,EAAkB,CACpB,SACA,WACA,WA0CF3f,EAAOD,QAzBP,SAAcoO,EAAK1F,GAdnB,IAA6BpD,EACvBkH,EAiCJ,GAnBA9D,EAAUA,GAAW,GAErB9H,OAAOqM,KAAKvE,GAASyV,SAAQ,SAAU1d,GACrC,IAAgD,IAA5Ckf,EAAyB/P,QAAQnP,GACnC,MAAM,IAAI8K,EAAc,mBAAqB9K,EAAO,8BAAgC2N,EAAM,mBAK9F1L,KAAK0L,IAAeA,EACpB1L,KAAK8W,KAAe9Q,EAAc,MAAa,KAC/ChG,KAAK6G,QAAeb,EAAiB,SAAU,WAAc,OAAO,GACpEhG,KAAKoa,UAAepU,EAAmB,WAAQ,SAAUiB,GAAQ,OAAOA,GACxEjH,KAAKqQ,WAAerK,EAAoB,YAAO,KAC/ChG,KAAKsQ,UAAetK,EAAmB,WAAQ,KAC/ChG,KAAKuQ,UAAevK,EAAmB,WAAQ,KAC/ChG,KAAKwQ,aAAexK,EAAsB,cAAK,KAC/ChG,KAAK+L,cAhCsBnJ,EAgCaoD,EAAsB,cAAK,KA/B/D8D,EAAS,GAED,OAARlH,GACF1E,OAAOqM,KAAK3H,GAAK6Y,SAAQ,SAAU9P,GACjC/I,EAAI+I,GAAO8P,SAAQ,SAAU7B,GAC3B9P,EAAO8B,OAAOgO,IAAUjO,QAKvB7B,IAuBqC,IAAxCoT,EAAgBhQ,QAAQlN,KAAK8W,MAC/B,MAAM,IAAIjO,EAAc,iBAAmB7I,KAAK8W,KAAO,uBAAyBpL,EAAM,kBAMxF,CAAC,cAAc,IAAIyR,GAAG,CAAC,SAAS1d,EAAQlC,EAAOD,GACjD,aAIA,IAAI8f,EAEJ,IAGEA,EADe3d,EACO,UAAU4d,OAChC,MAAOC,IAET,IAAIpV,EAAazI,EAAQ,WAIrB8d,EAAa,wEAmHjBhgB,EAAOD,QAAU,IAAI4K,EAAK,2BAA4B,CACpD4O,KAAM,SACNjQ,QAlHF,SAA2BI,GACzB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAI5D,EAAMma,EAAKC,EAAS,EAAGpS,EAAMpE,EAAK3D,OAAQV,EAAM2a,EAGpD,IAAKC,EAAM,EAAGA,EAAMnS,EAAKmS,IAIvB,MAHAna,EAAOT,EAAIsK,QAAQjG,EAAKW,OAAO4V,KAGpB,IAAX,CAGA,GAAIna,EAAO,EAAG,OAAO,EAErBoa,GAAU,EAIZ,OAAQA,EAAS,GAAO,GAgGxBrD,UA7FF,SAA6BnT,GAC3B,IAAIuW,EAAKE,EACL3L,EAAQ9K,EAAK0H,QAAQ,WAAY,IACjCtD,EAAM0G,EAAMzO,OACZV,EAAM2a,EACNI,EAAO,EACP7T,EAAS,GAIb,IAAK0T,EAAM,EAAGA,EAAMnS,EAAKmS,IAClBA,EAAM,GAAM,GAAMA,IACrB1T,EAAO/G,KAAM4a,GAAQ,GAAM,KAC3B7T,EAAO/G,KAAM4a,GAAQ,EAAK,KAC1B7T,EAAO/G,KAAY,IAAP4a,IAGdA,EAAQA,GAAQ,EAAK/a,EAAIsK,QAAQ6E,EAAMnK,OAAO4V,IAmBhD,OAZiB,IAFjBE,EAAYrS,EAAM,EAAK,IAGrBvB,EAAO/G,KAAM4a,GAAQ,GAAM,KAC3B7T,EAAO/G,KAAM4a,GAAQ,EAAK,KAC1B7T,EAAO/G,KAAY,IAAP4a,IACU,KAAbD,GACT5T,EAAO/G,KAAM4a,GAAQ,GAAM,KAC3B7T,EAAO/G,KAAM4a,GAAQ,EAAK,MACJ,KAAbD,GACT5T,EAAO/G,KAAM4a,GAAQ,EAAK,KAIxBP,EAEKA,EAAW3a,KAAO2a,EAAW3a,KAAKqH,GAAU,IAAIsT,EAAWtT,GAG7DA,GAqDPwG,UARF,SAAkBpR,GAChB,OAAOke,GAAcA,EAAWQ,SAAS1e,IAQzCqR,UAnDF,SAA6BrR,GAC3B,IAA2Bse,EAAKtC,EAA5BpR,EAAS,GAAI6T,EAAO,EACpBtS,EAAMnM,EAAOoE,OACbV,EAAM2a,EAIV,IAAKC,EAAM,EAAGA,EAAMnS,EAAKmS,IAClBA,EAAM,GAAM,GAAMA,IACrB1T,GAAUlH,EAAK+a,GAAQ,GAAM,IAC7B7T,GAAUlH,EAAK+a,GAAQ,GAAM,IAC7B7T,GAAUlH,EAAK+a,GAAQ,EAAK,IAC5B7T,GAAUlH,EAAW,GAAP+a,IAGhBA,GAAQA,GAAQ,GAAKze,EAAOse,GAwB9B,OAjBa,IAFbtC,EAAO7P,EAAM,IAGXvB,GAAUlH,EAAK+a,GAAQ,GAAM,IAC7B7T,GAAUlH,EAAK+a,GAAQ,GAAM,IAC7B7T,GAAUlH,EAAK+a,GAAQ,EAAK,IAC5B7T,GAAUlH,EAAW,GAAP+a,IACI,IAATzC,GACTpR,GAAUlH,EAAK+a,GAAQ,GAAM,IAC7B7T,GAAUlH,EAAK+a,GAAQ,EAAK,IAC5B7T,GAAUlH,EAAK+a,GAAQ,EAAK,IAC5B7T,GAAUlH,EAAI,KACI,IAATsY,IACTpR,GAAUlH,EAAK+a,GAAQ,EAAK,IAC5B7T,GAAUlH,EAAK+a,GAAQ,EAAK,IAC5B7T,GAAUlH,EAAI,IACdkH,GAAUlH,EAAI,KAGTkH,MAeP,CAAC,UAAU,KAAK+T,GAAG,CAAC,SAASpe,EAAQlC,EAAOD,GAC9C,aAEA,IAAI4K,EAAOzI,EAAQ,WAqBnBlC,EAAOD,QAAU,IAAI4K,EAAK,yBAA0B,CAClD4O,KAAM,SACNjQ,QArBF,SAA4BI,GAC1B,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAIoE,EAAMpE,EAAK3D,OAEf,OAAgB,IAAR+H,IAAuB,SAATpE,GAA4B,SAATA,GAA4B,SAATA,IAC5C,IAARoE,IAAuB,UAATpE,GAA6B,UAATA,GAA6B,UAATA,IAgB9DmT,UAbF,SAA8BnT,GAC5B,MAAgB,SAATA,GACS,SAATA,GACS,SAATA,GAWPqJ,UARF,SAAmBpR,GACjB,MAAkD,qBAA3ChB,OAAOkB,UAAUsC,SAAS/D,KAAKuB,IAQtCqR,UAAW,CACTuN,UAAW,SAAU5e,GAAU,OAAOA,EAAS,OAAS,SACxD6e,UAAW,SAAU7e,GAAU,OAAOA,EAAS,OAAS,SACxD8e,UAAW,SAAU9e,GAAU,OAAOA,EAAS,OAAS,UAE1DsR,aAAc,eAGd,CAAC,UAAU,KAAKyN,GAAG,CAAC,SAASxe,EAAQlC,EAAOD,GAC9C,aAEA,IAAImN,EAAShL,EAAQ,aACjByI,EAASzI,EAAQ,WAEjBye,EAAqB,IAAIC,OAE3B,2LA6DEC,EAAyB,gBAwC7B7gB,EAAOD,QAAU,IAAI4K,EAAK,0BAA2B,CACnD4O,KAAM,SACNjQ,QA5FF,SAA0BI,GACxB,OAAa,OAATA,MAECiX,EAAmBxQ,KAAKzG,IAGC,MAA1BA,EAAKA,EAAK3D,OAAS,KAuFvB8W,UAhFF,SAA4BnT,GAC1B,IAAIxI,EAAO4f,EAAMC,EAAMC,EAUvB,OAPAF,EAAsB,OADtB5f,EAASwI,EAAK0H,QAAQ,KAAM,IAAI6P,eACjB,IAAc,EAAI,EACjCD,EAAS,GAEL,KAAKrR,QAAQzO,EAAM,KAAO,IAC5BA,EAAQA,EAAMoN,MAAM,IAGR,SAAVpN,EACe,IAAT4f,EAAcpU,OAAOwU,kBAAoBxU,OAAOC,kBAErC,SAAVzL,EACFigB,IAEEjgB,EAAMyO,QAAQ,MAAQ,GAC/BzO,EAAMkgB,MAAM,KAAKlD,SAAQ,SAAUmD,GACjCL,EAAOM,QAAQC,WAAWF,EAAG,QAG/BngB,EAAQ,EACR6f,EAAO,EAEPC,EAAO9C,SAAQ,SAAU3d,GACvBW,GAASX,EAAIwgB,EACbA,GAAQ,MAGHD,EAAO5f,GAGT4f,EAAOS,WAAWrgB,EAAO,KAgDhC6R,UATF,SAAiBpR,GACf,MAAmD,oBAA3ChB,OAAOkB,UAAUsC,SAAS/D,KAAKuB,KAC/BA,EAAS,GAAM,GAAKuL,EAAOV,eAAe7K,KAQlDqR,UA3CF,SAA4BrR,EAAQyM,GAClC,IAAI7E,EAEJ,GAAIiY,MAAM7f,GACR,OAAQyM,GACN,IAAK,YAAa,MAAO,OACzB,IAAK,YAAa,MAAO,OACzB,IAAK,YAAa,MAAO,YAEtB,GAAI1B,OAAOwU,oBAAsBvf,EACtC,OAAQyM,GACN,IAAK,YAAa,MAAO,OACzB,IAAK,YAAa,MAAO,OACzB,IAAK,YAAa,MAAO,YAEtB,GAAI1B,OAAOC,oBAAsBhL,EACtC,OAAQyM,GACN,IAAK,YAAa,MAAO,QACzB,IAAK,YAAa,MAAO,QACzB,IAAK,YAAa,MAAO,aAEtB,GAAIlB,EAAOV,eAAe7K,GAC/B,MAAO,OAQT,OALA4H,EAAM5H,EAAOwC,SAAS,IAKf0c,EAAuB1Q,KAAK5G,GAAOA,EAAI6H,QAAQ,IAAK,MAAQ7H,GAcnE0J,aAAc,eAGd,CAAC,YAAY,EAAE,UAAU,KAAKwO,GAAG,CAAC,SAASvf,EAAQlC,EAAOD,GAC5D,aAEA,IAAImN,EAAShL,EAAQ,aACjByI,EAASzI,EAAQ,WAQrB,SAASwf,EAAUphB,GACjB,OAAS,IAAeA,GAAOA,GAAK,GAGtC,SAASqhB,EAAUrhB,GACjB,OAAS,IAAeA,GAAOA,GAAK,GAyItCN,EAAOD,QAAU,IAAI4K,EAAK,wBAAyB,CACjD4O,KAAM,SACNjQ,QAxIF,SAA4BI,GAC1B,GAAa,OAATA,EAAe,OAAO,EAE1B,IAGI8O,EApBalY,EAiBbwN,EAAMpE,EAAK3D,OACX+G,EAAQ,EACR8U,GAAY,EAGhB,IAAK9T,EAAK,OAAO,EASjB,GAJW,OAHX0K,EAAK9O,EAAKoD,KAGe,MAAP0L,IAChBA,EAAK9O,IAAOoD,IAGH,MAAP0L,EAAY,CAEd,GAAI1L,EAAQ,IAAMgB,EAAK,OAAO,EAK9B,GAAW,OAJX0K,EAAK9O,IAAOoD,IAII,CAId,IAFAA,IAEOA,EAAQgB,EAAKhB,IAElB,GAAW,OADX0L,EAAK9O,EAAKoD,IACV,CACA,GAAW,MAAP0L,GAAqB,MAAPA,EAAY,OAAO,EACrCoJ,GAAY,EAEd,OAAOA,GAAoB,MAAPpJ,EAItB,GAAW,MAAPA,EAAY,CAId,IAFA1L,IAEOA,EAAQgB,EAAKhB,IAElB,GAAW,OADX0L,EAAK9O,EAAKoD,IACV,CACA,KA1DG,KADQxM,EA2DIoJ,EAAKoH,WAAWhE,KA1DNxM,GAAK,IAC3B,IAAeA,GAAOA,GAAK,IAC3B,IAAeA,GAAOA,GAAK,KAwDU,OAAO,EAC/CshB,GAAY,EAEd,OAAOA,GAAoB,MAAPpJ,EAItB,KAAO1L,EAAQgB,EAAKhB,IAElB,GAAW,OADX0L,EAAK9O,EAAKoD,IACV,CACA,IAAK4U,EAAUhY,EAAKoH,WAAWhE,IAAS,OAAO,EAC/C8U,GAAY,EAEd,OAAOA,GAAoB,MAAPpJ,EAMtB,GAAW,MAAPA,EAAY,OAAO,EAEvB,KAAO1L,EAAQgB,EAAKhB,IAElB,GAAW,OADX0L,EAAK9O,EAAKoD,IACV,CACA,GAAW,MAAP0L,EAAY,MAChB,IAAKmJ,EAAUjY,EAAKoH,WAAWhE,IAC7B,OAAO,EAET8U,GAAY,EAId,SAAKA,GAAoB,MAAPpJ,KAGP,MAAPA,GAGG,oBAAoBrI,KAAKzG,EAAK4E,MAAMxB,MAsD3C+P,UAnDF,SAA8BnT,GAC5B,IAA4B8O,EAAIuI,EAA5B7f,EAAQwI,EAAMoX,EAAO,EAAaE,EAAS,GAc/C,OAZ4B,IAAxB9f,EAAMyO,QAAQ,OAChBzO,EAAQA,EAAMkQ,QAAQ,KAAM,KAKnB,OAFXoH,EAAKtX,EAAM,KAEc,MAAPsX,IACL,MAAPA,IAAYsI,GAAQ,GAExBtI,GADAtX,EAAQA,EAAMoN,MAAM,IACT,IAGC,MAAVpN,EAAsB,EAEf,MAAPsX,EACe,MAAbtX,EAAM,GAAmB4f,EAAO1J,SAASlW,EAAMoN,MAAM,GAAI,GAC5C,MAAbpN,EAAM,GAAmB4f,EAAO1J,SAASlW,EAAO,IAC7C4f,EAAO1J,SAASlW,EAAO,IAGJ,IAAxBA,EAAMyO,QAAQ,MAChBzO,EAAMkgB,MAAM,KAAKlD,SAAQ,SAAUmD,GACjCL,EAAOM,QAAQlK,SAASiK,EAAG,QAG7BngB,EAAQ,EACR6f,EAAO,EAEPC,EAAO9C,SAAQ,SAAU3d,GACvBW,GAAUX,EAAIwgB,EACdA,GAAQ,MAGHD,EAAO5f,GAIT4f,EAAO1J,SAASlW,EAAO,KAY9B6R,UATF,SAAmBpR,GACjB,MAAoD,oBAA5ChB,OAAOkB,UAAUsC,SAAS/D,KAAKuB,IAC/BA,EAAS,GAAM,IAAMuL,EAAOV,eAAe7K,IAQnDqR,UAAW,CACT6O,OAAa,SAAUtM,GAAO,OAAOA,GAAO,EAAI,KAAOA,EAAIpR,SAAS,GAAK,MAAQoR,EAAIpR,SAAS,GAAGmK,MAAM,IACvGwT,MAAa,SAAUvM,GAAO,OAAOA,GAAO,EAAI,IAAOA,EAAIpR,SAAS,GAAK,KAAQoR,EAAIpR,SAAS,GAAGmK,MAAM,IACvGyT,QAAa,SAAUxM,GAAO,OAAOA,EAAIpR,SAAS,KAElD6d,YAAa,SAAUzM,GAAO,OAAOA,GAAO,EAAI,KAAOA,EAAIpR,SAAS,IAAIuJ,cAAiB,MAAQ6H,EAAIpR,SAAS,IAAIuJ,cAAcY,MAAM,KAExI2E,aAAc,UACdzE,aAAc,CACZqT,OAAa,CAAE,EAAI,OACnBC,MAAa,CAAE,EAAI,OACnBC,QAAa,CAAE,GAAI,OACnBC,YAAa,CAAE,GAAI,WAIrB,CAAC,YAAY,EAAE,UAAU,KAAKC,GAAG,CAAC,SAAS/f,EAAQlC,EAAOD,GAC5D,aAEA,IAAImiB,EASJ,IAGEA,EADehgB,EACI,WACnB,MAAOigB,GAEe,oBAAXC,SAAwBF,EAAUE,OAAOF,SAGtD,IAAIvX,EAAOzI,EAAQ,cAiEnBlC,EAAOD,QAAU,IAAI4K,EAAK,gCAAiC,CACzD4O,KAAM,SACNjQ,QAjEF,SAAmCI,GACjC,GAAa,OAATA,EAAe,OAAO,EAE1B,IACE,IAAImD,EAAS,IAAMnD,EAAO,IACtB2Y,EAASH,EAAQ1e,MAAMqJ,EAAQ,CAAEyV,OAAO,IAE5C,MAAoC,YAAhCD,EAAItf,MAC4B,IAAhCsf,EAAIE,KAAKxc,QACuB,wBAAhCsc,EAAIE,KAAK,GAAGxf,OACqB,4BAAhCsf,EAAIE,KAAK,GAAGC,WAAWzf,MACU,uBAAhCsf,EAAIE,KAAK,GAAGC,WAAWzf,MAK7B,MAAOkF,GACP,OAAO,IAiDT4U,UA7CF,SAAqCnT,GAGnC,IAGI6Y,EAHA1V,EAAS,IAAMnD,EAAO,IACtB2Y,EAASH,EAAQ1e,MAAMqJ,EAAQ,CAAEyV,OAAO,IACxCG,EAAS,GAGb,GAAoC,YAAhCJ,EAAItf,MAC4B,IAAhCsf,EAAIE,KAAKxc,QACuB,wBAAhCsc,EAAIE,KAAK,GAAGxf,MACqB,4BAAhCsf,EAAIE,KAAK,GAAGC,WAAWzf,MACU,uBAAhCsf,EAAIE,KAAK,GAAGC,WAAWzf,KAC3B,MAAM,IAAII,MAAM,8BAWlB,OARAkf,EAAIE,KAAK,GAAGC,WAAWC,OAAOvE,SAAQ,SAAUwE,GAC9CD,EAAOjd,KAAKkd,EAAMliB,SAGpB+hB,EAAOF,EAAIE,KAAK,GAAGC,WAAWD,KAAKD,MAIM,mBAArCD,EAAIE,KAAK,GAAGC,WAAWD,KAAKxf,KAEvB,IAAI4f,SAASF,EAAQ5V,EAAOyB,MAAMiU,EAAK,GAAK,EAAGA,EAAK,GAAK,IAK3D,IAAII,SAASF,EAAQ,UAAY5V,EAAOyB,MAAMiU,EAAK,GAAIA,EAAK,MAenExP,UARF,SAAoBpR,GAClB,MAAkD,sBAA3ChB,OAAOkB,UAAUsC,SAAS/D,KAAKuB,IAQtCqR,UAbF,SAAqCrR,GACnC,OAAOA,EAAOwC,eAed,CAAC,aAAa,KAAKye,GAAG,CAAC,SAAS1gB,EAAQlC,EAAOD,GACjD,aAEA,IAAI4K,EAAOzI,EAAQ,cAmDnBlC,EAAOD,QAAU,IAAI4K,EAAK,8BAA+B,CACvD4O,KAAM,SACNjQ,QAnDF,SAAiCI,GAC/B,GAAa,OAATA,EAAe,OAAO,EAC1B,GAAoB,IAAhBA,EAAK3D,OAAc,OAAO,EAE9B,IAAI8c,EAASnZ,EACTiU,EAAS,cAAcvT,KAAKV,GAC5BoZ,EAAY,GAIhB,GAAkB,MAAdD,EAAO,GAAY,CAGrB,GAFIlF,IAAMmF,EAAYnF,EAAK,IAEvBmF,EAAU/c,OAAS,EAAG,OAAO,EAEjC,GAAqD,MAAjD8c,EAAOA,EAAO9c,OAAS+c,EAAU/c,OAAS,GAAY,OAAO,EAGnE,OAAO,GAkCP8W,UA/BF,SAAmCnT,GACjC,IAAImZ,EAASnZ,EACTiU,EAAS,cAAcvT,KAAKV,GAC5BoZ,EAAY,GAQhB,MALkB,MAAdD,EAAO,KACLlF,IAAMmF,EAAYnF,EAAK,IAC3BkF,EAASA,EAAOvU,MAAM,EAAGuU,EAAO9c,OAAS+c,EAAU/c,OAAS,IAGvD,IAAI6a,OAAOiC,EAAQC,IAqB1B/P,UARF,SAAkBpR,GAChB,MAAkD,oBAA3ChB,OAAOkB,UAAUsC,SAAS/D,KAAKuB,IAQtCqR,UAnBF,SAAmCrR,GACjC,IAAI4K,EAAS,IAAM5K,EAAOkL,OAAS,IAMnC,OAJIlL,EAAOohB,SAAQxW,GAAU,KACzB5K,EAAOqhB,YAAWzW,GAAU,KAC5B5K,EAAOshB,aAAY1W,GAAU,KAE1BA,MAeP,CAAC,aAAa,KAAK2W,GAAG,CAAC,SAAShhB,EAAQlC,EAAOD,GACjD,aAEA,IAAI4K,EAAOzI,EAAQ,cAmBnBlC,EAAOD,QAAU,IAAI4K,EAAK,iCAAkC,CAC1D4O,KAAM,SACNjQ,QAnBF,WACE,OAAO,GAmBPuT,UAhBF,aAiBE9J,UARF,SAAqBpR,GACnB,YAAyB,IAAXA,GAQdqR,UAbF,WACE,MAAO,OAeP,CAAC,aAAa,KAAKmQ,GAAG,CAAC,SAASjhB,EAAQlC,EAAOD,GACjD,aAEA,IAAI4K,EAAOzI,EAAQ,WAEnBlC,EAAOD,QAAU,IAAI4K,EAAK,wBAAyB,CACjD4O,KAAM,UACNsD,UAAW,SAAUnT,GAAQ,OAAgB,OAATA,EAAgBA,EAAO,OAG3D,CAAC,UAAU,KAAK0Z,GAAG,CAAC,SAASlhB,EAAQlC,EAAOD,GAC9C,aAEA,IAAI4K,EAAOzI,EAAQ,WAMnBlC,EAAOD,QAAU,IAAI4K,EAAK,0BAA2B,CACnD4O,KAAM,SACNjQ,QANF,SAA0BI,GACxB,MAAgB,OAATA,GAA0B,OAATA,MAQxB,CAAC,UAAU,KAAK2Z,GAAG,CAAC,SAASnhB,EAAQlC,EAAOD,GAC9C,aAEA,IAAI4K,EAAOzI,EAAQ,WAmBnBlC,EAAOD,QAAU,IAAI4K,EAAK,yBAA0B,CAClD4O,KAAM,SACNjQ,QAnBF,SAAyBI,GACvB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAIoE,EAAMpE,EAAK3D,OAEf,OAAgB,IAAR+H,GAAsB,MAATpE,GACL,IAARoE,IAAuB,SAATpE,GAA4B,SAATA,GAA4B,SAATA,IAc5DmT,UAXF,WACE,OAAO,MAWP9J,UARF,SAAgBpR,GACd,OAAkB,OAAXA,GAQPqR,UAAW,CACTsQ,UAAW,WAAc,MAAO,KAChC/C,UAAW,WAAc,MAAO,QAChCC,UAAW,WAAc,MAAO,QAChCC,UAAW,WAAc,MAAO,SAElCxN,aAAc,eAGd,CAAC,UAAU,KAAKsQ,GAAG,CAAC,SAASrhB,EAAQlC,EAAOD,GAC9C,aAEA,IAAI4K,EAAOzI,EAAQ,WAEfkL,EAAkBzM,OAAOkB,UAAUC,eACnCqL,EAAkBxM,OAAOkB,UAAUsC,SAkCvCnE,EAAOD,QAAU,IAAI4K,EAAK,yBAA0B,CAClD4O,KAAM,WACNjQ,QAlCF,SAAyBI,GACvB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAqBoD,EAAO/G,EAAQyd,EAAMC,EAASC,EAA/CC,EAAa,GACbhiB,EAAS+H,EAEb,IAAKoD,EAAQ,EAAG/G,EAASpE,EAAOoE,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAAG,CAIlE,GAHA0W,EAAO7hB,EAAOmL,GACd4W,GAAa,EAEgB,oBAAzBvW,EAAU/M,KAAKojB,GAA6B,OAAO,EAEvD,IAAKC,KAAWD,EACd,GAAIpW,EAAgBhN,KAAKojB,EAAMC,GAAU,CACvC,GAAKC,EACA,OAAO,EADKA,GAAa,EAKlC,IAAKA,EAAY,OAAO,EAExB,IAAqC,IAAjCC,EAAWhU,QAAQ8T,GAClB,OAAO,EAD4BE,EAAWne,KAAKie,GAI1D,OAAO,GAUP5G,UAPF,SAA2BnT,GACzB,OAAgB,OAATA,EAAgBA,EAAO,OAS9B,CAAC,UAAU,KAAKka,GAAG,CAAC,SAAS1hB,EAAQlC,EAAOD,GAC9C,aAEA,IAAI4K,EAAOzI,EAAQ,WAEfiL,EAAYxM,OAAOkB,UAAUsC,SA4CjCnE,EAAOD,QAAU,IAAI4K,EAAK,0BAA2B,CACnD4O,KAAM,WACNjQ,QA5CF,SAA0BI,GACxB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAIoD,EAAO/G,EAAQyd,EAAMxW,EAAMT,EAC3B5K,EAAS+H,EAIb,IAFA6C,EAAS,IAAItH,MAAMtD,EAAOoE,QAErB+G,EAAQ,EAAG/G,EAASpE,EAAOoE,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAAG,CAGlE,GAFA0W,EAAO7hB,EAAOmL,GAEe,oBAAzBK,EAAU/M,KAAKojB,GAA6B,OAAO,EAIvD,GAAoB,KAFpBxW,EAAOrM,OAAOqM,KAAKwW,IAEVzd,OAAc,OAAO,EAE9BwG,EAAOO,GAAS,CAAEE,EAAK,GAAIwW,EAAKxW,EAAK,KAGvC,OAAO,GAyBP6P,UAtBF,SAA4BnT,GAC1B,GAAa,OAATA,EAAe,MAAO,GAE1B,IAAIoD,EAAO/G,EAAQyd,EAAMxW,EAAMT,EAC3B5K,EAAS+H,EAIb,IAFA6C,EAAS,IAAItH,MAAMtD,EAAOoE,QAErB+G,EAAQ,EAAG/G,EAASpE,EAAOoE,OAAQ+G,EAAQ/G,EAAQ+G,GAAS,EAC/D0W,EAAO7hB,EAAOmL,GAEdE,EAAOrM,OAAOqM,KAAKwW,GAEnBjX,EAAOO,GAAS,CAAEE,EAAK,GAAIwW,EAAKxW,EAAK,KAGvC,OAAOT,MASP,CAAC,UAAU,KAAKsX,GAAG,CAAC,SAAS3hB,EAAQlC,EAAOD,GAC9C,aAEA,IAAI4K,EAAOzI,EAAQ,WAEnBlC,EAAOD,QAAU,IAAI4K,EAAK,wBAAyB,CACjD4O,KAAM,WACNsD,UAAW,SAAUnT,GAAQ,OAAgB,OAATA,EAAgBA,EAAO,OAG3D,CAAC,UAAU,KAAKoa,GAAG,CAAC,SAAS5hB,EAAQlC,EAAOD,GAC9C,aAEA,IAAI4K,EAAOzI,EAAQ,WAEfkL,EAAkBzM,OAAOkB,UAAUC,eAoBvC9B,EAAOD,QAAU,IAAI4K,EAAK,wBAAyB,CACjD4O,KAAM,UACNjQ,QApBF,SAAwBI,GACtB,GAAa,OAATA,EAAe,OAAO,EAE1B,IAAIlI,EAAKG,EAAS+H,EAElB,IAAKlI,KAAOG,EACV,GAAIyL,EAAgBhN,KAAKuB,EAAQH,IACX,OAAhBG,EAAOH,GAAe,OAAO,EAIrC,OAAO,GAUPqb,UAPF,SAA0BnT,GACxB,OAAgB,OAATA,EAAgBA,EAAO,OAS9B,CAAC,UAAU,KAAKqa,GAAG,CAAC,SAAS7hB,EAAQlC,EAAOD,GAC9C,aAEA,IAAI4K,EAAOzI,EAAQ,WAEnBlC,EAAOD,QAAU,IAAI4K,EAAK,wBAAyB,CACjD4O,KAAM,SACNsD,UAAW,SAAUnT,GAAQ,OAAgB,OAATA,EAAgBA,EAAO,OAG3D,CAAC,UAAU,KAAKsa,GAAG,CAAC,SAAS9hB,EAAQlC,EAAOD,GAC9C,aAEA,IAAI4K,EAAOzI,EAAQ,WAEf+hB,EAAmB,IAAIrD,OACzB,sDAIEsD,EAAwB,IAAItD,OAC9B,oLAuEF5gB,EAAOD,QAAU,IAAI4K,EAAK,8BAA+B,CACvD4O,KAAM,SACNjQ,QA9DF,SAA8BI,GAC5B,OAAa,OAATA,IACgC,OAAhCua,EAAiB7Z,KAAKV,IACe,OAArCwa,EAAsB9Z,KAAKV,KA4D/BmT,UAxDF,SAAgCnT,GAC9B,IAAI+H,EAAO0S,EAAMC,EAAOC,EAAKC,EAAMC,EAAQC,EACLC,EADaC,EAAW,EAC1DC,EAAQ,KAKZ,GAFc,QADdlT,EAAQwS,EAAiB7Z,KAAKV,MACV+H,EAAQyS,EAAsB9Z,KAAKV,IAEzC,OAAV+H,EAAgB,MAAM,IAAItO,MAAM,sBAQpC,GAJAghB,GAAS1S,EAAM,GACf2S,GAAU3S,EAAM,GAAM,EACtB4S,GAAQ5S,EAAM,IAETA,EAAM,GACT,OAAO,IAAImT,KAAKA,KAAKC,IAAIV,EAAMC,EAAOC,IASxC,GAJAC,GAAS7S,EAAM,GACf8S,GAAW9S,EAAM,GACjB+S,GAAW/S,EAAM,GAEbA,EAAM,GAAI,CAEZ,IADAiT,EAAWjT,EAAM,GAAGnD,MAAM,EAAG,GACtBoW,EAAS3e,OAAS,GACvB2e,GAAY,IAEdA,GAAYA,EAgBd,OAXIjT,EAAM,KAGRkT,EAAqC,KAAlB,IAFPlT,EAAM,OACJA,EAAM,KAAO,IAEV,MAAbA,EAAM,KAAYkT,GAASA,IAGjCF,EAAO,IAAIG,KAAKA,KAAKC,IAAIV,EAAMC,EAAOC,EAAKC,EAAMC,EAAQC,EAAQE,IAE7DC,GAAOF,EAAKK,QAAQL,EAAKM,UAAYJ,GAElCF,GAWP3R,WAAY8R,KACZ5R,UATF,SAAgCrR,GAC9B,OAAOA,EAAOqjB,kBAWd,CAAC,UAAU,KAAK,IAAI,CAAC,SAAS9iB,EAAQlC,EAAOD,GAC/C,aAGA,IAAIklB,EAAO/iB,EAAQ,oBAGnBlC,EAAOD,QAAUklB,GAEf,CAAC,mBAAmB,KAAK,GAAG,GAx2HsY,CAw2HlY,M,qJCt2HlC,IAGMC,EAHAC,EAASjjB,EAAQ,GAEjBkjB,GACAF,EAAU,EACP,SAAkBxf,GACvB,OAAOA,EAAE1B,KAAO0B,EAAE1B,KAAOkhB,KAe7B,SAASG,EAAWC,EAAKC,GACvB,OAAOD,EAAIE,QAAO,SAACC,EAAM/f,GAAP,OAAa+f,EAAKC,OAGtC,SAASC,EAAQjgB,EAAG6f,GAElB,GAAI7f,EAAElF,KACJ,OAAIkF,EAAES,OAAOyf,IACJ,CAAEjlB,OAAOklB,OAAO,GAAIngB,EAAG,CAAES,OAAQ,CAAE2f,GAAIC,EAAUrgB,EAAES,OAAOyf,IAAKL,OAExE,CAAS5kB,OAAOklB,OAAO,GAAIngB,EAAG,CAAES,OAAQ,CAAE2f,GAAIV,EAAS1f,EAAES,YAAzD,SAA0Ewf,EAAQjgB,EAAES,OAAQof,KAI9F,GAAI7f,EAAE/D,OAAQ,CACZ,IAAIqkB,EAASX,EAAW3f,EAAEsgB,OAAO3gB,KAAI,SAAAM,GAEnC,OAAOA,EAAEnF,OAASmF,EAAEhE,SAAUgE,EAAEsgB,OAC5BtgB,EAAEugB,KAASvgB,EAAEhE,QAAUgE,EAAEsgB,MACtBtgB,EADuChF,OAAOklB,OAAO,GAAIlgB,EAAG,CAAEwgB,QAAQ,IAD5B,CAAE3lB,KAAM,GAAI2F,OAAQR,MAGnE4f,GACJ,OAAS5kB,OAAOklB,OAAO,GAAIngB,EAAG,CAAEsgB,OAAQA,EAAOzH,QAAO,SAAA5Y,GAAA,OAAKA,EAAEnF,MAAQmF,EAAEwgB,aAAvE,SAAsFH,EAAOzH,QAAO,SAAA5Y,GAAA,OAAOA,EAAEnF,OAASmF,EAAEwgB,YAI1H,GAAIzgB,EAAEugB,MAAO,CACX,IAAID,EAASX,EAAW3f,EAAEugB,MAAM5gB,KAAI,SAAAM,GAElC,OAAOA,EAAEnF,KACFmF,EADiB,CAAEnF,KAAM,GAAI2F,OAAQR,MAE1C4f,GACJ,OAAS5kB,OAAOklB,OAAO,GAAIngB,EAAG,CAAEugB,MAAOD,EAAOzH,QAAO,SAAA5Y,GAAA,OAAKA,EAAEnF,WAA5D,SAAyEwlB,EAAOzH,QAAO,SAAA5Y,GAAA,OAAOA,EAAEnF,UAIlG,QAAcyG,IAAVvB,EAAEwgB,IAAqB,MAAO,CAAExgB,GAEpC,MAAM,IAAIvC,MAAJ,4BAAsCxC,OAAOqM,KAAKtH,IApCbigB,CAAQjgB,EAAR,YAAgB4f,GAAhB,EAAwBC,QAAe,IAuCpF,SAASQ,EAAUH,EAAKL,GACtB,IAAIa,EAAOb,EAAUc,MAAK,SAAAxgB,GAAA,OAAKA,EAAErF,MAAQqF,EAAErF,KAAKolB,MAAQA,KACxD,IAAOQ,EAAM,CACX,IAAIE,GAAc,EADP,uBAEX,YAAgBf,EAAhB,+CAA2B,KAAlBzgB,EAAkB,QACzB,GAAIA,EAAIqB,QAAUrB,EAAIqB,OAAO6f,SAC3BI,EAAOthB,EAAIqB,OAAO6f,OAAOK,MAAK,SAAAxgB,GAAA,OAAKA,EAAErF,MAAQqF,EAAErF,KAAKolB,MAAQA,MAClD,CACRU,GAAc,EACd,QAPK,6EAWX,IAAOA,EACL,MAAM,IAAInjB,MAAJ,2BAAqCyiB,GAG/C,OAAIQ,EAAKjgB,OAAOyf,IAAcG,EAAUK,EAAKjgB,OAAOyf,IAAKL,GAClDH,EAASgB,EAAKjgB,QAevBnG,EAAOD,QAAU,CAAEyD,MAZnB,SAAeJ,GACb,IACE,OAAO+hB,EAAO3hB,MAAMJ,GACpB,MAAOsC,GAKP,MAJIA,EAAE6gB,WACJ7gB,EAAEkP,SAAF,UAAuBlP,EAAE6gB,SAAS/T,MAAMjD,KAAxC,QAAoD7J,EAAE6gB,SAAS/T,MAAM+K,OAArE,KAEF7X,EAAE8O,MAAQpR,EACJsC,IAIgBhC,UApF1B,SAAmBH,GACjB,MAAO,CACLijB,MAImBC,EAJCljB,EAAKijB,KAKvBf,EAAOJ,EAAWoB,EAAO,IACtBhB,IAFT,IAAuBgB,EACjBhB,K,6BCJN,SAASiB,EAAgB9R,EAAS+R,EAAUC,EAAOL,GACjD9jB,KAAKmS,QAAWA,EAChBnS,KAAKkkB,SAAWA,EAChBlkB,KAAKmkB,MAAWA,EAChBnkB,KAAK8jB,SAAWA,EAChB9jB,KAAKjC,KAAW,cAEuB,mBAA5B2C,MAAM0R,mBACf1R,MAAM0R,kBAAkBpS,KAAMikB,IAdlC,SAAsBG,EAAOC,GAC3B,SAASC,IAAStkB,KAAKyH,YAAc2c,EACrCE,EAAKllB,UAAYilB,EAAOjlB,UACxBglB,EAAMhlB,UAAY,IAAIklB,EAexBC,CAAaN,EAAiBvjB,OAE9BujB,EAAgBO,aAAe,SAASN,EAAUC,GAChD,IAAIM,EAA2B,CACzBC,QAAS,SAASC,GAChB,MAAO,IAAOC,EAAcD,EAAYhkB,MAAQ,KAGlD,MAAS,SAASgkB,GAChB,IACInnB,EADAqnB,EAAe,GAGnB,IAAKrnB,EAAI,EAAGA,EAAImnB,EAAYG,MAAMxhB,OAAQ9F,IACxCqnB,GAAgBF,EAAYG,MAAMtnB,aAAcgF,MAC5CuiB,EAAYJ,EAAYG,MAAMtnB,GAAG,IAAM,IAAMunB,EAAYJ,EAAYG,MAAMtnB,GAAG,IAC9EunB,EAAYJ,EAAYG,MAAMtnB,IAGpC,MAAO,KAAOmnB,EAAYK,SAAW,IAAM,IAAMH,EAAe,KAGlEI,IAAK,SAASN,GACZ,MAAO,iBAGT9U,IAAK,SAAS8U,GACZ,MAAO,gBAGTO,MAAO,SAASP,GACd,OAAOA,EAAYQ,cAI3B,SAASC,EAAIrP,GACX,OAAOA,EAAG1H,WAAW,GAAG3M,SAAS,IAAIuJ,cAGvC,SAAS2Z,EAAcrlB,GACrB,OAAOA,EACJoP,QAAQ,MAAO,QACfA,QAAQ,KAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,gBAAyB,SAASoH,GAAM,MAAO,OAASqP,EAAIrP,MACpEpH,QAAQ,yBAAyB,SAASoH,GAAM,MAAO,MAASqP,EAAIrP,MAGzE,SAASgP,EAAYxlB,GACnB,OAAOA,EACJoP,QAAQ,MAAO,QACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,KAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,gBAAyB,SAASoH,GAAM,MAAO,OAASqP,EAAIrP,MACpEpH,QAAQ,yBAAyB,SAASoH,GAAM,MAAO,MAASqP,EAAIrP,MA6CzE,MAAO,YAtCP,SAA0BmO,GACxB,IACI1mB,EAAG6nB,EANoBV,EAKvBW,EAAe,IAAI9iB,MAAM0hB,EAAS5gB,QAGtC,IAAK9F,EAAI,EAAGA,EAAI0mB,EAAS5gB,OAAQ9F,IAC/B8nB,EAAa9nB,IATYmnB,EASaT,EAAS1mB,GAR1CinB,EAAyBE,EAAYrkB,MAAMqkB,IAalD,GAFAW,EAAajU,OAETiU,EAAahiB,OAAS,EAAG,CAC3B,IAAK9F,EAAI,EAAG6nB,EAAI,EAAG7nB,EAAI8nB,EAAahiB,OAAQ9F,IACtC8nB,EAAa9nB,EAAI,KAAO8nB,EAAa9nB,KACvC8nB,EAAaD,GAAKC,EAAa9nB,GAC/B6nB,KAGJC,EAAahiB,OAAS+hB,EAGxB,OAAQC,EAAahiB,QACnB,KAAK,EACH,OAAOgiB,EAAa,GAEtB,KAAK,EACH,OAAOA,EAAa,GAAK,OAASA,EAAa,GAEjD,QACE,OAAOA,EAAazZ,MAAM,GAAI,GAAG0Z,KAAK,MAClC,QACAD,EAAaA,EAAahiB,OAAS,IAQxBkiB,CAAiBtB,GAAY,QAJlD,SAAuBC,GACrB,OAAOA,EAAQ,IAAOS,EAAcT,GAAS,IAAO,eAGMsB,CAActB,GAAS,WAsqDrF5mB,EAAOD,QAAU,CACfooB,YAAazB,EACbljB,MArqDF,SAAmBgR,EAAO/L,GACxBA,OAAsB,IAAZA,EAAqBA,EAAU,GAEzC,IAwFI2f,EAxFAC,EAAa,GAEbC,EAAyB,CAAEC,QAASC,IACpCC,EAAyBD,GAOzBE,EAASC,EAAuB,KAAK,GAErCC,EAASD,EAAuB,KAAK,GAGrCE,EAAUF,EAAuB,KAAK,GAGtCG,EAAUH,EAAuB,KAAK,GAEtCI,EAAUJ,EAAuB,KAAK,GAGtCK,EAAUL,EAAuB,MAAM,GAEvCM,EAAUN,EAAuB,MAAM,GAIvCO,EAAU,SAASC,EAAOC,GAAM,OAAOA,GACvCC,EAAU,SAASF,EAAOG,GAAQ,MAAO,CAAEH,KAAUG,IAErDC,EAAUZ,EAAuB,KAAK,GAEtCa,EAAUb,EAAuB,KAAK,GAGtCc,EAAUd,EAAuB,KAAM,GACvCe,EAAU,QACVC,EAAUC,EAAqB,CAAC,MAAO,GAAM,GAG7CC,EAAU,SACVC,EAAUF,EAAqB,CAAC,CAAC,IAAK,OAAO,GAAO,GAEpDG,EAAUpB,EAAuB,KAAK,GAItCqB,EAAUrB,EAAuB,QAAQ,GAGzCsB,EAAUtB,EAAuB,SAAS,GAG1CuB,EAAUvB,EAAuB,KAAK,GACtCwB,EA2EK,CAAEpnB,KAAM,OA1EbqnB,EAAU,WAAa,OAAOhnB,KAE9BinB,EAAU1B,EAAuB,QAAQ,GAGzC2B,EAAU3B,EAAuB,KAAK,GAEtC4B,EAAU5B,EAAuB,KAAK,GAEtC6B,EAAU,sBACVC,EAAUb,EAAqB,CAAC,CAAC,IAAK,KAAM,CAAC,IAAK,KAAM,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAAM,GAAO,GAExGc,EAAU/B,EAAuB,KAAK,GAEtCgC,EAAUhC,EAAuB,KAAK,GAEtCiC,EAAUjC,EAAuB,MAAM,GACvCkC,EAAU,WACVC,EAAUlB,EAAqB,CAAC,KAAM,OAAO,GAAM,GACnDmB,EAAU,SACVC,EAAUpB,EAAqB,CAAC,IAAK,OAAO,GAAO,GACnDqB,EAAU,UACVC,EAAUtB,EAAqB,CAAC,KAAM,OAAO,GAAO,GAEpDuB,EAAuB,EACvBC,EAAuB,EACvBC,EAAuB,CAAC,CAAE9b,KAAM,EAAGgO,OAAQ,IAC3C+N,EAAuB,EACvBC,EAAuB,GAK3B,GAAI,cAAe9iB,EAAS,CAC1B,KAAMA,EAAQ+iB,aAAalD,GACzB,MAAM,IAAInlB,MAAM,mCAAqCsF,EAAQ+iB,UAAY,MAG3E/C,EAAwBH,EAAuB7f,EAAQ+iB,WAGzD,SAASpoB,IACP,OAAOoR,EAAMpQ,UAAUgnB,EAAcD,GAuBvC,SAASxC,EAAuBvlB,EAAM6f,GACpC,MAAO,CAAElgB,KAAM,UAAWK,KAAMA,EAAM6f,WAAYA,GAGpD,SAAS2G,EAAqBrC,EAAOE,EAAUxE,GAC7C,MAAO,CAAElgB,KAAM,QAASwkB,MAAOA,EAAOE,SAAUA,EAAUxE,WAAYA,GAexE,SAASwI,EAAsBC,GAC7B,IAAwC3pB,EAApC4pB,EAAUN,EAAoBK,GAElC,GAAIC,EACF,OAAOA,EAGP,IADA5pB,EAAI2pB,EAAM,GACFL,EAAoBtpB,IAC1BA,IASF,IALA4pB,EAAU,CACRpc,MAFFoc,EAAUN,EAAoBtpB,IAEZwN,KAChBgO,OAAQoO,EAAQpO,QAGXxb,EAAI2pB,GACmB,KAAxBlX,EAAM1D,WAAW/O,IACnB4pB,EAAQpc,OACRoc,EAAQpO,OAAS,GAEjBoO,EAAQpO,SAGVxb,IAIF,OADAspB,EAAoBK,GAAOC,EACpBA,EAIX,SAASC,EAAoBtT,EAAUuT,GACrC,IAAIC,EAAkBL,EAAsBnT,GACxCyT,EAAkBN,EAAsBI,GAE5C,MAAO,CACLrZ,MAAO,CACLwZ,OAAQ1T,EACR/I,KAAQuc,EAAgBvc,KACxBgO,OAAQuO,EAAgBvO,QAE1BjL,IAAK,CACH0Z,OAAQH,EACRtc,KAAQwc,EAAcxc,KACtBgO,OAAQwO,EAAcxO,SAK5B,SAAS0O,EAAStF,GACZwE,EAAcG,IAEdH,EAAcG,IAChBA,EAAiBH,EACjBI,EAAsB,IAGxBA,EAAoB/lB,KAAKmhB,IAO3B,SAASuF,GAAyBvF,EAAUC,EAAOL,GACjD,OAAO,IAAIG,EACTA,EAAgBO,aAAaN,EAAUC,GACvCD,EACAC,EACAL,GAIJ,SAASiC,KACP,IAAI2D,EAAIC,EAAIC,EAAIC,EAIhB,GAFAH,EAAKhB,GACLiB,EAwBF,WACE,IAAID,EAAIC,EAAIC,EAAIC,EAAIC,EAEpBJ,EAAKhB,EACLiB,EAAK,GACLC,EAAKlB,EACLmB,EAAK,GACLC,EAAKC,KACL,KAAOD,IAAOlE,GACZiE,EAAG9mB,KAAK+mB,GACRA,EAAKC,KAEHF,IAAOjE,IACTkE,EAAKE,QACMpE,IACTkE,EAAKG,MAEHH,IAAOlE,GACT+C,EAAeiB,EAEfA,EADAC,EAAYC,IAGZpB,EAAckB,EACdA,EAAKhE,KAGP8C,EAAckB,EACdA,EAAKhE,GAEP,KAAOgE,IAAOhE,GAAY,CAKxB,IAJA+D,EAAG5mB,KAAK6mB,GACRA,EAAKlB,EACLmB,EAAK,GACLC,EAAKC,KACED,IAAOlE,GACZiE,EAAG9mB,KAAK+mB,GACRA,EAAKC,KAEHF,IAAOjE,IACTkE,EAAKE,QACMpE,IACTkE,EAAKG,MAEHH,IAAOlE,GACT+C,EAAeiB,EAEfA,EADAC,EAAYC,IAGZpB,EAAckB,EACdA,EAAKhE,KAGP8C,EAAckB,EACdA,EAAKhE,GAGL+D,IAAO/D,IACT+C,EAAee,EACfC,EAAYA,GAId,OAFAD,EAAKC,EApFAO,MACMtE,EAAY,CAGrB,IAFAgE,EAAK,GACLC,EAAKE,KACEF,IAAOjE,GACZgE,EAAG7mB,KAAK8mB,GACRA,EAAKE,KAEHH,IAAOhE,GACT+C,EAAee,EAEfA,EADAC,EAlO+B,CAAE5F,KAkOrB4F,KAGZjB,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EAoET,SAASM,KACP,IAAIN,EAAIC,EAAIC,EAAIC,EAAIC,EAAIK,EA2CxB,OAzCAT,EAAKhB,GACLiB,EA2CF,WACE,IAAID,GAEJA,EAi7BF,WACE,IAAIA,EAAIC,EAERD,EAAKhB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnBiB,EAjuCU,IAkuCVjB,MAEAiB,EAAK/D,EACwB4D,EAAS3B,IAEpC8B,IAAO/D,IACT+C,EAAee,EACfC,EAzxC6B,IA6xC/B,OAFAD,EAAKC,EAh8BAS,MACMxE,IACT8D,EAAKW,MAGP,OAAOX,EAnDFY,MACM1E,IACTgE,EAAKW,QACM3E,IACTgE,EAAK,MAEHA,IAAOhE,IACTiE,EA+CN,WACE,IAAIH,GAEJA,EAQF,WACE,IAAIA,EAAIC,EAAIC,EAEZF,EAAKhB,EACLiB,EAAK,GACiC,KAAlC5X,EAAM1D,WAAWqa,IACnBkB,EAxXS,IAyXTlB,MAEAkB,EAAKhE,EACwB4D,EAASvD,IAExC,GAAI2D,IAAOhE,EACT,KAAOgE,IAAOhE,GACZ+D,EAAG5mB,KAAK6mB,GAC8B,KAAlC7X,EAAM1D,WAAWqa,IACnBkB,EAlYK,IAmYLlB,MAEAkB,EAAKhE,EACwB4D,EAASvD,SAI1C0D,EAAK/D,EAEH+D,IAAO/D,GAC6B,KAAlC7T,EAAM1D,WAAWqa,IACnBkB,EA5YO,IA6YPlB,MAEAkB,EAAKhE,EACwB4D,EAASrD,IAEpCyD,IAAOhE,GACT+C,EAAee,EAEfA,EADAC,EAlZ2B,KAqZ3BjB,EAAcgB,EACdA,EAAK9D,KAGP8C,EAAcgB,EACdA,EAAK9D,GAGP,OAAO8D,EAvDFc,MACM5E,IACT8D,EAwDJ,WACE,IAAIA,EAAIC,EAAIC,EAEZF,EAAKhB,EACLiB,EAAK,GACiC,KAAlC5X,EAAM1D,WAAWqa,IACnBkB,EAraS,IAsaTlB,MAEAkB,EAAKhE,EACwB4D,EAASpD,IAExC,GAAIwD,IAAOhE,EACT,KAAOgE,IAAOhE,GACZ+D,EAAG5mB,KAAK6mB,GAC8B,KAAlC7X,EAAM1D,WAAWqa,IACnBkB,EA/aK,IAgbLlB,MAEAkB,EAAKhE,EACwB4D,EAASpD,SAI1CuD,EAAK/D,EAEH+D,IAAO/D,GAC6B,KAAlC7T,EAAM1D,WAAWqa,IACnBkB,EA9bO,IA+bPlB,MAEAkB,EAAKhE,EACwB4D,EAASrD,IAEpCyD,IAAOhE,GACT+C,EAAee,EAEfA,EADAC,EAjc4B,CAAEc,WAAW,KAoczC/B,EAAcgB,EACdA,EAAK9D,KAGP8C,EAAcgB,EACdA,EAAK9D,GAGP,OAAO8D,EAvGAgB,IAGP,OAAOhB,EAvDEiB,MACM/E,IACTkE,EAAKS,QACM3E,IACTkE,EAAK,MAEHA,IAAOlE,IACTuE,EAAKS,QACMhF,GACT+C,EAAee,EAEfA,EADAC,EAnUwCkB,GAAM,CAAE9sB,KAmUpC4rB,EAnU0CjmB,OAmUlCymB,GAAJN,KAOlBnB,EAAcgB,EACdA,EAAK9D,KAOT8C,EAAcgB,EACdA,EAAK9D,KAGP8C,EAAcgB,EACdA,EAAK9D,GAGA8D,EA6HT,SAASkB,KACP,IAAIlB,EAOJ,OALAA,EAAKO,QACMrE,IACT8D,EAAKW,MAGAX,EAGT,SAASO,KACP,IAAIP,EAaJ,OAXAA,EAcF,WACE,IAAIA,GAEJA,EAQF,WACE,IAAIA,EAAIC,EAAIC,EAAIC,EAEhBH,EAAKhB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnBiB,EA1fU,IA2fVjB,MAEAiB,EAAK/D,EACwB4D,EAASnD,IAEpCsD,IAAO/D,IACTgE,EAAKkB,QACMlF,GAC6B,KAAlC7T,EAAM1D,WAAWqa,IACnBmB,EAlgBM,IAmgBNnB,MAEAmB,EAAKjE,EACwB4D,EAASlD,IAEpCuD,IAAOjE,GACT+C,EAAee,EAEfA,EADAC,EAAaC,IAGblB,EAAcgB,EACdA,EAAK9D,KAOT8C,EAAcgB,EACdA,EAAK9D,GAGP,OAAO8D,EA9CFqB,MACMnF,IACT8D,EA+CJ,WACE,IAAIA,EAAIC,EAAIC,EAAIC,EAEhBH,EAAKhB,EA5hBO,OA6hBR3W,EAAMiZ,OAAOtC,EAAa,IAC5BiB,EA9hBU,KA+hBVjB,GAAe,IAEfiB,EAAK/D,EACwB4D,EAASjD,IAEpCoD,IAAO/D,IACTgE,EAAKkB,QACMlF,GApiBD,OAqiBJ7T,EAAMiZ,OAAOtC,EAAa,IAC5BmB,EAtiBM,KAuiBNnB,GAAe,IAEfmB,EAAKjE,EACwB4D,EAAShD,IAEpCqD,IAAOjE,GACT+C,EAAee,EACfC,EA5iBmCkB,GAAM,CAAEJ,WAAW,GA4iBzCb,GACbF,EAAKC,IAELjB,EAAcgB,EACdA,EAAK9D,KAOT8C,EAAcgB,EACdA,EAAK9D,GAGP,OAAO8D,EArFAuB,IAGP,OAAOvB,EAtBFwB,MACMtF,IACT8D,EA2TJ,WACE,IAAIA,EAAIC,EAAQE,EAAQM,EAExBT,EAAKhB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnBiB,EAhxBU,IAixBVjB,MAEAiB,EAAK/D,EACwB4D,EAAS1C,IAEpC6C,IAAO/D,GACJ2E,OACM3E,IACTiE,EAuCN,WACE,IAAIH,EAAIC,EAAIC,EAAIC,EAAIC,EAAIK,EAIxB,GAFAT,EAAKhB,GACLiB,EAAKiB,QACMhF,EAAY,CAkBrB,IAjBAgE,EAAK,GACLC,EAAKnB,GACLoB,EAAKqB,QACMvF,IACTuE,EAAKS,QACMhF,GACT+C,EAAekB,EACfC,EAAKrD,EAAQkD,EAAIQ,GACjBN,EAAKC,IAMPpB,EAAcmB,EACdA,EAAKjE,GAEAiE,IAAOjE,GACZgE,EAAG7mB,KAAK8mB,GACRA,EAAKnB,GACLoB,EAAKqB,QACMvF,IACTuE,EAAKS,QACMhF,GACT+C,EAAekB,EACfC,EAAKrD,EAAQkD,EAAIQ,GACjBN,EAAKC,IAMPpB,EAAcmB,EACdA,EAAKjE,GAGLgE,IAAOhE,GACT+C,EAAee,EACfC,EAAK/C,EAAQ+C,EAAIC,GACjBF,EAAKC,IAELjB,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EA9FE0B,MACMxF,GACJ2E,OACM3E,GAC6B,KAAlC7T,EAAM1D,WAAWqa,IACnByB,EA5xBE,IA6xBFzB,MAEAyB,EAAKvE,EACwB4D,EAASzC,IAEpCoD,IAAOvE,GACT+C,EAAee,EAEfA,EADAC,EAlyB2B,CAAEnG,MAkyBhBqG,KAGbnB,EAAcgB,EACdA,EAAK9D,KAeb8C,EAAcgB,EACdA,EAAK9D,GAGP,OAAO8D,EA7WA2B,MACMzF,IACT8D,EAwaN,WACE,IAAIA,EAAIC,EAAIC,EAAIC,EAEhBH,EAAKhB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnBiB,EA13BU,IA23BVjB,MAEAiB,EAAK/D,EACwB4D,EAASxC,IAExC,GAAI2C,IAAO/D,EAAY,CASrB,IARAgE,EAAK,GACD3C,EAAQvZ,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAAStC,IAEjC2C,IAAOjE,GACZgE,EAAG7mB,KAAK8mB,GACJ5C,EAAQvZ,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAAStC,IAGtC0C,IAAOhE,GAC6B,KAAlC7T,EAAM1D,WAAWqa,IACnBmB,EAr5BM,IAs5BNnB,MAEAmB,EAAKjE,EACwB4D,EAASxC,IAEpC6C,IAAOjE,GACT+C,EAAee,EACfC,EAz5B0B,CAAElG,IAAK9iB,KA05BjC+oB,EAAKC,IAELjB,EAAcgB,EACdA,EAAK9D,KAGP8C,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EA/dE4B,MACM1F,IACT8D,EAgeR,WACE,IAAIA,EAAIC,EAERD,EAAKhB,GACLiB,EAsBF,WACE,IAAID,EAAIC,EAAIC,EAAIC,EAAIC,EAAIK,EAExBT,EAAKhB,EACLiB,EAAKjB,EACLkB,EAAK,GACDxC,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAASnC,IAExC,KAAOwC,IAAOjE,GACZgE,EAAG7mB,KAAK8mB,GACJzC,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAASnC,IAG1C,GAAIuC,IAAOhE,EAQT,GAPsC,KAAlC7T,EAAM1D,WAAWqa,IACnBmB,EA19BQ,IA29BRnB,MAEAmB,EAAKjE,EACwB4D,EAASlC,IAEpCuC,IAAOjE,EAAY,CASrB,GARAkE,EAAK,GACD1C,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5ByB,EAAKpY,EAAMnK,OAAO8gB,GAClBA,MAEAyB,EAAKvE,EACwB4D,EAASnC,IAEpC8C,IAAOvE,EACT,KAAOuE,IAAOvE,GACZkE,EAAG/mB,KAAKonB,GACJ/C,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5ByB,EAAKpY,EAAMnK,OAAO8gB,GAClBA,MAEAyB,EAAKvE,EACwB4D,EAASnC,SAI1CyC,EAAKlE,EAEHkE,IAAOlE,EAET+D,EADAC,EAAK,CAACA,EAAIC,EAAIC,IAGdpB,EAAciB,EACdA,EAAK/D,QAGP8C,EAAciB,EACdA,EAAK/D,OAGP8C,EAAciB,EACdA,EAAK/D,EAEP,GAAI+D,IAAO/D,EAAY,CAUrB,GATA+D,EAAKjB,EACLkB,EAAK,GACDxC,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAASnC,IAEpCwC,IAAOjE,EACT,KAAOiE,IAAOjE,GACZgE,EAAG7mB,KAAK8mB,GACJzC,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAASnC,SAI1CuC,EAAKhE,EAEP,GAAIgE,IAAOhE,EAQT,GAPsC,KAAlC7T,EAAM1D,WAAWqa,IACnBmB,EAhiCM,IAiiCNnB,MAEAmB,EAAKjE,EACwB4D,EAASlC,IAEpCuC,IAAOjE,EAAY,CASrB,IARAkE,EAAK,GACD1C,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5ByB,EAAKpY,EAAMnK,OAAO8gB,GAClBA,MAEAyB,EAAKvE,EACwB4D,EAASnC,IAEjC8C,IAAOvE,GACZkE,EAAG/mB,KAAKonB,GACJ/C,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5ByB,EAAKpY,EAAMnK,OAAO8gB,GAClBA,MAEAyB,EAAKvE,EACwB4D,EAASnC,IAGtCyC,IAAOlE,EAET+D,EADAC,EAAK,CAACA,EAAIC,EAAIC,IAGdpB,EAAciB,EACdA,EAAK/D,QAGP8C,EAAciB,EACdA,EAAK/D,OAGP8C,EAAciB,EACdA,EAAK/D,EAGL+D,IAAO/D,IACT+C,EAAee,EACfC,EAzkC8B7K,WAAWne,MA6kC3C,OAFA+oB,EAAKC,EAlKA4B,MACM3F,IACT+D,EAqKJ,WACE,IAAID,EAAIC,EAAIC,EAAIC,EAEhBH,EAAKhB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnBiB,EA1nCS,IA2nCTjB,MAEAiB,EAAK/D,EACwB4D,EAASvD,IAEpC0D,IAAO/D,IACT+D,EAAK,MAEP,GAAIA,IAAO/D,EAAY,CASrB,GARAgE,EAAK,GACDxC,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAASnC,IAEpCwC,IAAOjE,EACT,KAAOiE,IAAOjE,GACZgE,EAAG7mB,KAAK8mB,GACJzC,EAAQ1Z,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAASnC,SAI1CuC,EAAKhE,EAEHgE,IAAOhE,GACT+C,EAAee,EACfC,EAtnC4BhV,SAAShU,KAunCrC+oB,EAAKC,IAELjB,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EAvNA8B,MACM5F,IACT+D,EAwNN,WACE,IAAID,EAAIC,EAERD,EAAKhB,EAtoCO,SAuoCR3W,EAAMiZ,OAAOtC,EAAa,IAC5BiB,EAxoCU,OAyoCVjB,GAAe,IAEfiB,EAAK/D,EACwB4D,EAASjC,IAEpCoC,IAAO/D,IACT+C,EAAee,EACfC,GA9oC8B,IAgpChCD,EAAKC,KACM/D,IACT8D,EAAKhB,EAjpCK,UAkpCN3W,EAAMiZ,OAAOtC,EAAa,IAC5BiB,EAnpCQ,QAopCRjB,GAAe,IAEfiB,EAAK/D,EACwB4D,EAAShC,IAEpCmC,IAAO/D,IACT+C,EAAee,EACfC,GAzpC4B,GA2pC9BD,EAAKC,GAGP,OAAOD,EAxPE+B,MACM7F,IACT+D,EAyPR,WACE,IAAID,EAAIC,EAAIC,EAAIC,EAEhBH,EAAKhB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnBiB,EArqCU,IAsqCVjB,MAEAiB,EAAK/D,EACwB4D,EAAS/B,IAEpCkC,IAAO/D,GACL7T,EAAMzO,OAASolB,GACjBkB,EAAK7X,EAAMnK,OAAO8gB,GAClBA,MAEAkB,EAAKhE,EACwB4D,EAAS9B,IAEpCkC,IAAOhE,GAC6B,KAAlC7T,EAAM1D,WAAWqa,IACnBmB,EArrCM,IAsrCNnB,MAEAmB,EAAKjE,EACwB4D,EAAS/B,IAEpCoC,IAAOjE,GACT+C,EAAee,EACfC,EAAKhC,IACL+B,EAAKC,IAELjB,EAAcgB,EACdA,EAAK9D,KAGP8C,EAAcgB,EACdA,EAAK9D,KAGP8C,EAAcgB,EACdA,EAAK9D,GAGP,OAAO8D,EArSIgC,MACM9F,IACT+D,EAsSV,WACE,IAAID,EAAIC,EAERD,EAAKhB,EA9sCO,SA+sCR3W,EAAMiZ,OAAOtC,EAAa,IAC5BiB,EAhtCU,OAitCVjB,GAAe,IAEfiB,EAAK/D,EACwB4D,EAAS5B,IAEpC+B,IAAO/D,IACT+C,EAAee,EACfC,EAttC8B,MA0tChC,OAFAD,EAAKC,EArTQgC,IAKThC,IAAO/D,IACT+C,EAAee,EACfC,EA77BiC,CAAElG,IA67BtBkG,IAIf,OAFAD,EAAKC,EArfMiC,IAKJlC,EAgGT,SAASoB,KACP,IAAIpB,EAAIC,EAAIC,EAAQE,EAAIK,EAAI0B,EAAQC,EAAIC,EAKxC,IAHArC,EAAKhB,EACLiB,EAAK,GACLC,EAAKG,KACEH,IAAOhE,GACZ+D,EAAG5mB,KAAK6mB,GACRA,EAAKG,KAEP,GAAIJ,IAAO/D,EAET,IADAgE,EAAKoC,QACMpG,EAET,GADK2E,OACM3E,EAAY,CAGrB,IAFAkE,EAAK,GACLK,EAAKJ,KACEI,IAAOvE,GACZkE,EAAG/mB,KAAKonB,GACRA,EAAKJ,KAEP,GAAID,IAAOlE,EAET,IADAuE,EAAKI,QACM3E,EAET,IADAiG,EAkDZ,WACE,IAAInC,EAAIC,EAERD,EAAKhB,GACLiB,EAgBF,WACE,IAAID,EAAIC,EAAIC,EAAIC,EAAIC,EAAIK,EAIxB,GAFAT,EAAKhB,GACLiB,EAAKK,QACMpE,EAAY,CAkBrB,IAjBAgE,EAAK,GACLC,EAAKnB,GACLoB,EAAKqB,QACMvF,IACTuE,EAAKH,QACMpE,GACT+C,EAAekB,EACfC,EAAKrD,EAAQkD,EAAIQ,GACjBN,EAAKC,IAMPpB,EAAcmB,EACdA,EAAKjE,GAEAiE,IAAOjE,GACZgE,EAAG7mB,KAAK8mB,GACRA,EAAKnB,GACLoB,EAAKqB,QACMvF,IACTuE,EAAKH,QACMpE,GACT+C,EAAekB,EACfC,EAAKrD,EAAQkD,EAAIQ,GACjBN,EAAKC,IAMPpB,EAAcmB,EACdA,EAAKjE,GAGLgE,IAAOhE,GACT+C,EAAee,EACfC,EAAK/C,EAAQ+C,EAAIC,GACjBF,EAAKC,IAELjB,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EAvEFuC,MACMrG,IACT+D,EAwEJ,WACE,IAAID,EAAIC,EAAIC,EAAIC,EAAIC,EAAIK,EAIxB,GAFAT,EAAKhB,GACLiB,EAAKM,QACMrE,EAAY,CAkBrB,IAjBAgE,EAAK,GACLC,EAAKnB,GACLoB,EAAKqB,QACMvF,IACTuE,EAAKF,QACMrE,GACT+C,EAAekB,EACfC,EAAKrD,EAAQkD,EAAIQ,GACjBN,EAAKC,IAMPpB,EAAcmB,EACdA,EAAKjE,GAEAiE,IAAOjE,GACZgE,EAAG7mB,KAAK8mB,GACRA,EAAKnB,GACLoB,EAAKqB,QACMvF,IACTuE,EAAKF,QACMrE,GACT+C,EAAekB,EACfC,EAAKrD,EAAQkD,EAAIQ,GACjBN,EAAKC,IAMPpB,EAAcmB,EACdA,EAAKjE,GAGLgE,IAAOhE,GACT+C,EAAee,EACfC,EAAK/C,EAAQ+C,EAAIC,GACjBF,EAAKC,IAELjB,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EA/HAwC,IAEHvC,IAAO/D,IACT+D,EAAK,MAEHA,IAAO/D,IACT+C,EAAee,EACfC,EAAaA,GAnpBiC,IAupBhD,OAFAD,EAAKC,EAjEUwC,MACMvG,EAET,GADK2E,OACM3E,EAAY,CAGrB,IAFAkG,EAAK,GACLC,EAAKhC,KACEgC,IAAOnG,GACZkG,EAAG/oB,KAAKgpB,GACRA,EAAKhC,KAEH+B,IAAOlG,GACT+C,EAAee,EAEfA,EADAC,EAjmB8B,CAAEzqB,OAimBnB0qB,EAjmB2BrG,OAimBvBsI,KAGjBnD,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EA8oBT,SAASW,KACP,IAAIX,EAAIC,EA4BR,OA1BAD,EAAKhB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnBiB,EAnvCU,IAovCVjB,MAEAiB,EAAK/D,EACwB4D,EAAS1B,IAEpC6B,IAAO/D,IACT+D,EAAK,MAEHA,IAAO/D,GACJwG,OACMxG,GACT+C,EAAee,EAEfA,EADAC,EA9vC4B,CAAExG,IAAKxiB,OAqwCrC+nB,EAAcgB,EACdA,EAAK9D,GAGA8D,EAGT,SAAS0C,KACP,IAAI1C,EAAIC,EAUR,GARAD,EAAK,GACD3B,EAAQra,KAAKqE,EAAMnK,OAAO8gB,KAC5BiB,EAAK5X,EAAMnK,OAAO8gB,GAClBA,MAEAiB,EAAK/D,EACwB4D,EAASxB,IAEpC2B,IAAO/D,EACT,KAAO+D,IAAO/D,GACZ8D,EAAG3mB,KAAK4mB,GACJ5B,EAAQra,KAAKqE,EAAMnK,OAAO8gB,KAC5BiB,EAAK5X,EAAMnK,OAAO8gB,GAClBA,MAEAiB,EAAK/D,EACwB4D,EAASxB,SAI1C0B,EAAK9D,EAGP,OAAO8D,EAGT,SAASsC,KACP,IAAItC,EAAQE,EAsBZ,OApBAF,EAAKhB,EACA0D,OACMxG,IACTgE,EAoBJ,WACE,IAAIF,EAAIC,EAAIC,EAAIC,EAAIC,EAAIK,EAAI0B,EAE5BnC,EAAKhB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnBiB,EAr0CU,IAs0CVjB,MAEAiB,EAAK/D,EACwB4D,EAASvB,IAExC,GAAI0B,IAAO/D,EAET,IADAgE,EAAKoC,QACMpG,EAAY,CAuBrB,IAtBAiE,EAAK,GACLC,EAAKpB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnByB,EA/0CM,IAg1CNzB,MAEAyB,EAAKvE,EACwB4D,EAAStB,IAEpCiC,IAAOvE,IACTiG,EAAKG,QACMpG,EAETkE,EADAK,EAAK,CAACA,EAAI0B,IAOZnD,EAAcoB,EACdA,EAAKlE,GAEAkE,IAAOlE,GACZiE,EAAG9mB,KAAK+mB,GACRA,EAAKpB,EACiC,KAAlC3W,EAAM1D,WAAWqa,IACnByB,EAt2CI,IAu2CJzB,MAEAyB,EAAKvE,EACwB4D,EAAStB,IAEpCiC,IAAOvE,IACTiG,EAAKG,QACMpG,EAETkE,EADAK,EAAK,CAACA,EAAI0B,IAOZnD,EAAcoB,EACdA,EAAKlE,GAGLiE,IAAOjE,GAC6B,KAAlC7T,EAAM1D,WAAWqa,IACnBoB,EAv7CG,IAw7CHpB,MAEAoB,EAAKlE,EACwB4D,EAASrD,IAEpC2D,IAAOlE,EAET8D,EADAC,EAAK,CAACA,EAAIC,EAAIC,EAAIC,IAGlBpB,EAAcgB,EACdA,EAAK9D,KAGP8C,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EA5GA2C,MACMzG,IACTgE,EAAK,MAEHA,IAAOhE,GACT+C,EAAee,EAEfA,EADK/B,MAGLe,EAAcgB,EACdA,EAAK9D,KAGP8C,EAAcgB,EACdA,EAAK9D,GAGA8D,EA2IT,SAASa,KACP,IAAIb,EAAIC,EAUR,IARAD,EAAK,GACDpB,EAAQ5a,KAAKqE,EAAMnK,OAAO8gB,KAC5BiB,EAAK5X,EAAMnK,OAAO8gB,GAClBA,MAEAiB,EAAK/D,EACwB4D,EAASjB,IAEjCoB,IAAO/D,GACZ8D,EAAG3mB,KAAK4mB,GACJrB,EAAQ5a,KAAKqE,EAAMnK,OAAO8gB,KAC5BiB,EAAK5X,EAAMnK,OAAO8gB,GAClBA,MAEAiB,EAAK/D,EACwB4D,EAASjB,IAI1C,OAAOmB,EAGT,SAASK,KACP,IAAIL,EAAIC,EAAIC,EAAIC,EAAIC,EAIpB,GAFAJ,EAAKhB,GACLiB,EAAKY,QACM3E,EAKT,IAJAgE,EA5EJ,WACE,IAAIF,EAAIC,EAAIC,EAAIC,EAUhB,GARAH,EAAKhB,EA15CO,OA25CR3W,EAAMiZ,OAAOtC,EAAa,IAC5BiB,EA55CU,KA65CVjB,GAAe,IAEfiB,EAAK/D,EACwB4D,EAASrB,IAEpCwB,IAAO/D,EAAY,CASrB,IARAgE,EAAK,GACDxB,EAAQ1a,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAASnB,IAEjCwB,IAAOjE,GACZgE,EAAG7mB,KAAK8mB,GACJzB,EAAQ1a,KAAKqE,EAAMnK,OAAO8gB,KAC5BmB,EAAK9X,EAAMnK,OAAO8gB,GAClBA,MAEAmB,EAAKjE,EACwB4D,EAASnB,IAGtCuB,IAAOhE,EAET8D,EADAC,EAAK,CAACA,EAAIC,IAGVlB,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EAkCA4C,MACM1G,IACTgE,EAAK,MAEHA,IAAOhE,EAAY,CASrB,GARAiE,EAAK,GACDrB,EAAQ9a,KAAKqE,EAAMnK,OAAO8gB,KAC5BoB,EAAK/X,EAAMnK,OAAO8gB,GAClBA,MAEAoB,EAAKlE,EACwB4D,EAASf,IAEpCqB,IAAOlE,EACT,KAAOkE,IAAOlE,GACZiE,EAAG9mB,KAAK+mB,GACJtB,EAAQ9a,KAAKqE,EAAMnK,OAAO8gB,KAC5BoB,EAAK/X,EAAMnK,OAAO8gB,GAClBA,MAEAoB,EAAKlE,EACwB4D,EAASf,SAI1CoB,EAAKjE,EAEHiE,IAAOjE,EAET8D,EADAC,EAAK,CAACA,EAAIC,EAAIC,IAGdnB,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EAGT,SAASyB,KACP,IAAIzB,EAAIC,EAAIC,EAAIC,EAAIC,EAAIK,EAIxB,GAFAT,EAAKhB,GACLiB,EAAKY,QACM3E,EAWT,GAVsC,KAAlC7T,EAAM1D,WAAWqa,IACnBkB,EA1hDQ,IA2hDRlB,MAEAkB,EAAKhE,EACwB4D,EAAStB,IAEpC0B,IAAOhE,IACTgE,EAAKG,MAEHH,IAAOhE,EAET,IADAiE,EAAKU,QACM3E,EAAY,CAGrB,IAFAkE,EAAK,GACLK,EAAKJ,KACEI,IAAOvE,GACZkE,EAAG/mB,KAAKonB,GACRA,EAAKJ,KAEHD,IAAOlE,EAET8D,EADAC,EAAK,CAACA,EAAIC,EAAIC,EAAIC,IAGlBpB,EAAcgB,EACdA,EAAK9D,QAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,OAGP8C,EAAcgB,EACdA,EAAK9D,EAGP,OAAO8D,EAIP,SAASmB,KAAU,OAAO3sB,OAAOklB,OAAO,MAAO7e,WAKjD,IAFAohB,EAAaK,OAEMJ,GAAc8C,IAAgB3W,EAAMzO,OACrD,OAAOqiB,EAMP,MAJIA,IAAeC,GAAc8C,EAAc3W,EAAMzO,QACnDkmB,EA5gDK,CAAElpB,KAAM,QA+gDTmpB,GACJX,EACAD,EAAiB9W,EAAMzO,OAASyO,EAAMnK,OAAOihB,GAAkB,KAC/DA,EAAiB9W,EAAMzO,OACnB6lB,EAAoBN,EAAgBA,EAAiB,GACrDM,EAAoBN,EAAgBA,O,6BCnyD9C,SAAS0D,EAAU7gB,EAAK8gB,GACtB,IAAInqB,EAAMlB,SAASsrB,gBAAgB,6BAA8B/gB,GAEjE,OADI8gB,GAAWnqB,EAAIqqB,UAAUC,IAAIH,GAC1BnqB,EAGT,SAASuqB,IACP,IAAIC,EAAON,EAAU,OAmBrB,OAlBAM,EAAKC,mBAAmB,aAAxB,ixBAkBOD,EAGT,IAGMpK,EAHAsK,EAAUH,IAEVI,GACAvK,EAAU,EACP,SAAgBniB,GACrB,SAAUA,EAAOmiB,MAoBrB,SAASwK,EAAalJ,GACpB,IAAIhiB,EAAQ,CACVR,GAAI,OACJ2rB,SAAU,GACVC,MAAO,IAGT,OADApJ,EAAKtI,SAAQ,SAAAxY,GAAA,OAIf,SAASmqB,EAAYnqB,EAAGlB,GAA2B,IAApBsrB,EAAoB,wDAEjD,GAAIpqB,EAAElF,KAAM,CACV,IAAIuvB,EAAc,GACdC,EAAYtqB,EAAElF,KAAKolB,IAAIqK,WAAW,KACtC,GAAIvqB,EAAElF,KAAKolB,KAAOoK,IAAcF,EAAgB,OAChD,IAAII,EAAMvvB,OAAOklB,OAAO,CACtB7hB,GAAIyrB,EAAO,OACXrnB,cAAe,CACb,2BAA4B,wBAC5B,2BAA4B,eAC5B,mBAAoB2nB,EAAcvrB,EAAMmrB,SAAS5pB,OAAjD,QAEFoqB,OAAQH,EAAY,GAAKI,EAAW1qB,EAAElF,KAAKolB,MAC1ClgB,GAGH,OAFAlB,EAAMmrB,SAASnqB,KAAK0qB,QACpB1rB,EAAMorB,MAAMpqB,KAAK7E,OAAOklB,OAAO,CAAE7hB,GAAIyrB,EAAO,QAASY,QAAS,CAAEH,EAAIlsB,IAAMssB,QAAS,CAAEJ,EAAI/pB,OAAO2f,KAAQpgB,IAK1G,GAAIA,EAAE/D,OAAQ,CACZ,IAAIwuB,EAASC,EAAW1qB,EAAE/D,QACtB4T,EAAM5U,OAAOklB,OAAO,CACtB7hB,GAAIyrB,EAAO,OACXrnB,cAAe,CACb,2BAA4B,wBAC5B,2BAA4B,2BAC5B,oDAAoD,GAEtD+nB,SACAR,SAAU,GACVC,MAAO,IACNlqB,GAUH,OATG6P,EAAIyQ,OAAOjgB,QAGZpF,OAAOklB,OAAOtQ,EAAInN,cAAe,CAC/B,4BAA6BnE,KAAK6J,IAAIyiB,MAAM,KAAMJ,EAAO9qB,KAAI,SAAAnF,GAAA,OAAKA,EAAEqR,YAGxE/M,EAAMmrB,SAASnqB,KAAK+P,QACpBA,EAAIyQ,OAAO9H,SAAQ,SAAAvY,GAAA,OAAKkqB,EAAYlqB,EAAG4P,GAAK,MAK9C,GAAI7P,EAAEugB,MAAO,CACX,IAAIX,EAAM3kB,OAAOklB,OAAO,CACtB7hB,GAAIyrB,EAAO,OACXE,SAAU,GACVC,MAAO,IACNlqB,GAIH,OAHAlB,EAAMmrB,SAASnqB,KAAK8f,QAEpBA,EAAIW,MAAM/H,SAAQ,SAAAvY,GAAA,OAAKkqB,EAAYlqB,EAAG2f,MAKxC,QAAcre,IAAVvB,EAAEwgB,IAQJ,YAPA1hB,EAAMmrB,SAASnqB,KAAK7E,OAAOklB,OAAO,CAChC7hB,GAAIyrB,EAAO,OACXrnB,cAAe,CACb,2BAA4B,yBAE9B+nB,OAAQC,EAAW1qB,EAAEwgB,MACpBxgB,IAIL,MAAM,IAAIvC,MAAM,gCAAkCxC,OAAOqM,KAAKtH,IA3E5CmqB,CAAYnqB,EAAGlB,MAC1BA,EA6ET,SAAS4rB,EAAWhtB,GAClB,QAAa6D,IAAT7D,EAAsB,MAAO,GACjC,IAAI0B,EAAMkqB,EAAU,QACpBlqB,EAAI0rB,YAAcptB,EAAOA,GAAGA,EAC5BosB,EAAQlrB,OAAOQ,GAJS,MAKAA,EAAI2rB,wBAAtBlf,EALkB,EAKlBA,MAAOmf,EALW,EAKXA,OAEb,OADAlB,EAAQmB,YAAY7rB,GACb,CAAE,CAAE1B,OAAMmO,QAAOmf,WAY1B,SAASE,EAAS9J,EAAQ+J,GACxB,IAAIC,EAAQ9B,EAAU,KAItB,GAHA8B,EAAMC,aAAa,YAAa,aAAeF,EAAKvrB,EAAI,IAAMurB,EAAKtrB,EAAI,KAGnEsrB,EAAKlvB,OAAQ,CACf,IAAIqvB,EAAOhC,EAAU,OAAQ,YAC7B,CAAE,QAAS,UAAW9Q,SAAQ,SAAA+S,GAAA,OAAQD,EAAKD,aAAaE,EAAMJ,EAAKI,OACnED,EAAKD,aAAa,KAAM,IACpBF,EAAK3D,WAAa8D,EAAK7B,UAAUC,IAAI,kBACzC0B,EAAMxsB,OAAO0sB,GAGfH,EAAKV,QAAUU,EAAKV,OAAOjS,QAAQgT,EAAUzvB,KAAK,KAAMqvB,IACxDD,EAAKlB,UAAYkB,EAAKlB,SAASzR,QAAQ0S,EAASnvB,KAAK,KAAMqvB,IAC3DD,EAAKjB,OAASiB,EAAKjB,MAAM1R,QAAQiT,EAAS1vB,KAAK,KAAMqvB,IACrDhK,EAAOxiB,OAAOwsB,GAGhB,SAASI,EAAUpK,EAAQsK,GACzB,IAAIhuB,EAAO4rB,EAAU,QACrB,CAAE,IAAK,KAAM9Q,SAAQ,SAAA+S,GAAA,OAAQ7tB,EAAK2tB,aAAaE,EAAMG,EAAMH,OAC3D7tB,EAAKotB,YAAcY,EAAMhuB,KACzB0jB,EAAOxiB,OAAOlB,GAGhB,SAAS+tB,EAASrK,EAAQuK,GAExB,IAAIC,EAAOtC,EAAU,OAAQ,cACzBqC,EAAKnE,WAAaoE,EAAKnC,UAAUC,IAAI,kBACzCkC,EAAKP,aAAa,IAAKM,EAAKE,SAASlsB,KAAI,SAAArD,GAAA,MAAK,CAC5C,IAAKA,EAAEwvB,WAAWlsB,EAAGtD,EAAEwvB,WAAWjsB,GADU,O,sHAAA,EAExCvD,EAAEyvB,YAAc,IAAIpsB,KAAI,SAAAqsB,GAAA,WAAaA,EAAKpsB,EAAlB,IAAuBosB,EAAKnsB,MAFZ,CAG5C,IAAKvD,EAAE2vB,SAASrsB,EAAGtD,EAAE2vB,SAASpsB,IAC9ByiB,KAAK,QAAMA,KAAK,MAClBlB,EAAOxiB,OAAOgtB,GAGhBtxB,EAAOD,QAAU,CAAE0E,SA7JnB,SAAkBhB,GAChBG,SAAS2e,KAAKje,OAAOkrB,GACrB,IAAIhrB,EAAQ,CACVR,GAAI,UACJoE,cAAe,CACb,gBAAiB,UACjB,gBAAiB,OACjB,kBAAmB,WACnB,wBAAyB,oBAE3BunB,SAAU,CAAED,EAAajsB,EAAK+iB,QAGhC,OADA5iB,SAAS2e,KAAKoO,YAAYnB,GACnBhrB,GAgJoBI,KA/C7B,SAAcgtB,EAAQptB,EAAOR,GAC3B,IAAIsrB,EAAOD,IACXC,EAAKtrB,GAAKA,EACV4tB,EAAOvtB,WAAWwtB,aAAavC,EAAMsC,EAAOE,aAC5C,CAAE,QAAS,UAAW5T,SAAQ,SAAA+S,GAAA,OAAQ3B,EAAKyB,aAAaE,EAAMzsB,EAAMysB,OAEpEzsB,EAAMmrB,SAASzR,QAAQ0S,EAASnvB,KAAK,KAAM6tB","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","'use strict';\n\nconst elkjs = require('elkjs');\nconst yamlfront = require('yaml-front-matter');\n\nconst transformer = require('./transformer');\nconst renderer = require('./renderer');\n\nconst scriptSelector = 'script[type=\"application/snapdown\"]';\nconst jsonSelector = 'script[type=\"application/snapdown+json\"]';\n\n// lazy initialization of ELK singleton\nconst elk = { get instance() {\n  delete this.instance;\n  return this.instance = new elkjs({ workerUrl: URL.createObjectURL(new Blob([\n    `importScripts('${ELK_WORKER_URL}');`\n  ], { type: 'application/javascript' })) });\n} };\n\n// parse Snapdown text into transform into JSON\nfunction parseText(scriptElement) {\n  if ( ! scriptElement.matches(scriptSelector)) {\n    throw new Error(`Snapdown.parseText: expected input to be a ${scriptSelector}`);\n  }\n  let script = yamlfront.safeLoadFront(scriptElement.text);\n  let text = script.__content;\n  let spec = transformer.parse(text);\n  let snap = transformer.transform(spec);\n\n  let jsonElement = document.createElement(\"script\");\n  jsonElement.text = JSON.stringify(snap);\n  jsonElement.type = 'application/snapdown+json';\n  jsonElement.id = (Math.random() + 1).toString(36).substring(7);\n  scriptElement.parentNode.append(jsonElement);\n  return jsonElement;\n}\n\n// layout and render Snapdown JSON\nfunction renderJSON(jsonElement) {\n  if ( ! jsonElement.matches(jsonSelector)) {\n    throw new Error(`Snapdown.renderJSON: expected input to be a ${jsonSelector}`);\n  }\n  let snap = JSON.parse(jsonElement.text);\n  let graph = renderer.drawable(snap);\n  let id = (Math.random() + 1).toString(36).substring(7);\n  elk.instance.layout(graph).then(graph => {\n    renderer.draw(jsonElement, graph, id);\n  });\n  return id;\n}\n\nfunction render(elt) {\n  if (elt.matches(scriptSelector)) { parseText(elt); }\n  renderJSON(elt);\n}\n\nfunction renderAll() {\n  let scriptElements = Array.from(document.querySelectorAll(scriptSelector));\n  let created = [];\n  scriptElements.map(x => {\n    let y = parseText(x);\n    created.push(y.id);\n    let graphId = renderJSON(y);\n    created.push(graphId);\n  });\n\n  return created;\n}\n\nmodule.exports = { render, renderAll };\n","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.ELK = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*******************************************************************************\n * Copyright (c) 2017 Kiel University and others.\n * All rights reserved. This program and the accompanying materials\n * are made available under the terms of the Eclipse Public License v1.0\n * which accompanies this distribution, and is available at\n * http://www.eclipse.org/legal/epl-v10.html\n *******************************************************************************/\nvar ELK = function () {\n  function ELK() {\n    var _this = this;\n\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref$defaultLayoutOpt = _ref.defaultLayoutOptions,\n        defaultLayoutOptions = _ref$defaultLayoutOpt === undefined ? {} : _ref$defaultLayoutOpt,\n        _ref$algorithms = _ref.algorithms,\n        algorithms = _ref$algorithms === undefined ? ['layered', 'stress', 'mrtree', 'radial', 'force', 'disco', 'sporeOverlap', 'sporeCompaction', 'rectPacking'] : _ref$algorithms,\n        workerFactory = _ref.workerFactory,\n        workerUrl = _ref.workerUrl;\n\n    _classCallCheck(this, ELK);\n\n    this.defaultLayoutOptions = defaultLayoutOptions;\n    this.initialized = false;\n\n    // check valid worker construction possible\n    if (typeof workerUrl === 'undefined' && typeof workerFactory === 'undefined') {\n      throw new Error(\"Cannot construct an ELK without both 'workerUrl' and 'workerFactory'.\");\n    }\n    var factory = workerFactory;\n    if (typeof workerUrl !== 'undefined' && typeof workerFactory === 'undefined') {\n      // use default Web Worker\n      factory = function factory(url) {\n        return new Worker(url);\n      };\n    }\n\n    // create the worker\n    var worker = factory(workerUrl);\n    if (typeof worker.postMessage !== 'function') {\n      throw new TypeError(\"Created worker does not provide\" + \" the required 'postMessage' function.\");\n    }\n\n    // wrap the worker to return promises\n    this.worker = new PromisedWorker(worker);\n\n    // initially register algorithms\n    this.worker.postMessage({\n      cmd: 'register',\n      algorithms: algorithms\n    }).then(function (r) {\n      return _this.initialized = true;\n    }).catch(console.err);\n  }\n\n  _createClass(ELK, [{\n    key: 'layout',\n    value: function layout(graph) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          _ref2$layoutOptions = _ref2.layoutOptions,\n          layoutOptions = _ref2$layoutOptions === undefined ? this.defaultLayoutOptions : _ref2$layoutOptions,\n          _ref2$logging = _ref2.logging,\n          logging = _ref2$logging === undefined ? false : _ref2$logging,\n          _ref2$measureExecutio = _ref2.measureExecutionTime,\n          measureExecutionTime = _ref2$measureExecutio === undefined ? false : _ref2$measureExecutio;\n\n      if (!graph) {\n        return Promise.reject(new Error(\"Missing mandatory parameter 'graph'.\"));\n      }\n      return this.worker.postMessage({\n        cmd: 'layout',\n        graph: graph,\n        layoutOptions: layoutOptions,\n        options: {\n          logging: logging,\n          measureExecutionTime: measureExecutionTime\n        }\n      });\n    }\n  }, {\n    key: 'knownLayoutAlgorithms',\n    value: function knownLayoutAlgorithms() {\n      return this.worker.postMessage({ cmd: 'algorithms' });\n    }\n  }, {\n    key: 'knownLayoutOptions',\n    value: function knownLayoutOptions() {\n      return this.worker.postMessage({ cmd: 'options' });\n    }\n  }, {\n    key: 'knownLayoutCategories',\n    value: function knownLayoutCategories() {\n      return this.worker.postMessage({ cmd: 'categories' });\n    }\n  }, {\n    key: 'terminateWorker',\n    value: function terminateWorker() {\n      this.worker.terminate();\n    }\n  }]);\n\n  return ELK;\n}();\n\nexports.default = ELK;\n\nvar PromisedWorker = function () {\n  function PromisedWorker(worker) {\n    var _this2 = this;\n\n    _classCallCheck(this, PromisedWorker);\n\n    if (worker === undefined) {\n      throw new Error(\"Missing mandatory parameter 'worker'.\");\n    }\n    this.resolvers = {};\n    this.worker = worker;\n    this.worker.onmessage = function (answer) {\n      // why is this necessary?\n      setTimeout(function () {\n        _this2.receive(_this2, answer);\n      }, 0);\n    };\n  }\n\n  _createClass(PromisedWorker, [{\n    key: 'postMessage',\n    value: function postMessage(msg) {\n      var id = this.id || 0;\n      this.id = id + 1;\n      msg.id = id;\n      var self = this;\n      return new Promise(function (resolve, reject) {\n        // prepare the resolver\n        self.resolvers[id] = function (err, res) {\n          if (err) {\n            self.convertGwtStyleError(err);\n            reject(err);\n          } else {\n            resolve(res);\n          }\n        };\n        // post the message\n        self.worker.postMessage(msg);\n      });\n    }\n  }, {\n    key: 'receive',\n    value: function receive(self, answer) {\n      var json = answer.data;\n      var resolver = self.resolvers[json.id];\n      if (resolver) {\n        delete self.resolvers[json.id];\n        if (json.error) {\n          resolver(json.error);\n        } else {\n          resolver(null, json.data);\n        }\n      }\n    }\n  }, {\n    key: 'terminate',\n    value: function terminate() {\n      if (this.worker.terminate) {\n        this.worker.terminate();\n      }\n    }\n  }, {\n    key: 'convertGwtStyleError',\n    value: function convertGwtStyleError(err) {\n      if (!err) {\n        return;\n      }\n      // Somewhat flatten the way GWT stores nested exception(s)\n      var javaException = err['__java$exception'];\n      if (javaException) {\n        // Note that the property name of the nested exception is different\n        // in the non-minified ('cause') and the minified (not deterministic) version.\n        // Hence, the version below only works for the non-minified version.\n        // However, as the minified stack trace is not of much use anyway, one\n        // should switch the used version for debugging in such a case.\n        if (javaException.cause && javaException.cause.backingJsObject) {\n          err.cause = javaException.cause.backingJsObject;\n          this.convertGwtStyleError(err.cause);\n        }\n        delete err['__java$exception'];\n      }\n    }\n  }]);\n\n  return PromisedWorker;\n}();\n},{}],2:[function(require,module,exports){\n\"use strict\";\n\nvar ELK = require('./elk-api.js').default;\n\nObject.defineProperty(module.exports, \"__esModule\", {\n  value: true\n});\nmodule.exports = ELK;\nELK.default = ELK;\n},{\"./elk-api.js\":1}]},{},[2])(2)\n});\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"js-yaml\")):\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.yamlFront=t(require(\"js-yaml\")):e.yamlFront=t(e.jsyaml)}(this,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,\"a\",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=\"\",n(n.s=0)}([function(e,t,n){\"use strict\";function o(e){return(o=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e})(e)}n.r(t),n.d(t,\"loadFront\",(function(){return f})),n.d(t,\"safeLoadFront\",(function(){return i}));var r=n(1);function u(e,t,n){var u,f=t&&\"string\"==typeof t?t:t&&t.contentKeyName?t.contentKeyName:\"__content\",i=t&&\"object\"===o(t)?t:void 0,c=/^(-{3}(?:\\n|\\r)([\\w\\W]+?)(?:\\n|\\r)-{3})?([\\w\\W]*)*/.exec(e),l={};return(u=c[2])&&(l=\"{\"===u.charAt(0)?JSON.parse(u):n?r.safeLoad(u,i):r.load(u,i)),l[f]=c[3]||\"\",l}function f(e,t){return u(e,t,!1)}function i(e,t){return u(e,t,!0)}},function(t,n){t.exports=e}])}));","/* js-yaml 3.13.1 https://github.com/nodeca/js-yaml */(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.jsyaml = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\n\nvar loader = require('./js-yaml/loader');\nvar dumper = require('./js-yaml/dumper');\n\n\nfunction deprecated(name) {\n  return function () {\n    throw new Error('Function ' + name + ' is deprecated and cannot be used.');\n  };\n}\n\n\nmodule.exports.Type                = require('./js-yaml/type');\nmodule.exports.Schema              = require('./js-yaml/schema');\nmodule.exports.FAILSAFE_SCHEMA     = require('./js-yaml/schema/failsafe');\nmodule.exports.JSON_SCHEMA         = require('./js-yaml/schema/json');\nmodule.exports.CORE_SCHEMA         = require('./js-yaml/schema/core');\nmodule.exports.DEFAULT_SAFE_SCHEMA = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_FULL_SCHEMA = require('./js-yaml/schema/default_full');\nmodule.exports.load                = loader.load;\nmodule.exports.loadAll             = loader.loadAll;\nmodule.exports.safeLoad            = loader.safeLoad;\nmodule.exports.safeLoadAll         = loader.safeLoadAll;\nmodule.exports.dump                = dumper.dump;\nmodule.exports.safeDump            = dumper.safeDump;\nmodule.exports.YAMLException       = require('./js-yaml/exception');\n\n// Deprecated schema names from JS-YAML 2.0.x\nmodule.exports.MINIMAL_SCHEMA = require('./js-yaml/schema/failsafe');\nmodule.exports.SAFE_SCHEMA    = require('./js-yaml/schema/default_safe');\nmodule.exports.DEFAULT_SCHEMA = require('./js-yaml/schema/default_full');\n\n// Deprecated functions from JS-YAML 1.x.x\nmodule.exports.scan           = deprecated('scan');\nmodule.exports.parse          = deprecated('parse');\nmodule.exports.compose        = deprecated('compose');\nmodule.exports.addConstructor = deprecated('addConstructor');\n\n},{\"./js-yaml/dumper\":3,\"./js-yaml/exception\":4,\"./js-yaml/loader\":5,\"./js-yaml/schema\":7,\"./js-yaml/schema/core\":8,\"./js-yaml/schema/default_full\":9,\"./js-yaml/schema/default_safe\":10,\"./js-yaml/schema/failsafe\":11,\"./js-yaml/schema/json\":12,\"./js-yaml/type\":13}],2:[function(require,module,exports){\n'use strict';\n\n\nfunction isNothing(subject) {\n  return (typeof subject === 'undefined') || (subject === null);\n}\n\n\nfunction isObject(subject) {\n  return (typeof subject === 'object') && (subject !== null);\n}\n\n\nfunction toArray(sequence) {\n  if (Array.isArray(sequence)) return sequence;\n  else if (isNothing(sequence)) return [];\n\n  return [ sequence ];\n}\n\n\nfunction extend(target, source) {\n  var index, length, key, sourceKeys;\n\n  if (source) {\n    sourceKeys = Object.keys(source);\n\n    for (index = 0, length = sourceKeys.length; index < length; index += 1) {\n      key = sourceKeys[index];\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n\nfunction repeat(string, count) {\n  var result = '', cycle;\n\n  for (cycle = 0; cycle < count; cycle += 1) {\n    result += string;\n  }\n\n  return result;\n}\n\n\nfunction isNegativeZero(number) {\n  return (number === 0) && (Number.NEGATIVE_INFINITY === 1 / number);\n}\n\n\nmodule.exports.isNothing      = isNothing;\nmodule.exports.isObject       = isObject;\nmodule.exports.toArray        = toArray;\nmodule.exports.repeat         = repeat;\nmodule.exports.isNegativeZero = isNegativeZero;\nmodule.exports.extend         = extend;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\n/*eslint-disable no-use-before-define*/\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\n\nvar _toString       = Object.prototype.toString;\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nvar CHAR_TAB                  = 0x09; /* Tab */\nvar CHAR_LINE_FEED            = 0x0A; /* LF */\nvar CHAR_SPACE                = 0x20; /* Space */\nvar CHAR_EXCLAMATION          = 0x21; /* ! */\nvar CHAR_DOUBLE_QUOTE         = 0x22; /* \" */\nvar CHAR_SHARP                = 0x23; /* # */\nvar CHAR_PERCENT              = 0x25; /* % */\nvar CHAR_AMPERSAND            = 0x26; /* & */\nvar CHAR_SINGLE_QUOTE         = 0x27; /* ' */\nvar CHAR_ASTERISK             = 0x2A; /* * */\nvar CHAR_COMMA                = 0x2C; /* , */\nvar CHAR_MINUS                = 0x2D; /* - */\nvar CHAR_COLON                = 0x3A; /* : */\nvar CHAR_GREATER_THAN         = 0x3E; /* > */\nvar CHAR_QUESTION             = 0x3F; /* ? */\nvar CHAR_COMMERCIAL_AT        = 0x40; /* @ */\nvar CHAR_LEFT_SQUARE_BRACKET  = 0x5B; /* [ */\nvar CHAR_RIGHT_SQUARE_BRACKET = 0x5D; /* ] */\nvar CHAR_GRAVE_ACCENT         = 0x60; /* ` */\nvar CHAR_LEFT_CURLY_BRACKET   = 0x7B; /* { */\nvar CHAR_VERTICAL_LINE        = 0x7C; /* | */\nvar CHAR_RIGHT_CURLY_BRACKET  = 0x7D; /* } */\n\nvar ESCAPE_SEQUENCES = {};\n\nESCAPE_SEQUENCES[0x00]   = '\\\\0';\nESCAPE_SEQUENCES[0x07]   = '\\\\a';\nESCAPE_SEQUENCES[0x08]   = '\\\\b';\nESCAPE_SEQUENCES[0x09]   = '\\\\t';\nESCAPE_SEQUENCES[0x0A]   = '\\\\n';\nESCAPE_SEQUENCES[0x0B]   = '\\\\v';\nESCAPE_SEQUENCES[0x0C]   = '\\\\f';\nESCAPE_SEQUENCES[0x0D]   = '\\\\r';\nESCAPE_SEQUENCES[0x1B]   = '\\\\e';\nESCAPE_SEQUENCES[0x22]   = '\\\\\"';\nESCAPE_SEQUENCES[0x5C]   = '\\\\\\\\';\nESCAPE_SEQUENCES[0x85]   = '\\\\N';\nESCAPE_SEQUENCES[0xA0]   = '\\\\_';\nESCAPE_SEQUENCES[0x2028] = '\\\\L';\nESCAPE_SEQUENCES[0x2029] = '\\\\P';\n\nvar DEPRECATED_BOOLEANS_SYNTAX = [\n  'y', 'Y', 'yes', 'Yes', 'YES', 'on', 'On', 'ON',\n  'n', 'N', 'no', 'No', 'NO', 'off', 'Off', 'OFF'\n];\n\nfunction compileStyleMap(schema, map) {\n  var result, keys, index, length, tag, style, type;\n\n  if (map === null) return {};\n\n  result = {};\n  keys = Object.keys(map);\n\n  for (index = 0, length = keys.length; index < length; index += 1) {\n    tag = keys[index];\n    style = String(map[tag]);\n\n    if (tag.slice(0, 2) === '!!') {\n      tag = 'tag:yaml.org,2002:' + tag.slice(2);\n    }\n    type = schema.compiledTypeMap['fallback'][tag];\n\n    if (type && _hasOwnProperty.call(type.styleAliases, style)) {\n      style = type.styleAliases[style];\n    }\n\n    result[tag] = style;\n  }\n\n  return result;\n}\n\nfunction encodeHex(character) {\n  var string, handle, length;\n\n  string = character.toString(16).toUpperCase();\n\n  if (character <= 0xFF) {\n    handle = 'x';\n    length = 2;\n  } else if (character <= 0xFFFF) {\n    handle = 'u';\n    length = 4;\n  } else if (character <= 0xFFFFFFFF) {\n    handle = 'U';\n    length = 8;\n  } else {\n    throw new YAMLException('code point within a string may not be greater than 0xFFFFFFFF');\n  }\n\n  return '\\\\' + handle + common.repeat('0', length - string.length) + string;\n}\n\nfunction State(options) {\n  this.schema        = options['schema'] || DEFAULT_FULL_SCHEMA;\n  this.indent        = Math.max(1, (options['indent'] || 2));\n  this.noArrayIndent = options['noArrayIndent'] || false;\n  this.skipInvalid   = options['skipInvalid'] || false;\n  this.flowLevel     = (common.isNothing(options['flowLevel']) ? -1 : options['flowLevel']);\n  this.styleMap      = compileStyleMap(this.schema, options['styles'] || null);\n  this.sortKeys      = options['sortKeys'] || false;\n  this.lineWidth     = options['lineWidth'] || 80;\n  this.noRefs        = options['noRefs'] || false;\n  this.noCompatMode  = options['noCompatMode'] || false;\n  this.condenseFlow  = options['condenseFlow'] || false;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.explicitTypes = this.schema.compiledExplicit;\n\n  this.tag = null;\n  this.result = '';\n\n  this.duplicates = [];\n  this.usedDuplicates = null;\n}\n\n// Indents every line in a string. Empty lines (\\n only) are not indented.\nfunction indentString(string, spaces) {\n  var ind = common.repeat(' ', spaces),\n      position = 0,\n      next = -1,\n      result = '',\n      line,\n      length = string.length;\n\n  while (position < length) {\n    next = string.indexOf('\\n', position);\n    if (next === -1) {\n      line = string.slice(position);\n      position = length;\n    } else {\n      line = string.slice(position, next + 1);\n      position = next + 1;\n    }\n\n    if (line.length && line !== '\\n') result += ind;\n\n    result += line;\n  }\n\n  return result;\n}\n\nfunction generateNextLine(state, level) {\n  return '\\n' + common.repeat(' ', state.indent * level);\n}\n\nfunction testImplicitResolving(state, str) {\n  var index, length, type;\n\n  for (index = 0, length = state.implicitTypes.length; index < length; index += 1) {\n    type = state.implicitTypes[index];\n\n    if (type.resolve(str)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// [33] s-white ::= s-space | s-tab\nfunction isWhitespace(c) {\n  return c === CHAR_SPACE || c === CHAR_TAB;\n}\n\n// Returns true if the character can be printed without escaping.\n// From YAML 1.2: \"any allowed characters known to be non-printable\n// should also be escaped. [However,] This isnt mandatory\"\n// Derived from nb-char - \\t - #x85 - #xA0 - #x2028 - #x2029.\nfunction isPrintable(c) {\n  return  (0x00020 <= c && c <= 0x00007E)\n      || ((0x000A1 <= c && c <= 0x00D7FF) && c !== 0x2028 && c !== 0x2029)\n      || ((0x0E000 <= c && c <= 0x00FFFD) && c !== 0xFEFF /* BOM */)\n      ||  (0x10000 <= c && c <= 0x10FFFF);\n}\n\n// Simplified test for values allowed after the first character in plain style.\nfunction isPlainSafe(c) {\n  // Uses a subset of nb-char - c-flow-indicator - \":\" - \"#\"\n  // where nb-char ::= c-printable - b-char - c-byte-order-mark.\n  return isPrintable(c) && c !== 0xFEFF\n    // - c-flow-indicator\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // - \":\" - \"#\"\n    && c !== CHAR_COLON\n    && c !== CHAR_SHARP;\n}\n\n// Simplified test for values allowed as the first character in plain style.\nfunction isPlainSafeFirst(c) {\n  // Uses a subset of ns-char - c-indicator\n  // where ns-char = nb-char - s-white.\n  return isPrintable(c) && c !== 0xFEFF\n    && !isWhitespace(c) // - s-white\n    // - (c-indicator ::=\n    // - | ? | : | , | [ | ] | { | }\n    && c !== CHAR_MINUS\n    && c !== CHAR_QUESTION\n    && c !== CHAR_COLON\n    && c !== CHAR_COMMA\n    && c !== CHAR_LEFT_SQUARE_BRACKET\n    && c !== CHAR_RIGHT_SQUARE_BRACKET\n    && c !== CHAR_LEFT_CURLY_BRACKET\n    && c !== CHAR_RIGHT_CURLY_BRACKET\n    // | # | & | * | ! | | | > | ' | \"\n    && c !== CHAR_SHARP\n    && c !== CHAR_AMPERSAND\n    && c !== CHAR_ASTERISK\n    && c !== CHAR_EXCLAMATION\n    && c !== CHAR_VERTICAL_LINE\n    && c !== CHAR_GREATER_THAN\n    && c !== CHAR_SINGLE_QUOTE\n    && c !== CHAR_DOUBLE_QUOTE\n    // | % | @ | `)\n    && c !== CHAR_PERCENT\n    && c !== CHAR_COMMERCIAL_AT\n    && c !== CHAR_GRAVE_ACCENT;\n}\n\n// Determines whether block indentation indicator is required.\nfunction needIndentIndicator(string) {\n  var leadingSpaceRe = /^\\n* /;\n  return leadingSpaceRe.test(string);\n}\n\nvar STYLE_PLAIN   = 1,\n    STYLE_SINGLE  = 2,\n    STYLE_LITERAL = 3,\n    STYLE_FOLDED  = 4,\n    STYLE_DOUBLE  = 5;\n\n// Determines which scalar styles are possible and returns the preferred style.\n// lineWidth = -1 => no limit.\n// Pre-conditions: str.length > 0.\n// Post-conditions:\n//    STYLE_PLAIN or STYLE_SINGLE => no \\n are in the string.\n//    STYLE_LITERAL => no lines are suitable for folding (or lineWidth is -1).\n//    STYLE_FOLDED => a line > lineWidth and can be folded (and lineWidth != -1).\nfunction chooseScalarStyle(string, singleLineOnly, indentPerLevel, lineWidth, testAmbiguousType) {\n  var i;\n  var char;\n  var hasLineBreak = false;\n  var hasFoldableLine = false; // only checked if shouldTrackWidth\n  var shouldTrackWidth = lineWidth !== -1;\n  var previousLineBreak = -1; // count the first line correctly\n  var plain = isPlainSafeFirst(string.charCodeAt(0))\n          && !isWhitespace(string.charCodeAt(string.length - 1));\n\n  if (singleLineOnly) {\n    // Case: no block styles.\n    // Check for disallowed characters to rule out plain and single.\n    for (i = 0; i < string.length; i++) {\n      char = string.charCodeAt(i);\n      if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char);\n    }\n  } else {\n    // Case: block styles permitted.\n    for (i = 0; i < string.length; i++) {\n      char = string.charCodeAt(i);\n      if (char === CHAR_LINE_FEED) {\n        hasLineBreak = true;\n        // Check if any line can be folded.\n        if (shouldTrackWidth) {\n          hasFoldableLine = hasFoldableLine ||\n            // Foldable line = too long, and not more-indented.\n            (i - previousLineBreak - 1 > lineWidth &&\n             string[previousLineBreak + 1] !== ' ');\n          previousLineBreak = i;\n        }\n      } else if (!isPrintable(char)) {\n        return STYLE_DOUBLE;\n      }\n      plain = plain && isPlainSafe(char);\n    }\n    // in case the end is missing a \\n\n    hasFoldableLine = hasFoldableLine || (shouldTrackWidth &&\n      (i - previousLineBreak - 1 > lineWidth &&\n       string[previousLineBreak + 1] !== ' '));\n  }\n  // Although every style can represent \\n without escaping, prefer block styles\n  // for multiline, since they're more readable and they don't add empty lines.\n  // Also prefer folding a super-long line.\n  if (!hasLineBreak && !hasFoldableLine) {\n    // Strings interpretable as another type have to be quoted;\n    // e.g. the string 'true' vs. the boolean true.\n    return plain && !testAmbiguousType(string)\n      ? STYLE_PLAIN : STYLE_SINGLE;\n  }\n  // Edge case: block indentation indicator can only have one digit.\n  if (indentPerLevel > 9 && needIndentIndicator(string)) {\n    return STYLE_DOUBLE;\n  }\n  // At this point we know block styles are valid.\n  // Prefer literal style unless we want to fold.\n  return hasFoldableLine ? STYLE_FOLDED : STYLE_LITERAL;\n}\n\n// Note: line breaking/folding is implemented for only the folded style.\n// NB. We drop the last trailing newline (if any) of a returned block scalar\n//  since the dumper adds its own newline. This always works:\n//     No ending newline => unaffected; already using strip \"-\" chomping.\n//     Ending newline    => removed then restored.\n//  Importantly, this keeps the \"+\" chomp indicator from gaining an extra line.\nfunction writeScalar(state, string, level, iskey) {\n  state.dump = (function () {\n    if (string.length === 0) {\n      return \"''\";\n    }\n    if (!state.noCompatMode &&\n        DEPRECATED_BOOLEANS_SYNTAX.indexOf(string) !== -1) {\n      return \"'\" + string + \"'\";\n    }\n\n    var indent = state.indent * Math.max(1, level); // no 0-indent scalars\n    // As indentation gets deeper, let the width decrease monotonically\n    // to the lower bound min(state.lineWidth, 40).\n    // Note that this implies\n    //  state.lineWidth  40 + state.indent: width is fixed at the lower bound.\n    //  state.lineWidth > 40 + state.indent: width decreases until the lower bound.\n    // This behaves better than a constant minimum width which disallows narrower options,\n    // or an indent threshold which causes the width to suddenly increase.\n    var lineWidth = state.lineWidth === -1\n      ? -1 : Math.max(Math.min(state.lineWidth, 40), state.lineWidth - indent);\n\n    // Without knowing if keys are implicit/explicit, assume implicit for safety.\n    var singleLineOnly = iskey\n      // No block styles in flow mode.\n      || (state.flowLevel > -1 && level >= state.flowLevel);\n    function testAmbiguity(string) {\n      return testImplicitResolving(state, string);\n    }\n\n    switch (chooseScalarStyle(string, singleLineOnly, state.indent, lineWidth, testAmbiguity)) {\n      case STYLE_PLAIN:\n        return string;\n      case STYLE_SINGLE:\n        return \"'\" + string.replace(/'/g, \"''\") + \"'\";\n      case STYLE_LITERAL:\n        return '|' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(string, indent));\n      case STYLE_FOLDED:\n        return '>' + blockHeader(string, state.indent)\n          + dropEndingNewline(indentString(foldString(string, lineWidth), indent));\n      case STYLE_DOUBLE:\n        return '\"' + escapeString(string, lineWidth) + '\"';\n      default:\n        throw new YAMLException('impossible error: invalid scalar style');\n    }\n  }());\n}\n\n// Pre-conditions: string is valid for a block scalar, 1 <= indentPerLevel <= 9.\nfunction blockHeader(string, indentPerLevel) {\n  var indentIndicator = needIndentIndicator(string) ? String(indentPerLevel) : '';\n\n  // note the special case: the string '\\n' counts as a \"trailing\" empty line.\n  var clip =          string[string.length - 1] === '\\n';\n  var keep = clip && (string[string.length - 2] === '\\n' || string === '\\n');\n  var chomp = keep ? '+' : (clip ? '' : '-');\n\n  return indentIndicator + chomp + '\\n';\n}\n\n// (See the note for writeScalar.)\nfunction dropEndingNewline(string) {\n  return string[string.length - 1] === '\\n' ? string.slice(0, -1) : string;\n}\n\n// Note: a long line without a suitable break point will exceed the width limit.\n// Pre-conditions: every char in str isPrintable, str.length > 0, width > 0.\nfunction foldString(string, width) {\n  // In folded style, $k$ consecutive newlines output as $k+1$ newlines\n  // unless they're before or after a more-indented line, or at the very\n  // beginning or end, in which case $k$ maps to $k$.\n  // Therefore, parse each chunk as newline(s) followed by a content line.\n  var lineRe = /(\\n+)([^\\n]*)/g;\n\n  // first line (possibly an empty line)\n  var result = (function () {\n    var nextLF = string.indexOf('\\n');\n    nextLF = nextLF !== -1 ? nextLF : string.length;\n    lineRe.lastIndex = nextLF;\n    return foldLine(string.slice(0, nextLF), width);\n  }());\n  // If we haven't reached the first content line yet, don't add an extra \\n.\n  var prevMoreIndented = string[0] === '\\n' || string[0] === ' ';\n  var moreIndented;\n\n  // rest of the lines\n  var match;\n  while ((match = lineRe.exec(string))) {\n    var prefix = match[1], line = match[2];\n    moreIndented = (line[0] === ' ');\n    result += prefix\n      + (!prevMoreIndented && !moreIndented && line !== ''\n        ? '\\n' : '')\n      + foldLine(line, width);\n    prevMoreIndented = moreIndented;\n  }\n\n  return result;\n}\n\n// Greedy line breaking.\n// Picks the longest line under the limit each time,\n// otherwise settles for the shortest line over the limit.\n// NB. More-indented lines *cannot* be folded, as that would add an extra \\n.\nfunction foldLine(line, width) {\n  if (line === '' || line[0] === ' ') return line;\n\n  // Since a more-indented line adds a \\n, breaks can't be followed by a space.\n  var breakRe = / [^ ]/g; // note: the match index will always be <= length-2.\n  var match;\n  // start is an inclusive index. end, curr, and next are exclusive.\n  var start = 0, end, curr = 0, next = 0;\n  var result = '';\n\n  // Invariants: 0 <= start <= length-1.\n  //   0 <= curr <= next <= max(0, length-2). curr - start <= width.\n  // Inside the loop:\n  //   A match implies length >= 2, so curr and next are <= length-2.\n  while ((match = breakRe.exec(line))) {\n    next = match.index;\n    // maintain invariant: curr - start <= width\n    if (next - start > width) {\n      end = (curr > start) ? curr : next; // derive end <= length-2\n      result += '\\n' + line.slice(start, end);\n      // skip the space that was output as \\n\n      start = end + 1;                    // derive start <= length-1\n    }\n    curr = next;\n  }\n\n  // By the invariants, start <= length-1, so there is something left over.\n  // It is either the whole string or a part starting from non-whitespace.\n  result += '\\n';\n  // Insert a break if the remainder is too long and there is a break available.\n  if (line.length - start > width && curr > start) {\n    result += line.slice(start, curr) + '\\n' + line.slice(curr + 1);\n  } else {\n    result += line.slice(start);\n  }\n\n  return result.slice(1); // drop extra \\n joiner\n}\n\n// Escapes a double-quoted string.\nfunction escapeString(string) {\n  var result = '';\n  var char, nextChar;\n  var escapeSeq;\n\n  for (var i = 0; i < string.length; i++) {\n    char = string.charCodeAt(i);\n    // Check for surrogate pairs (reference Unicode 3.0 section \"3.7 Surrogates\").\n    if (char >= 0xD800 && char <= 0xDBFF/* high surrogate */) {\n      nextChar = string.charCodeAt(i + 1);\n      if (nextChar >= 0xDC00 && nextChar <= 0xDFFF/* low surrogate */) {\n        // Combine the surrogate pair and store it escaped.\n        result += encodeHex((char - 0xD800) * 0x400 + nextChar - 0xDC00 + 0x10000);\n        // Advance index one extra since we already used that char here.\n        i++; continue;\n      }\n    }\n    escapeSeq = ESCAPE_SEQUENCES[char];\n    result += !escapeSeq && isPrintable(char)\n      ? string[i]\n      : escapeSeq || encodeHex(char);\n  }\n\n  return result;\n}\n\nfunction writeFlowSequence(state, level, object) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level, object[index], false, false)) {\n      if (index !== 0) _result += ',' + (!state.condenseFlow ? ' ' : '');\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = '[' + _result + ']';\n}\n\nfunction writeBlockSequence(state, level, object, compact) {\n  var _result = '',\n      _tag    = state.tag,\n      index,\n      length;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    // Write only valid elements.\n    if (writeNode(state, level + 1, object[index], true, true)) {\n      if (!compact || index !== 0) {\n        _result += generateNextLine(state, level);\n      }\n\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        _result += '-';\n      } else {\n        _result += '- ';\n      }\n\n      _result += state.dump;\n    }\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '[]'; // Empty sequence if no valid values.\n}\n\nfunction writeFlowMapping(state, level, object) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      pairBuffer;\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = state.condenseFlow ? '\"' : '';\n\n    if (index !== 0) pairBuffer += ', ';\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level, objectKey, false, false)) {\n      continue; // Skip this pair because of invalid key;\n    }\n\n    if (state.dump.length > 1024) pairBuffer += '? ';\n\n    pairBuffer += state.dump + (state.condenseFlow ? '\"' : '') + ':' + (state.condenseFlow ? '' : ' ');\n\n    if (!writeNode(state, level, objectValue, false, false)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = '{' + _result + '}';\n}\n\nfunction writeBlockMapping(state, level, object, compact) {\n  var _result       = '',\n      _tag          = state.tag,\n      objectKeyList = Object.keys(object),\n      index,\n      length,\n      objectKey,\n      objectValue,\n      explicitPair,\n      pairBuffer;\n\n  // Allow sorting keys so that the output file is deterministic\n  if (state.sortKeys === true) {\n    // Default sorting\n    objectKeyList.sort();\n  } else if (typeof state.sortKeys === 'function') {\n    // Custom sort function\n    objectKeyList.sort(state.sortKeys);\n  } else if (state.sortKeys) {\n    // Something is wrong\n    throw new YAMLException('sortKeys must be a boolean or a function');\n  }\n\n  for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n    pairBuffer = '';\n\n    if (!compact || index !== 0) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    objectKey = objectKeyList[index];\n    objectValue = object[objectKey];\n\n    if (!writeNode(state, level + 1, objectKey, true, true, true)) {\n      continue; // Skip this pair because of invalid key.\n    }\n\n    explicitPair = (state.tag !== null && state.tag !== '?') ||\n                   (state.dump && state.dump.length > 1024);\n\n    if (explicitPair) {\n      if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n        pairBuffer += '?';\n      } else {\n        pairBuffer += '? ';\n      }\n    }\n\n    pairBuffer += state.dump;\n\n    if (explicitPair) {\n      pairBuffer += generateNextLine(state, level);\n    }\n\n    if (!writeNode(state, level + 1, objectValue, true, explicitPair)) {\n      continue; // Skip this pair because of invalid value.\n    }\n\n    if (state.dump && CHAR_LINE_FEED === state.dump.charCodeAt(0)) {\n      pairBuffer += ':';\n    } else {\n      pairBuffer += ': ';\n    }\n\n    pairBuffer += state.dump;\n\n    // Both key and value are valid.\n    _result += pairBuffer;\n  }\n\n  state.tag = _tag;\n  state.dump = _result || '{}'; // Empty mapping if no valid pairs.\n}\n\nfunction detectType(state, object, explicit) {\n  var _result, typeList, index, length, type, style;\n\n  typeList = explicit ? state.explicitTypes : state.implicitTypes;\n\n  for (index = 0, length = typeList.length; index < length; index += 1) {\n    type = typeList[index];\n\n    if ((type.instanceOf  || type.predicate) &&\n        (!type.instanceOf || ((typeof object === 'object') && (object instanceof type.instanceOf))) &&\n        (!type.predicate  || type.predicate(object))) {\n\n      state.tag = explicit ? type.tag : '?';\n\n      if (type.represent) {\n        style = state.styleMap[type.tag] || type.defaultStyle;\n\n        if (_toString.call(type.represent) === '[object Function]') {\n          _result = type.represent(object, style);\n        } else if (_hasOwnProperty.call(type.represent, style)) {\n          _result = type.represent[style](object, style);\n        } else {\n          throw new YAMLException('!<' + type.tag + '> tag resolver accepts not \"' + style + '\" style');\n        }\n\n        state.dump = _result;\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\n// Serializes `object` and writes it to global `result`.\n// Returns true on success, or false on invalid object.\n//\nfunction writeNode(state, level, object, block, compact, iskey) {\n  state.tag = null;\n  state.dump = object;\n\n  if (!detectType(state, object, false)) {\n    detectType(state, object, true);\n  }\n\n  var type = _toString.call(state.dump);\n\n  if (block) {\n    block = (state.flowLevel < 0 || state.flowLevel > level);\n  }\n\n  var objectOrArray = type === '[object Object]' || type === '[object Array]',\n      duplicateIndex,\n      duplicate;\n\n  if (objectOrArray) {\n    duplicateIndex = state.duplicates.indexOf(object);\n    duplicate = duplicateIndex !== -1;\n  }\n\n  if ((state.tag !== null && state.tag !== '?') || duplicate || (state.indent !== 2 && level > 0)) {\n    compact = false;\n  }\n\n  if (duplicate && state.usedDuplicates[duplicateIndex]) {\n    state.dump = '*ref_' + duplicateIndex;\n  } else {\n    if (objectOrArray && duplicate && !state.usedDuplicates[duplicateIndex]) {\n      state.usedDuplicates[duplicateIndex] = true;\n    }\n    if (type === '[object Object]') {\n      if (block && (Object.keys(state.dump).length !== 0)) {\n        writeBlockMapping(state, level, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowMapping(state, level, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object Array]') {\n      var arrayLevel = (state.noArrayIndent && (level > 0)) ? level - 1 : level;\n      if (block && (state.dump.length !== 0)) {\n        writeBlockSequence(state, arrayLevel, state.dump, compact);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + state.dump;\n        }\n      } else {\n        writeFlowSequence(state, arrayLevel, state.dump);\n        if (duplicate) {\n          state.dump = '&ref_' + duplicateIndex + ' ' + state.dump;\n        }\n      }\n    } else if (type === '[object String]') {\n      if (state.tag !== '?') {\n        writeScalar(state, state.dump, level, iskey);\n      }\n    } else {\n      if (state.skipInvalid) return false;\n      throw new YAMLException('unacceptable kind of an object to dump ' + type);\n    }\n\n    if (state.tag !== null && state.tag !== '?') {\n      state.dump = '!<' + state.tag + '> ' + state.dump;\n    }\n  }\n\n  return true;\n}\n\nfunction getDuplicateReferences(object, state) {\n  var objects = [],\n      duplicatesIndexes = [],\n      index,\n      length;\n\n  inspectNode(object, objects, duplicatesIndexes);\n\n  for (index = 0, length = duplicatesIndexes.length; index < length; index += 1) {\n    state.duplicates.push(objects[duplicatesIndexes[index]]);\n  }\n  state.usedDuplicates = new Array(length);\n}\n\nfunction inspectNode(object, objects, duplicatesIndexes) {\n  var objectKeyList,\n      index,\n      length;\n\n  if (object !== null && typeof object === 'object') {\n    index = objects.indexOf(object);\n    if (index !== -1) {\n      if (duplicatesIndexes.indexOf(index) === -1) {\n        duplicatesIndexes.push(index);\n      }\n    } else {\n      objects.push(object);\n\n      if (Array.isArray(object)) {\n        for (index = 0, length = object.length; index < length; index += 1) {\n          inspectNode(object[index], objects, duplicatesIndexes);\n        }\n      } else {\n        objectKeyList = Object.keys(object);\n\n        for (index = 0, length = objectKeyList.length; index < length; index += 1) {\n          inspectNode(object[objectKeyList[index]], objects, duplicatesIndexes);\n        }\n      }\n    }\n  }\n}\n\nfunction dump(input, options) {\n  options = options || {};\n\n  var state = new State(options);\n\n  if (!state.noRefs) getDuplicateReferences(input, state);\n\n  if (writeNode(state, 0, input, true, true)) return state.dump + '\\n';\n\n  return '';\n}\n\nfunction safeDump(input, options) {\n  return dump(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\nmodule.exports.dump     = dump;\nmodule.exports.safeDump = safeDump;\n\n},{\"./common\":2,\"./exception\":4,\"./schema/default_full\":9,\"./schema/default_safe\":10}],4:[function(require,module,exports){\n// YAML error class. http://stackoverflow.com/questions/8458984\n//\n'use strict';\n\nfunction YAMLException(reason, mark) {\n  // Super constructor\n  Error.call(this);\n\n  this.name = 'YAMLException';\n  this.reason = reason;\n  this.mark = mark;\n  this.message = (this.reason || '(unknown reason)') + (this.mark ? ' ' + this.mark.toString() : '');\n\n  // Include stack trace in error object\n  if (Error.captureStackTrace) {\n    // Chrome and NodeJS\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    // FF, IE 10+ and Safari 6+. Fallback for others\n    this.stack = (new Error()).stack || '';\n  }\n}\n\n\n// Inherit from Error\nYAMLException.prototype = Object.create(Error.prototype);\nYAMLException.prototype.constructor = YAMLException;\n\n\nYAMLException.prototype.toString = function toString(compact) {\n  var result = this.name + ': ';\n\n  result += this.reason || '(unknown reason)';\n\n  if (!compact && this.mark) {\n    result += ' ' + this.mark.toString();\n  }\n\n  return result;\n};\n\n\nmodule.exports = YAMLException;\n\n},{}],5:[function(require,module,exports){\n'use strict';\n\n/*eslint-disable max-len,no-use-before-define*/\n\nvar common              = require('./common');\nvar YAMLException       = require('./exception');\nvar Mark                = require('./mark');\nvar DEFAULT_SAFE_SCHEMA = require('./schema/default_safe');\nvar DEFAULT_FULL_SCHEMA = require('./schema/default_full');\n\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\n\nvar CONTEXT_FLOW_IN   = 1;\nvar CONTEXT_FLOW_OUT  = 2;\nvar CONTEXT_BLOCK_IN  = 3;\nvar CONTEXT_BLOCK_OUT = 4;\n\n\nvar CHOMPING_CLIP  = 1;\nvar CHOMPING_STRIP = 2;\nvar CHOMPING_KEEP  = 3;\n\n\nvar PATTERN_NON_PRINTABLE         = /[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x84\\x86-\\x9F\\uFFFE\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]/;\nvar PATTERN_NON_ASCII_LINE_BREAKS = /[\\x85\\u2028\\u2029]/;\nvar PATTERN_FLOW_INDICATORS       = /[,\\[\\]\\{\\}]/;\nvar PATTERN_TAG_HANDLE            = /^(?:!|!!|![a-z\\-]+!)$/i;\nvar PATTERN_TAG_URI               = /^(?:!|[^,\\[\\]\\{\\}])(?:%[0-9a-f]{2}|[0-9a-z\\-#;\\/\\?:@&=\\+\\$,_\\.!~\\*'\\(\\)\\[\\]])*$/i;\n\n\nfunction _class(obj) { return Object.prototype.toString.call(obj); }\n\nfunction is_EOL(c) {\n  return (c === 0x0A/* LF */) || (c === 0x0D/* CR */);\n}\n\nfunction is_WHITE_SPACE(c) {\n  return (c === 0x09/* Tab */) || (c === 0x20/* Space */);\n}\n\nfunction is_WS_OR_EOL(c) {\n  return (c === 0x09/* Tab */) ||\n         (c === 0x20/* Space */) ||\n         (c === 0x0A/* LF */) ||\n         (c === 0x0D/* CR */);\n}\n\nfunction is_FLOW_INDICATOR(c) {\n  return c === 0x2C/* , */ ||\n         c === 0x5B/* [ */ ||\n         c === 0x5D/* ] */ ||\n         c === 0x7B/* { */ ||\n         c === 0x7D/* } */;\n}\n\nfunction fromHexCode(c) {\n  var lc;\n\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  /*eslint-disable no-bitwise*/\n  lc = c | 0x20;\n\n  if ((0x61/* a */ <= lc) && (lc <= 0x66/* f */)) {\n    return lc - 0x61 + 10;\n  }\n\n  return -1;\n}\n\nfunction escapedHexLen(c) {\n  if (c === 0x78/* x */) { return 2; }\n  if (c === 0x75/* u */) { return 4; }\n  if (c === 0x55/* U */) { return 8; }\n  return 0;\n}\n\nfunction fromDecimalCode(c) {\n  if ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) {\n    return c - 0x30;\n  }\n\n  return -1;\n}\n\nfunction simpleEscapeSequence(c) {\n  /* eslint-disable indent */\n  return (c === 0x30/* 0 */) ? '\\x00' :\n        (c === 0x61/* a */) ? '\\x07' :\n        (c === 0x62/* b */) ? '\\x08' :\n        (c === 0x74/* t */) ? '\\x09' :\n        (c === 0x09/* Tab */) ? '\\x09' :\n        (c === 0x6E/* n */) ? '\\x0A' :\n        (c === 0x76/* v */) ? '\\x0B' :\n        (c === 0x66/* f */) ? '\\x0C' :\n        (c === 0x72/* r */) ? '\\x0D' :\n        (c === 0x65/* e */) ? '\\x1B' :\n        (c === 0x20/* Space */) ? ' ' :\n        (c === 0x22/* \" */) ? '\\x22' :\n        (c === 0x2F/* / */) ? '/' :\n        (c === 0x5C/* \\ */) ? '\\x5C' :\n        (c === 0x4E/* N */) ? '\\x85' :\n        (c === 0x5F/* _ */) ? '\\xA0' :\n        (c === 0x4C/* L */) ? '\\u2028' :\n        (c === 0x50/* P */) ? '\\u2029' : '';\n}\n\nfunction charFromCodepoint(c) {\n  if (c <= 0xFFFF) {\n    return String.fromCharCode(c);\n  }\n  // Encode UTF-16 surrogate pair\n  // https://en.wikipedia.org/wiki/UTF-16#Code_points_U.2B010000_to_U.2B10FFFF\n  return String.fromCharCode(\n    ((c - 0x010000) >> 10) + 0xD800,\n    ((c - 0x010000) & 0x03FF) + 0xDC00\n  );\n}\n\nvar simpleEscapeCheck = new Array(256); // integer, for fast access\nvar simpleEscapeMap = new Array(256);\nfor (var i = 0; i < 256; i++) {\n  simpleEscapeCheck[i] = simpleEscapeSequence(i) ? 1 : 0;\n  simpleEscapeMap[i] = simpleEscapeSequence(i);\n}\n\n\nfunction State(input, options) {\n  this.input = input;\n\n  this.filename  = options['filename']  || null;\n  this.schema    = options['schema']    || DEFAULT_FULL_SCHEMA;\n  this.onWarning = options['onWarning'] || null;\n  this.legacy    = options['legacy']    || false;\n  this.json      = options['json']      || false;\n  this.listener  = options['listener']  || null;\n\n  this.implicitTypes = this.schema.compiledImplicit;\n  this.typeMap       = this.schema.compiledTypeMap;\n\n  this.length     = input.length;\n  this.position   = 0;\n  this.line       = 0;\n  this.lineStart  = 0;\n  this.lineIndent = 0;\n\n  this.documents = [];\n\n  /*\n  this.version;\n  this.checkLineBreaks;\n  this.tagMap;\n  this.anchorMap;\n  this.tag;\n  this.anchor;\n  this.kind;\n  this.result;*/\n\n}\n\n\nfunction generateError(state, message) {\n  return new YAMLException(\n    message,\n    new Mark(state.filename, state.input, state.position, state.line, (state.position - state.lineStart)));\n}\n\nfunction throwError(state, message) {\n  throw generateError(state, message);\n}\n\nfunction throwWarning(state, message) {\n  if (state.onWarning) {\n    state.onWarning.call(null, generateError(state, message));\n  }\n}\n\n\nvar directiveHandlers = {\n\n  YAML: function handleYamlDirective(state, name, args) {\n\n    var match, major, minor;\n\n    if (state.version !== null) {\n      throwError(state, 'duplication of %YAML directive');\n    }\n\n    if (args.length !== 1) {\n      throwError(state, 'YAML directive accepts exactly one argument');\n    }\n\n    match = /^([0-9]+)\\.([0-9]+)$/.exec(args[0]);\n\n    if (match === null) {\n      throwError(state, 'ill-formed argument of the YAML directive');\n    }\n\n    major = parseInt(match[1], 10);\n    minor = parseInt(match[2], 10);\n\n    if (major !== 1) {\n      throwError(state, 'unacceptable YAML version of the document');\n    }\n\n    state.version = args[0];\n    state.checkLineBreaks = (minor < 2);\n\n    if (minor !== 1 && minor !== 2) {\n      throwWarning(state, 'unsupported YAML version of the document');\n    }\n  },\n\n  TAG: function handleTagDirective(state, name, args) {\n\n    var handle, prefix;\n\n    if (args.length !== 2) {\n      throwError(state, 'TAG directive accepts exactly two arguments');\n    }\n\n    handle = args[0];\n    prefix = args[1];\n\n    if (!PATTERN_TAG_HANDLE.test(handle)) {\n      throwError(state, 'ill-formed tag handle (first argument) of the TAG directive');\n    }\n\n    if (_hasOwnProperty.call(state.tagMap, handle)) {\n      throwError(state, 'there is a previously declared suffix for \"' + handle + '\" tag handle');\n    }\n\n    if (!PATTERN_TAG_URI.test(prefix)) {\n      throwError(state, 'ill-formed tag prefix (second argument) of the TAG directive');\n    }\n\n    state.tagMap[handle] = prefix;\n  }\n};\n\n\nfunction captureSegment(state, start, end, checkJson) {\n  var _position, _length, _character, _result;\n\n  if (start < end) {\n    _result = state.input.slice(start, end);\n\n    if (checkJson) {\n      for (_position = 0, _length = _result.length; _position < _length; _position += 1) {\n        _character = _result.charCodeAt(_position);\n        if (!(_character === 0x09 ||\n              (0x20 <= _character && _character <= 0x10FFFF))) {\n          throwError(state, 'expected valid JSON character');\n        }\n      }\n    } else if (PATTERN_NON_PRINTABLE.test(_result)) {\n      throwError(state, 'the stream contains non-printable characters');\n    }\n\n    state.result += _result;\n  }\n}\n\nfunction mergeMappings(state, destination, source, overridableKeys) {\n  var sourceKeys, key, index, quantity;\n\n  if (!common.isObject(source)) {\n    throwError(state, 'cannot merge mappings; the provided source object is unacceptable');\n  }\n\n  sourceKeys = Object.keys(source);\n\n  for (index = 0, quantity = sourceKeys.length; index < quantity; index += 1) {\n    key = sourceKeys[index];\n\n    if (!_hasOwnProperty.call(destination, key)) {\n      destination[key] = source[key];\n      overridableKeys[key] = true;\n    }\n  }\n}\n\nfunction storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, startLine, startPos) {\n  var index, quantity;\n\n  // The output is a plain object here, so keys can only be strings.\n  // We need to convert keyNode to a string, but doing so can hang the process\n  // (deeply nested arrays that explode exponentially using aliases).\n  if (Array.isArray(keyNode)) {\n    keyNode = Array.prototype.slice.call(keyNode);\n\n    for (index = 0, quantity = keyNode.length; index < quantity; index += 1) {\n      if (Array.isArray(keyNode[index])) {\n        throwError(state, 'nested arrays are not supported inside keys');\n      }\n\n      if (typeof keyNode === 'object' && _class(keyNode[index]) === '[object Object]') {\n        keyNode[index] = '[object Object]';\n      }\n    }\n  }\n\n  // Avoid code execution in load() via toString property\n  // (still use its own toString for arrays, timestamps,\n  // and whatever user schema extensions happen to have @@toStringTag)\n  if (typeof keyNode === 'object' && _class(keyNode) === '[object Object]') {\n    keyNode = '[object Object]';\n  }\n\n\n  keyNode = String(keyNode);\n\n  if (_result === null) {\n    _result = {};\n  }\n\n  if (keyTag === 'tag:yaml.org,2002:merge') {\n    if (Array.isArray(valueNode)) {\n      for (index = 0, quantity = valueNode.length; index < quantity; index += 1) {\n        mergeMappings(state, _result, valueNode[index], overridableKeys);\n      }\n    } else {\n      mergeMappings(state, _result, valueNode, overridableKeys);\n    }\n  } else {\n    if (!state.json &&\n        !_hasOwnProperty.call(overridableKeys, keyNode) &&\n        _hasOwnProperty.call(_result, keyNode)) {\n      state.line = startLine || state.line;\n      state.position = startPos || state.position;\n      throwError(state, 'duplicated mapping key');\n    }\n    _result[keyNode] = valueNode;\n    delete overridableKeys[keyNode];\n  }\n\n  return _result;\n}\n\nfunction readLineBreak(state) {\n  var ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x0A/* LF */) {\n    state.position++;\n  } else if (ch === 0x0D/* CR */) {\n    state.position++;\n    if (state.input.charCodeAt(state.position) === 0x0A/* LF */) {\n      state.position++;\n    }\n  } else {\n    throwError(state, 'a line break is expected');\n  }\n\n  state.line += 1;\n  state.lineStart = state.position;\n}\n\nfunction skipSeparationSpace(state, allowComments, checkIndent) {\n  var lineBreaks = 0,\n      ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    while (is_WHITE_SPACE(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (allowComments && ch === 0x23/* # */) {\n      do {\n        ch = state.input.charCodeAt(++state.position);\n      } while (ch !== 0x0A/* LF */ && ch !== 0x0D/* CR */ && ch !== 0);\n    }\n\n    if (is_EOL(ch)) {\n      readLineBreak(state);\n\n      ch = state.input.charCodeAt(state.position);\n      lineBreaks++;\n      state.lineIndent = 0;\n\n      while (ch === 0x20/* Space */) {\n        state.lineIndent++;\n        ch = state.input.charCodeAt(++state.position);\n      }\n    } else {\n      break;\n    }\n  }\n\n  if (checkIndent !== -1 && lineBreaks !== 0 && state.lineIndent < checkIndent) {\n    throwWarning(state, 'deficient indentation');\n  }\n\n  return lineBreaks;\n}\n\nfunction testDocumentSeparator(state) {\n  var _position = state.position,\n      ch;\n\n  ch = state.input.charCodeAt(_position);\n\n  // Condition state.position === state.lineStart is tested\n  // in parent on each call, for efficiency. No needs to test here again.\n  if ((ch === 0x2D/* - */ || ch === 0x2E/* . */) &&\n      ch === state.input.charCodeAt(_position + 1) &&\n      ch === state.input.charCodeAt(_position + 2)) {\n\n    _position += 3;\n\n    ch = state.input.charCodeAt(_position);\n\n    if (ch === 0 || is_WS_OR_EOL(ch)) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction writeFoldedLines(state, count) {\n  if (count === 1) {\n    state.result += ' ';\n  } else if (count > 1) {\n    state.result += common.repeat('\\n', count - 1);\n  }\n}\n\n\nfunction readPlainScalar(state, nodeIndent, withinFlowCollection) {\n  var preceding,\n      following,\n      captureStart,\n      captureEnd,\n      hasPendingContent,\n      _line,\n      _lineStart,\n      _lineIndent,\n      _kind = state.kind,\n      _result = state.result,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (is_WS_OR_EOL(ch)      ||\n      is_FLOW_INDICATOR(ch) ||\n      ch === 0x23/* # */    ||\n      ch === 0x26/* & */    ||\n      ch === 0x2A/* * */    ||\n      ch === 0x21/* ! */    ||\n      ch === 0x7C/* | */    ||\n      ch === 0x3E/* > */    ||\n      ch === 0x27/* ' */    ||\n      ch === 0x22/* \" */    ||\n      ch === 0x25/* % */    ||\n      ch === 0x40/* @ */    ||\n      ch === 0x60/* ` */) {\n    return false;\n  }\n\n  if (ch === 0x3F/* ? */ || ch === 0x2D/* - */) {\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (is_WS_OR_EOL(following) ||\n        withinFlowCollection && is_FLOW_INDICATOR(following)) {\n      return false;\n    }\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  captureStart = captureEnd = state.position;\n  hasPendingContent = false;\n\n  while (ch !== 0) {\n    if (ch === 0x3A/* : */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following) ||\n          withinFlowCollection && is_FLOW_INDICATOR(following)) {\n        break;\n      }\n\n    } else if (ch === 0x23/* # */) {\n      preceding = state.input.charCodeAt(state.position - 1);\n\n      if (is_WS_OR_EOL(preceding)) {\n        break;\n      }\n\n    } else if ((state.position === state.lineStart && testDocumentSeparator(state)) ||\n               withinFlowCollection && is_FLOW_INDICATOR(ch)) {\n      break;\n\n    } else if (is_EOL(ch)) {\n      _line = state.line;\n      _lineStart = state.lineStart;\n      _lineIndent = state.lineIndent;\n      skipSeparationSpace(state, false, -1);\n\n      if (state.lineIndent >= nodeIndent) {\n        hasPendingContent = true;\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      } else {\n        state.position = captureEnd;\n        state.line = _line;\n        state.lineStart = _lineStart;\n        state.lineIndent = _lineIndent;\n        break;\n      }\n    }\n\n    if (hasPendingContent) {\n      captureSegment(state, captureStart, captureEnd, false);\n      writeFoldedLines(state, state.line - _line);\n      captureStart = captureEnd = state.position;\n      hasPendingContent = false;\n    }\n\n    if (!is_WHITE_SPACE(ch)) {\n      captureEnd = state.position + 1;\n    }\n\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  captureSegment(state, captureStart, captureEnd, false);\n\n  if (state.result) {\n    return true;\n  }\n\n  state.kind = _kind;\n  state.result = _result;\n  return false;\n}\n\nfunction readSingleQuotedScalar(state, nodeIndent) {\n  var ch,\n      captureStart, captureEnd;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x27/* ' */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x27/* ' */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (ch === 0x27/* ' */) {\n        captureStart = state.position;\n        state.position++;\n        captureEnd = state.position;\n      } else {\n        return true;\n      }\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a single quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a single quoted scalar');\n}\n\nfunction readDoubleQuotedScalar(state, nodeIndent) {\n  var captureStart,\n      captureEnd,\n      hexLength,\n      hexResult,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x22/* \" */) {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n  state.position++;\n  captureStart = captureEnd = state.position;\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    if (ch === 0x22/* \" */) {\n      captureSegment(state, captureStart, state.position, true);\n      state.position++;\n      return true;\n\n    } else if (ch === 0x5C/* \\ */) {\n      captureSegment(state, captureStart, state.position, true);\n      ch = state.input.charCodeAt(++state.position);\n\n      if (is_EOL(ch)) {\n        skipSeparationSpace(state, false, nodeIndent);\n\n        // TODO: rework to inline fn with no type cast?\n      } else if (ch < 256 && simpleEscapeCheck[ch]) {\n        state.result += simpleEscapeMap[ch];\n        state.position++;\n\n      } else if ((tmp = escapedHexLen(ch)) > 0) {\n        hexLength = tmp;\n        hexResult = 0;\n\n        for (; hexLength > 0; hexLength--) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if ((tmp = fromHexCode(ch)) >= 0) {\n            hexResult = (hexResult << 4) + tmp;\n\n          } else {\n            throwError(state, 'expected hexadecimal character');\n          }\n        }\n\n        state.result += charFromCodepoint(hexResult);\n\n        state.position++;\n\n      } else {\n        throwError(state, 'unknown escape sequence');\n      }\n\n      captureStart = captureEnd = state.position;\n\n    } else if (is_EOL(ch)) {\n      captureSegment(state, captureStart, captureEnd, true);\n      writeFoldedLines(state, skipSeparationSpace(state, false, nodeIndent));\n      captureStart = captureEnd = state.position;\n\n    } else if (state.position === state.lineStart && testDocumentSeparator(state)) {\n      throwError(state, 'unexpected end of the document within a double quoted scalar');\n\n    } else {\n      state.position++;\n      captureEnd = state.position;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a double quoted scalar');\n}\n\nfunction readFlowCollection(state, nodeIndent) {\n  var readNext = true,\n      _line,\n      _tag     = state.tag,\n      _result,\n      _anchor  = state.anchor,\n      following,\n      terminator,\n      isPair,\n      isExplicitPair,\n      isMapping,\n      overridableKeys = {},\n      keyNode,\n      keyTag,\n      valueNode,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x5B/* [ */) {\n    terminator = 0x5D;/* ] */\n    isMapping = false;\n    _result = [];\n  } else if (ch === 0x7B/* { */) {\n    terminator = 0x7D;/* } */\n    isMapping = true;\n    _result = {};\n  } else {\n    return false;\n  }\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  while (ch !== 0) {\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === terminator) {\n      state.position++;\n      state.tag = _tag;\n      state.anchor = _anchor;\n      state.kind = isMapping ? 'mapping' : 'sequence';\n      state.result = _result;\n      return true;\n    } else if (!readNext) {\n      throwError(state, 'missed comma between flow collection entries');\n    }\n\n    keyTag = keyNode = valueNode = null;\n    isPair = isExplicitPair = false;\n\n    if (ch === 0x3F/* ? */) {\n      following = state.input.charCodeAt(state.position + 1);\n\n      if (is_WS_OR_EOL(following)) {\n        isPair = isExplicitPair = true;\n        state.position++;\n        skipSeparationSpace(state, true, nodeIndent);\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n    keyTag = state.tag;\n    keyNode = state.result;\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((isExplicitPair || state.line === _line) && ch === 0x3A/* : */) {\n      isPair = true;\n      ch = state.input.charCodeAt(++state.position);\n      skipSeparationSpace(state, true, nodeIndent);\n      composeNode(state, nodeIndent, CONTEXT_FLOW_IN, false, true);\n      valueNode = state.result;\n    }\n\n    if (isMapping) {\n      storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode);\n    } else if (isPair) {\n      _result.push(storeMappingPair(state, null, overridableKeys, keyTag, keyNode, valueNode));\n    } else {\n      _result.push(keyNode);\n    }\n\n    skipSeparationSpace(state, true, nodeIndent);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (ch === 0x2C/* , */) {\n      readNext = true;\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      readNext = false;\n    }\n  }\n\n  throwError(state, 'unexpected end of the stream within a flow collection');\n}\n\nfunction readBlockScalar(state, nodeIndent) {\n  var captureStart,\n      folding,\n      chomping       = CHOMPING_CLIP,\n      didReadContent = false,\n      detectedIndent = false,\n      textIndent     = nodeIndent,\n      emptyLines     = 0,\n      atMoreIndented = false,\n      tmp,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch === 0x7C/* | */) {\n    folding = false;\n  } else if (ch === 0x3E/* > */) {\n    folding = true;\n  } else {\n    return false;\n  }\n\n  state.kind = 'scalar';\n  state.result = '';\n\n  while (ch !== 0) {\n    ch = state.input.charCodeAt(++state.position);\n\n    if (ch === 0x2B/* + */ || ch === 0x2D/* - */) {\n      if (CHOMPING_CLIP === chomping) {\n        chomping = (ch === 0x2B/* + */) ? CHOMPING_KEEP : CHOMPING_STRIP;\n      } else {\n        throwError(state, 'repeat of a chomping mode identifier');\n      }\n\n    } else if ((tmp = fromDecimalCode(ch)) >= 0) {\n      if (tmp === 0) {\n        throwError(state, 'bad explicit indentation width of a block scalar; it cannot be less than one');\n      } else if (!detectedIndent) {\n        textIndent = nodeIndent + tmp - 1;\n        detectedIndent = true;\n      } else {\n        throwError(state, 'repeat of an indentation width identifier');\n      }\n\n    } else {\n      break;\n    }\n  }\n\n  if (is_WHITE_SPACE(ch)) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (is_WHITE_SPACE(ch));\n\n    if (ch === 0x23/* # */) {\n      do { ch = state.input.charCodeAt(++state.position); }\n      while (!is_EOL(ch) && (ch !== 0));\n    }\n  }\n\n  while (ch !== 0) {\n    readLineBreak(state);\n    state.lineIndent = 0;\n\n    ch = state.input.charCodeAt(state.position);\n\n    while ((!detectedIndent || state.lineIndent < textIndent) &&\n           (ch === 0x20/* Space */)) {\n      state.lineIndent++;\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    if (!detectedIndent && state.lineIndent > textIndent) {\n      textIndent = state.lineIndent;\n    }\n\n    if (is_EOL(ch)) {\n      emptyLines++;\n      continue;\n    }\n\n    // End of the scalar.\n    if (state.lineIndent < textIndent) {\n\n      // Perform the chomping.\n      if (chomping === CHOMPING_KEEP) {\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n      } else if (chomping === CHOMPING_CLIP) {\n        if (didReadContent) { // i.e. only if the scalar is not empty.\n          state.result += '\\n';\n        }\n      }\n\n      // Break this `while` cycle and go to the funciton's epilogue.\n      break;\n    }\n\n    // Folded style: use fancy rules to handle line breaks.\n    if (folding) {\n\n      // Lines starting with white space characters (more-indented lines) are not folded.\n      if (is_WHITE_SPACE(ch)) {\n        atMoreIndented = true;\n        // except for the first content line (cf. Example 8.1)\n        state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n\n      // End of more-indented block.\n      } else if (atMoreIndented) {\n        atMoreIndented = false;\n        state.result += common.repeat('\\n', emptyLines + 1);\n\n      // Just one line break - perceive as the same line.\n      } else if (emptyLines === 0) {\n        if (didReadContent) { // i.e. only if we have already read some scalar content.\n          state.result += ' ';\n        }\n\n      // Several line breaks - perceive as different lines.\n      } else {\n        state.result += common.repeat('\\n', emptyLines);\n      }\n\n    // Literal style: just add exact number of line breaks between content lines.\n    } else {\n      // Keep all line breaks except the header line break.\n      state.result += common.repeat('\\n', didReadContent ? 1 + emptyLines : emptyLines);\n    }\n\n    didReadContent = true;\n    detectedIndent = true;\n    emptyLines = 0;\n    captureStart = state.position;\n\n    while (!is_EOL(ch) && (ch !== 0)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    captureSegment(state, captureStart, state.position, false);\n  }\n\n  return true;\n}\n\nfunction readBlockSequence(state, nodeIndent) {\n  var _line,\n      _tag      = state.tag,\n      _anchor   = state.anchor,\n      _result   = [],\n      following,\n      detected  = false,\n      ch;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n\n    if (ch !== 0x2D/* - */) {\n      break;\n    }\n\n    following = state.input.charCodeAt(state.position + 1);\n\n    if (!is_WS_OR_EOL(following)) {\n      break;\n    }\n\n    detected = true;\n    state.position++;\n\n    if (skipSeparationSpace(state, true, -1)) {\n      if (state.lineIndent <= nodeIndent) {\n        _result.push(null);\n        ch = state.input.charCodeAt(state.position);\n        continue;\n      }\n    }\n\n    _line = state.line;\n    composeNode(state, nodeIndent, CONTEXT_BLOCK_IN, false, true);\n    _result.push(state.result);\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if ((state.line === _line || state.lineIndent > nodeIndent) && (ch !== 0)) {\n      throwError(state, 'bad indentation of a sequence entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'sequence';\n    state.result = _result;\n    return true;\n  }\n  return false;\n}\n\nfunction readBlockMapping(state, nodeIndent, flowIndent) {\n  var following,\n      allowCompact,\n      _line,\n      _pos,\n      _tag          = state.tag,\n      _anchor       = state.anchor,\n      _result       = {},\n      overridableKeys = {},\n      keyTag        = null,\n      keyNode       = null,\n      valueNode     = null,\n      atExplicitKey = false,\n      detected      = false,\n      ch;\n\n  if (state.anchor !== null) {\n    state.anchorMap[state.anchor] = _result;\n  }\n\n  ch = state.input.charCodeAt(state.position);\n\n  while (ch !== 0) {\n    following = state.input.charCodeAt(state.position + 1);\n    _line = state.line; // Save the current line.\n    _pos = state.position;\n\n    //\n    // Explicit notation case. There are two separate blocks:\n    // first for the key (denoted by \"?\") and second for the value (denoted by \":\")\n    //\n    if ((ch === 0x3F/* ? */ || ch === 0x3A/* : */) && is_WS_OR_EOL(following)) {\n\n      if (ch === 0x3F/* ? */) {\n        if (atExplicitKey) {\n          storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n          keyTag = keyNode = valueNode = null;\n        }\n\n        detected = true;\n        atExplicitKey = true;\n        allowCompact = true;\n\n      } else if (atExplicitKey) {\n        // i.e. 0x3A/* : */ === character after the explicit key.\n        atExplicitKey = false;\n        allowCompact = true;\n\n      } else {\n        throwError(state, 'incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line');\n      }\n\n      state.position += 1;\n      ch = following;\n\n    //\n    // Implicit notation case. Flow-style node as the key first, then \":\", and the value.\n    //\n    } else if (composeNode(state, flowIndent, CONTEXT_FLOW_OUT, false, true)) {\n\n      if (state.line === _line) {\n        ch = state.input.charCodeAt(state.position);\n\n        while (is_WHITE_SPACE(ch)) {\n          ch = state.input.charCodeAt(++state.position);\n        }\n\n        if (ch === 0x3A/* : */) {\n          ch = state.input.charCodeAt(++state.position);\n\n          if (!is_WS_OR_EOL(ch)) {\n            throwError(state, 'a whitespace character is expected after the key-value separator within a block mapping');\n          }\n\n          if (atExplicitKey) {\n            storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n            keyTag = keyNode = valueNode = null;\n          }\n\n          detected = true;\n          atExplicitKey = false;\n          allowCompact = false;\n          keyTag = state.tag;\n          keyNode = state.result;\n\n        } else if (detected) {\n          throwError(state, 'can not read an implicit mapping pair; a colon is missed');\n\n        } else {\n          state.tag = _tag;\n          state.anchor = _anchor;\n          return true; // Keep the result of `composeNode`.\n        }\n\n      } else if (detected) {\n        throwError(state, 'can not read a block mapping entry; a multiline key may not be an implicit key');\n\n      } else {\n        state.tag = _tag;\n        state.anchor = _anchor;\n        return true; // Keep the result of `composeNode`.\n      }\n\n    } else {\n      break; // Reading is done. Go to the epilogue.\n    }\n\n    //\n    // Common reading code for both explicit and implicit notations.\n    //\n    if (state.line === _line || state.lineIndent > nodeIndent) {\n      if (composeNode(state, nodeIndent, CONTEXT_BLOCK_OUT, true, allowCompact)) {\n        if (atExplicitKey) {\n          keyNode = state.result;\n        } else {\n          valueNode = state.result;\n        }\n      }\n\n      if (!atExplicitKey) {\n        storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, valueNode, _line, _pos);\n        keyTag = keyNode = valueNode = null;\n      }\n\n      skipSeparationSpace(state, true, -1);\n      ch = state.input.charCodeAt(state.position);\n    }\n\n    if (state.lineIndent > nodeIndent && (ch !== 0)) {\n      throwError(state, 'bad indentation of a mapping entry');\n    } else if (state.lineIndent < nodeIndent) {\n      break;\n    }\n  }\n\n  //\n  // Epilogue.\n  //\n\n  // Special case: last mapping's node contains only the key in explicit notation.\n  if (atExplicitKey) {\n    storeMappingPair(state, _result, overridableKeys, keyTag, keyNode, null);\n  }\n\n  // Expose the resulting mapping.\n  if (detected) {\n    state.tag = _tag;\n    state.anchor = _anchor;\n    state.kind = 'mapping';\n    state.result = _result;\n  }\n\n  return detected;\n}\n\nfunction readTagProperty(state) {\n  var _position,\n      isVerbatim = false,\n      isNamed    = false,\n      tagHandle,\n      tagName,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x21/* ! */) return false;\n\n  if (state.tag !== null) {\n    throwError(state, 'duplication of a tag property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n\n  if (ch === 0x3C/* < */) {\n    isVerbatim = true;\n    ch = state.input.charCodeAt(++state.position);\n\n  } else if (ch === 0x21/* ! */) {\n    isNamed = true;\n    tagHandle = '!!';\n    ch = state.input.charCodeAt(++state.position);\n\n  } else {\n    tagHandle = '!';\n  }\n\n  _position = state.position;\n\n  if (isVerbatim) {\n    do { ch = state.input.charCodeAt(++state.position); }\n    while (ch !== 0 && ch !== 0x3E/* > */);\n\n    if (state.position < state.length) {\n      tagName = state.input.slice(_position, state.position);\n      ch = state.input.charCodeAt(++state.position);\n    } else {\n      throwError(state, 'unexpected end of the stream within a verbatim tag');\n    }\n  } else {\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n\n      if (ch === 0x21/* ! */) {\n        if (!isNamed) {\n          tagHandle = state.input.slice(_position - 1, state.position + 1);\n\n          if (!PATTERN_TAG_HANDLE.test(tagHandle)) {\n            throwError(state, 'named tag handle cannot contain such characters');\n          }\n\n          isNamed = true;\n          _position = state.position + 1;\n        } else {\n          throwError(state, 'tag suffix cannot contain exclamation marks');\n        }\n      }\n\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    tagName = state.input.slice(_position, state.position);\n\n    if (PATTERN_FLOW_INDICATORS.test(tagName)) {\n      throwError(state, 'tag suffix cannot contain flow indicator characters');\n    }\n  }\n\n  if (tagName && !PATTERN_TAG_URI.test(tagName)) {\n    throwError(state, 'tag name cannot contain such characters: ' + tagName);\n  }\n\n  if (isVerbatim) {\n    state.tag = tagName;\n\n  } else if (_hasOwnProperty.call(state.tagMap, tagHandle)) {\n    state.tag = state.tagMap[tagHandle] + tagName;\n\n  } else if (tagHandle === '!') {\n    state.tag = '!' + tagName;\n\n  } else if (tagHandle === '!!') {\n    state.tag = 'tag:yaml.org,2002:' + tagName;\n\n  } else {\n    throwError(state, 'undeclared tag handle \"' + tagHandle + '\"');\n  }\n\n  return true;\n}\n\nfunction readAnchorProperty(state) {\n  var _position,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x26/* & */) return false;\n\n  if (state.anchor !== null) {\n    throwError(state, 'duplication of an anchor property');\n  }\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an anchor node must contain at least one character');\n  }\n\n  state.anchor = state.input.slice(_position, state.position);\n  return true;\n}\n\nfunction readAlias(state) {\n  var _position, alias,\n      ch;\n\n  ch = state.input.charCodeAt(state.position);\n\n  if (ch !== 0x2A/* * */) return false;\n\n  ch = state.input.charCodeAt(++state.position);\n  _position = state.position;\n\n  while (ch !== 0 && !is_WS_OR_EOL(ch) && !is_FLOW_INDICATOR(ch)) {\n    ch = state.input.charCodeAt(++state.position);\n  }\n\n  if (state.position === _position) {\n    throwError(state, 'name of an alias node must contain at least one character');\n  }\n\n  alias = state.input.slice(_position, state.position);\n\n  if (!state.anchorMap.hasOwnProperty(alias)) {\n    throwError(state, 'unidentified alias \"' + alias + '\"');\n  }\n\n  state.result = state.anchorMap[alias];\n  skipSeparationSpace(state, true, -1);\n  return true;\n}\n\nfunction composeNode(state, parentIndent, nodeContext, allowToSeek, allowCompact) {\n  var allowBlockStyles,\n      allowBlockScalars,\n      allowBlockCollections,\n      indentStatus = 1, // 1: this>parent, 0: this=parent, -1: this<parent\n      atNewLine  = false,\n      hasContent = false,\n      typeIndex,\n      typeQuantity,\n      type,\n      flowIndent,\n      blockIndent;\n\n  if (state.listener !== null) {\n    state.listener('open', state);\n  }\n\n  state.tag    = null;\n  state.anchor = null;\n  state.kind   = null;\n  state.result = null;\n\n  allowBlockStyles = allowBlockScalars = allowBlockCollections =\n    CONTEXT_BLOCK_OUT === nodeContext ||\n    CONTEXT_BLOCK_IN  === nodeContext;\n\n  if (allowToSeek) {\n    if (skipSeparationSpace(state, true, -1)) {\n      atNewLine = true;\n\n      if (state.lineIndent > parentIndent) {\n        indentStatus = 1;\n      } else if (state.lineIndent === parentIndent) {\n        indentStatus = 0;\n      } else if (state.lineIndent < parentIndent) {\n        indentStatus = -1;\n      }\n    }\n  }\n\n  if (indentStatus === 1) {\n    while (readTagProperty(state) || readAnchorProperty(state)) {\n      if (skipSeparationSpace(state, true, -1)) {\n        atNewLine = true;\n        allowBlockCollections = allowBlockStyles;\n\n        if (state.lineIndent > parentIndent) {\n          indentStatus = 1;\n        } else if (state.lineIndent === parentIndent) {\n          indentStatus = 0;\n        } else if (state.lineIndent < parentIndent) {\n          indentStatus = -1;\n        }\n      } else {\n        allowBlockCollections = false;\n      }\n    }\n  }\n\n  if (allowBlockCollections) {\n    allowBlockCollections = atNewLine || allowCompact;\n  }\n\n  if (indentStatus === 1 || CONTEXT_BLOCK_OUT === nodeContext) {\n    if (CONTEXT_FLOW_IN === nodeContext || CONTEXT_FLOW_OUT === nodeContext) {\n      flowIndent = parentIndent;\n    } else {\n      flowIndent = parentIndent + 1;\n    }\n\n    blockIndent = state.position - state.lineStart;\n\n    if (indentStatus === 1) {\n      if (allowBlockCollections &&\n          (readBlockSequence(state, blockIndent) ||\n           readBlockMapping(state, blockIndent, flowIndent)) ||\n          readFlowCollection(state, flowIndent)) {\n        hasContent = true;\n      } else {\n        if ((allowBlockScalars && readBlockScalar(state, flowIndent)) ||\n            readSingleQuotedScalar(state, flowIndent) ||\n            readDoubleQuotedScalar(state, flowIndent)) {\n          hasContent = true;\n\n        } else if (readAlias(state)) {\n          hasContent = true;\n\n          if (state.tag !== null || state.anchor !== null) {\n            throwError(state, 'alias node should not have any properties');\n          }\n\n        } else if (readPlainScalar(state, flowIndent, CONTEXT_FLOW_IN === nodeContext)) {\n          hasContent = true;\n\n          if (state.tag === null) {\n            state.tag = '?';\n          }\n        }\n\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else if (indentStatus === 0) {\n      // Special case: block sequences are allowed to have same indentation level as the parent.\n      // http://www.yaml.org/spec/1.2/spec.html#id2799784\n      hasContent = allowBlockCollections && readBlockSequence(state, blockIndent);\n    }\n  }\n\n  if (state.tag !== null && state.tag !== '!') {\n    if (state.tag === '?') {\n      for (typeIndex = 0, typeQuantity = state.implicitTypes.length; typeIndex < typeQuantity; typeIndex += 1) {\n        type = state.implicitTypes[typeIndex];\n\n        // Implicit resolving is not allowed for non-scalar types, and '?'\n        // non-specific tag is only assigned to plain scalars. So, it isn't\n        // needed to check for 'kind' conformity.\n\n        if (type.resolve(state.result)) { // `state.result` updated in resolver if matched\n          state.result = type.construct(state.result);\n          state.tag = type.tag;\n          if (state.anchor !== null) {\n            state.anchorMap[state.anchor] = state.result;\n          }\n          break;\n        }\n      }\n    } else if (_hasOwnProperty.call(state.typeMap[state.kind || 'fallback'], state.tag)) {\n      type = state.typeMap[state.kind || 'fallback'][state.tag];\n\n      if (state.result !== null && type.kind !== state.kind) {\n        throwError(state, 'unacceptable node kind for !<' + state.tag + '> tag; it should be \"' + type.kind + '\", not \"' + state.kind + '\"');\n      }\n\n      if (!type.resolve(state.result)) { // `state.result` updated in resolver if matched\n        throwError(state, 'cannot resolve a node with !<' + state.tag + '> explicit tag');\n      } else {\n        state.result = type.construct(state.result);\n        if (state.anchor !== null) {\n          state.anchorMap[state.anchor] = state.result;\n        }\n      }\n    } else {\n      throwError(state, 'unknown tag !<' + state.tag + '>');\n    }\n  }\n\n  if (state.listener !== null) {\n    state.listener('close', state);\n  }\n  return state.tag !== null ||  state.anchor !== null || hasContent;\n}\n\nfunction readDocument(state) {\n  var documentStart = state.position,\n      _position,\n      directiveName,\n      directiveArgs,\n      hasDirectives = false,\n      ch;\n\n  state.version = null;\n  state.checkLineBreaks = state.legacy;\n  state.tagMap = {};\n  state.anchorMap = {};\n\n  while ((ch = state.input.charCodeAt(state.position)) !== 0) {\n    skipSeparationSpace(state, true, -1);\n\n    ch = state.input.charCodeAt(state.position);\n\n    if (state.lineIndent > 0 || ch !== 0x25/* % */) {\n      break;\n    }\n\n    hasDirectives = true;\n    ch = state.input.charCodeAt(++state.position);\n    _position = state.position;\n\n    while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n      ch = state.input.charCodeAt(++state.position);\n    }\n\n    directiveName = state.input.slice(_position, state.position);\n    directiveArgs = [];\n\n    if (directiveName.length < 1) {\n      throwError(state, 'directive name must not be less than one character in length');\n    }\n\n    while (ch !== 0) {\n      while (is_WHITE_SPACE(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      if (ch === 0x23/* # */) {\n        do { ch = state.input.charCodeAt(++state.position); }\n        while (ch !== 0 && !is_EOL(ch));\n        break;\n      }\n\n      if (is_EOL(ch)) break;\n\n      _position = state.position;\n\n      while (ch !== 0 && !is_WS_OR_EOL(ch)) {\n        ch = state.input.charCodeAt(++state.position);\n      }\n\n      directiveArgs.push(state.input.slice(_position, state.position));\n    }\n\n    if (ch !== 0) readLineBreak(state);\n\n    if (_hasOwnProperty.call(directiveHandlers, directiveName)) {\n      directiveHandlers[directiveName](state, directiveName, directiveArgs);\n    } else {\n      throwWarning(state, 'unknown document directive \"' + directiveName + '\"');\n    }\n  }\n\n  skipSeparationSpace(state, true, -1);\n\n  if (state.lineIndent === 0 &&\n      state.input.charCodeAt(state.position)     === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 1) === 0x2D/* - */ &&\n      state.input.charCodeAt(state.position + 2) === 0x2D/* - */) {\n    state.position += 3;\n    skipSeparationSpace(state, true, -1);\n\n  } else if (hasDirectives) {\n    throwError(state, 'directives end mark is expected');\n  }\n\n  composeNode(state, state.lineIndent - 1, CONTEXT_BLOCK_OUT, false, true);\n  skipSeparationSpace(state, true, -1);\n\n  if (state.checkLineBreaks &&\n      PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart, state.position))) {\n    throwWarning(state, 'non-ASCII line breaks are interpreted as content');\n  }\n\n  state.documents.push(state.result);\n\n  if (state.position === state.lineStart && testDocumentSeparator(state)) {\n\n    if (state.input.charCodeAt(state.position) === 0x2E/* . */) {\n      state.position += 3;\n      skipSeparationSpace(state, true, -1);\n    }\n    return;\n  }\n\n  if (state.position < (state.length - 1)) {\n    throwError(state, 'end of the stream or a document separator is expected');\n  } else {\n    return;\n  }\n}\n\n\nfunction loadDocuments(input, options) {\n  input = String(input);\n  options = options || {};\n\n  if (input.length !== 0) {\n\n    // Add tailing `\\n` if not exists\n    if (input.charCodeAt(input.length - 1) !== 0x0A/* LF */ &&\n        input.charCodeAt(input.length - 1) !== 0x0D/* CR */) {\n      input += '\\n';\n    }\n\n    // Strip BOM\n    if (input.charCodeAt(0) === 0xFEFF) {\n      input = input.slice(1);\n    }\n  }\n\n  var state = new State(input, options);\n\n  // Use 0 as string terminator. That significantly simplifies bounds check.\n  state.input += '\\0';\n\n  while (state.input.charCodeAt(state.position) === 0x20/* Space */) {\n    state.lineIndent += 1;\n    state.position += 1;\n  }\n\n  while (state.position < (state.length - 1)) {\n    readDocument(state);\n  }\n\n  return state.documents;\n}\n\n\nfunction loadAll(input, iterator, options) {\n  var documents = loadDocuments(input, options), index, length;\n\n  if (typeof iterator !== 'function') {\n    return documents;\n  }\n\n  for (index = 0, length = documents.length; index < length; index += 1) {\n    iterator(documents[index]);\n  }\n}\n\n\nfunction load(input, options) {\n  var documents = loadDocuments(input, options);\n\n  if (documents.length === 0) {\n    /*eslint-disable no-undefined*/\n    return undefined;\n  } else if (documents.length === 1) {\n    return documents[0];\n  }\n  throw new YAMLException('expected a single document in the stream, but found more');\n}\n\n\nfunction safeLoadAll(input, output, options) {\n  if (typeof output === 'function') {\n    loadAll(input, output, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n  } else {\n    return loadAll(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n  }\n}\n\n\nfunction safeLoad(input, options) {\n  return load(input, common.extend({ schema: DEFAULT_SAFE_SCHEMA }, options));\n}\n\n\nmodule.exports.loadAll     = loadAll;\nmodule.exports.load        = load;\nmodule.exports.safeLoadAll = safeLoadAll;\nmodule.exports.safeLoad    = safeLoad;\n\n},{\"./common\":2,\"./exception\":4,\"./mark\":6,\"./schema/default_full\":9,\"./schema/default_safe\":10}],6:[function(require,module,exports){\n'use strict';\n\n\nvar common = require('./common');\n\n\nfunction Mark(name, buffer, position, line, column) {\n  this.name     = name;\n  this.buffer   = buffer;\n  this.position = position;\n  this.line     = line;\n  this.column   = column;\n}\n\n\nMark.prototype.getSnippet = function getSnippet(indent, maxLength) {\n  var head, start, tail, end, snippet;\n\n  if (!this.buffer) return null;\n\n  indent = indent || 4;\n  maxLength = maxLength || 75;\n\n  head = '';\n  start = this.position;\n\n  while (start > 0 && '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(start - 1)) === -1) {\n    start -= 1;\n    if (this.position - start > (maxLength / 2 - 1)) {\n      head = ' ... ';\n      start += 5;\n      break;\n    }\n  }\n\n  tail = '';\n  end = this.position;\n\n  while (end < this.buffer.length && '\\x00\\r\\n\\x85\\u2028\\u2029'.indexOf(this.buffer.charAt(end)) === -1) {\n    end += 1;\n    if (end - this.position > (maxLength / 2 - 1)) {\n      tail = ' ... ';\n      end -= 5;\n      break;\n    }\n  }\n\n  snippet = this.buffer.slice(start, end);\n\n  return common.repeat(' ', indent) + head + snippet + tail + '\\n' +\n         common.repeat(' ', indent + this.position - start + head.length) + '^';\n};\n\n\nMark.prototype.toString = function toString(compact) {\n  var snippet, where = '';\n\n  if (this.name) {\n    where += 'in \"' + this.name + '\" ';\n  }\n\n  where += 'at line ' + (this.line + 1) + ', column ' + (this.column + 1);\n\n  if (!compact) {\n    snippet = this.getSnippet();\n\n    if (snippet) {\n      where += ':\\n' + snippet;\n    }\n  }\n\n  return where;\n};\n\n\nmodule.exports = Mark;\n\n},{\"./common\":2}],7:[function(require,module,exports){\n'use strict';\n\n/*eslint-disable max-len*/\n\nvar common        = require('./common');\nvar YAMLException = require('./exception');\nvar Type          = require('./type');\n\n\nfunction compileList(schema, name, result) {\n  var exclude = [];\n\n  schema.include.forEach(function (includedSchema) {\n    result = compileList(includedSchema, name, result);\n  });\n\n  schema[name].forEach(function (currentType) {\n    result.forEach(function (previousType, previousIndex) {\n      if (previousType.tag === currentType.tag && previousType.kind === currentType.kind) {\n        exclude.push(previousIndex);\n      }\n    });\n\n    result.push(currentType);\n  });\n\n  return result.filter(function (type, index) {\n    return exclude.indexOf(index) === -1;\n  });\n}\n\n\nfunction compileMap(/* lists... */) {\n  var result = {\n        scalar: {},\n        sequence: {},\n        mapping: {},\n        fallback: {}\n      }, index, length;\n\n  function collectType(type) {\n    result[type.kind][type.tag] = result['fallback'][type.tag] = type;\n  }\n\n  for (index = 0, length = arguments.length; index < length; index += 1) {\n    arguments[index].forEach(collectType);\n  }\n  return result;\n}\n\n\nfunction Schema(definition) {\n  this.include  = definition.include  || [];\n  this.implicit = definition.implicit || [];\n  this.explicit = definition.explicit || [];\n\n  this.implicit.forEach(function (type) {\n    if (type.loadKind && type.loadKind !== 'scalar') {\n      throw new YAMLException('There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.');\n    }\n  });\n\n  this.compiledImplicit = compileList(this, 'implicit', []);\n  this.compiledExplicit = compileList(this, 'explicit', []);\n  this.compiledTypeMap  = compileMap(this.compiledImplicit, this.compiledExplicit);\n}\n\n\nSchema.DEFAULT = null;\n\n\nSchema.create = function createSchema() {\n  var schemas, types;\n\n  switch (arguments.length) {\n    case 1:\n      schemas = Schema.DEFAULT;\n      types = arguments[0];\n      break;\n\n    case 2:\n      schemas = arguments[0];\n      types = arguments[1];\n      break;\n\n    default:\n      throw new YAMLException('Wrong number of arguments for Schema.create function');\n  }\n\n  schemas = common.toArray(schemas);\n  types = common.toArray(types);\n\n  if (!schemas.every(function (schema) { return schema instanceof Schema; })) {\n    throw new YAMLException('Specified list of super schemas (or a single Schema object) contains a non-Schema object.');\n  }\n\n  if (!types.every(function (type) { return type instanceof Type; })) {\n    throw new YAMLException('Specified list of YAML types (or a single Type object) contains a non-Type object.');\n  }\n\n  return new Schema({\n    include: schemas,\n    explicit: types\n  });\n};\n\n\nmodule.exports = Schema;\n\n},{\"./common\":2,\"./exception\":4,\"./type\":13}],8:[function(require,module,exports){\n// Standard YAML's Core schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2804923\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, Core schema has no distinctions from JSON schema is JS-YAML.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./json')\n  ]\n});\n\n},{\"../schema\":7,\"./json\":12}],9:[function(require,module,exports){\n// JS-YAML's default schema for `load` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on JS-YAML's default safe schema and includes\n// JavaScript-specific types: !!js/undefined, !!js/regexp and !!js/function.\n//\n// Also this schema is used as default base schema at `Schema.create` function.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = Schema.DEFAULT = new Schema({\n  include: [\n    require('./default_safe')\n  ],\n  explicit: [\n    require('../type/js/undefined'),\n    require('../type/js/regexp'),\n    require('../type/js/function')\n  ]\n});\n\n},{\"../schema\":7,\"../type/js/function\":18,\"../type/js/regexp\":19,\"../type/js/undefined\":20,\"./default_safe\":10}],10:[function(require,module,exports){\n// JS-YAML's default schema for `safeLoad` function.\n// It is not described in the YAML specification.\n//\n// This schema is based on standard YAML's Core schema and includes most of\n// extra types described at YAML tag repository. (http://yaml.org/type/)\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./core')\n  ],\n  implicit: [\n    require('../type/timestamp'),\n    require('../type/merge')\n  ],\n  explicit: [\n    require('../type/binary'),\n    require('../type/omap'),\n    require('../type/pairs'),\n    require('../type/set')\n  ]\n});\n\n},{\"../schema\":7,\"../type/binary\":14,\"../type/merge\":22,\"../type/omap\":24,\"../type/pairs\":25,\"../type/set\":27,\"../type/timestamp\":29,\"./core\":8}],11:[function(require,module,exports){\n// Standard YAML's Failsafe schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2802346\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  explicit: [\n    require('../type/str'),\n    require('../type/seq'),\n    require('../type/map')\n  ]\n});\n\n},{\"../schema\":7,\"../type/map\":21,\"../type/seq\":26,\"../type/str\":28}],12:[function(require,module,exports){\n// Standard YAML's JSON schema.\n// http://www.yaml.org/spec/1.2/spec.html#id2803231\n//\n// NOTE: JS-YAML does not support schema-specific tag resolution restrictions.\n// So, this schema is not such strict as defined in the YAML specification.\n// It allows numbers in binary notaion, use `Null` and `NULL` as `null`, etc.\n\n\n'use strict';\n\n\nvar Schema = require('../schema');\n\n\nmodule.exports = new Schema({\n  include: [\n    require('./failsafe')\n  ],\n  implicit: [\n    require('../type/null'),\n    require('../type/bool'),\n    require('../type/int'),\n    require('../type/float')\n  ]\n});\n\n},{\"../schema\":7,\"../type/bool\":15,\"../type/float\":16,\"../type/int\":17,\"../type/null\":23,\"./failsafe\":11}],13:[function(require,module,exports){\n'use strict';\n\nvar YAMLException = require('./exception');\n\nvar TYPE_CONSTRUCTOR_OPTIONS = [\n  'kind',\n  'resolve',\n  'construct',\n  'instanceOf',\n  'predicate',\n  'represent',\n  'defaultStyle',\n  'styleAliases'\n];\n\nvar YAML_NODE_KINDS = [\n  'scalar',\n  'sequence',\n  'mapping'\n];\n\nfunction compileStyleAliases(map) {\n  var result = {};\n\n  if (map !== null) {\n    Object.keys(map).forEach(function (style) {\n      map[style].forEach(function (alias) {\n        result[String(alias)] = style;\n      });\n    });\n  }\n\n  return result;\n}\n\nfunction Type(tag, options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function (name) {\n    if (TYPE_CONSTRUCTOR_OPTIONS.indexOf(name) === -1) {\n      throw new YAMLException('Unknown option \"' + name + '\" is met in definition of \"' + tag + '\" YAML type.');\n    }\n  });\n\n  // TODO: Add tag format check.\n  this.tag          = tag;\n  this.kind         = options['kind']         || null;\n  this.resolve      = options['resolve']      || function () { return true; };\n  this.construct    = options['construct']    || function (data) { return data; };\n  this.instanceOf   = options['instanceOf']   || null;\n  this.predicate    = options['predicate']    || null;\n  this.represent    = options['represent']    || null;\n  this.defaultStyle = options['defaultStyle'] || null;\n  this.styleAliases = compileStyleAliases(options['styleAliases'] || null);\n\n  if (YAML_NODE_KINDS.indexOf(this.kind) === -1) {\n    throw new YAMLException('Unknown kind \"' + this.kind + '\" is specified for \"' + tag + '\" YAML type.');\n  }\n}\n\nmodule.exports = Type;\n\n},{\"./exception\":4}],14:[function(require,module,exports){\n'use strict';\n\n/*eslint-disable no-bitwise*/\n\nvar NodeBuffer;\n\ntry {\n  // A trick for browserified version, to not include `Buffer` shim\n  var _require = require;\n  NodeBuffer = _require('buffer').Buffer;\n} catch (__) {}\n\nvar Type       = require('../type');\n\n\n// [ 64, 65, 66 ] -> [ padding, CR, LF ]\nvar BASE64_MAP = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\\n\\r';\n\n\nfunction resolveYamlBinary(data) {\n  if (data === null) return false;\n\n  var code, idx, bitlen = 0, max = data.length, map = BASE64_MAP;\n\n  // Convert one by one.\n  for (idx = 0; idx < max; idx++) {\n    code = map.indexOf(data.charAt(idx));\n\n    // Skip CR/LF\n    if (code > 64) continue;\n\n    // Fail on illegal characters\n    if (code < 0) return false;\n\n    bitlen += 6;\n  }\n\n  // If there are any bits left, source was corrupted\n  return (bitlen % 8) === 0;\n}\n\nfunction constructYamlBinary(data) {\n  var idx, tailbits,\n      input = data.replace(/[\\r\\n=]/g, ''), // remove CR/LF & padding to simplify scan\n      max = input.length,\n      map = BASE64_MAP,\n      bits = 0,\n      result = [];\n\n  // Collect by 6*4 bits (3 bytes)\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 4 === 0) && idx) {\n      result.push((bits >> 16) & 0xFF);\n      result.push((bits >> 8) & 0xFF);\n      result.push(bits & 0xFF);\n    }\n\n    bits = (bits << 6) | map.indexOf(input.charAt(idx));\n  }\n\n  // Dump tail\n\n  tailbits = (max % 4) * 6;\n\n  if (tailbits === 0) {\n    result.push((bits >> 16) & 0xFF);\n    result.push((bits >> 8) & 0xFF);\n    result.push(bits & 0xFF);\n  } else if (tailbits === 18) {\n    result.push((bits >> 10) & 0xFF);\n    result.push((bits >> 2) & 0xFF);\n  } else if (tailbits === 12) {\n    result.push((bits >> 4) & 0xFF);\n  }\n\n  // Wrap into Buffer for NodeJS and leave Array for browser\n  if (NodeBuffer) {\n    // Support node 6.+ Buffer API when available\n    return NodeBuffer.from ? NodeBuffer.from(result) : new NodeBuffer(result);\n  }\n\n  return result;\n}\n\nfunction representYamlBinary(object /*, style*/) {\n  var result = '', bits = 0, idx, tail,\n      max = object.length,\n      map = BASE64_MAP;\n\n  // Convert every three bytes to 4 ASCII characters.\n\n  for (idx = 0; idx < max; idx++) {\n    if ((idx % 3 === 0) && idx) {\n      result += map[(bits >> 18) & 0x3F];\n      result += map[(bits >> 12) & 0x3F];\n      result += map[(bits >> 6) & 0x3F];\n      result += map[bits & 0x3F];\n    }\n\n    bits = (bits << 8) + object[idx];\n  }\n\n  // Dump tail\n\n  tail = max % 3;\n\n  if (tail === 0) {\n    result += map[(bits >> 18) & 0x3F];\n    result += map[(bits >> 12) & 0x3F];\n    result += map[(bits >> 6) & 0x3F];\n    result += map[bits & 0x3F];\n  } else if (tail === 2) {\n    result += map[(bits >> 10) & 0x3F];\n    result += map[(bits >> 4) & 0x3F];\n    result += map[(bits << 2) & 0x3F];\n    result += map[64];\n  } else if (tail === 1) {\n    result += map[(bits >> 2) & 0x3F];\n    result += map[(bits << 4) & 0x3F];\n    result += map[64];\n    result += map[64];\n  }\n\n  return result;\n}\n\nfunction isBinary(object) {\n  return NodeBuffer && NodeBuffer.isBuffer(object);\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:binary', {\n  kind: 'scalar',\n  resolve: resolveYamlBinary,\n  construct: constructYamlBinary,\n  predicate: isBinary,\n  represent: representYamlBinary\n});\n\n},{\"../type\":13}],15:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlBoolean(data) {\n  if (data === null) return false;\n\n  var max = data.length;\n\n  return (max === 4 && (data === 'true' || data === 'True' || data === 'TRUE')) ||\n         (max === 5 && (data === 'false' || data === 'False' || data === 'FALSE'));\n}\n\nfunction constructYamlBoolean(data) {\n  return data === 'true' ||\n         data === 'True' ||\n         data === 'TRUE';\n}\n\nfunction isBoolean(object) {\n  return Object.prototype.toString.call(object) === '[object Boolean]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:bool', {\n  kind: 'scalar',\n  resolve: resolveYamlBoolean,\n  construct: constructYamlBoolean,\n  predicate: isBoolean,\n  represent: {\n    lowercase: function (object) { return object ? 'true' : 'false'; },\n    uppercase: function (object) { return object ? 'TRUE' : 'FALSE'; },\n    camelcase: function (object) { return object ? 'True' : 'False'; }\n  },\n  defaultStyle: 'lowercase'\n});\n\n},{\"../type\":13}],16:[function(require,module,exports){\n'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nvar YAML_FLOAT_PATTERN = new RegExp(\n  // 2.5e4, 2.5 and integers\n  '^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?' +\n  // .2e4, .2\n  // special case, seems not from spec\n  '|\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?' +\n  // 20:59\n  '|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*' +\n  // .inf\n  '|[-+]?\\\\.(?:inf|Inf|INF)' +\n  // .nan\n  '|\\\\.(?:nan|NaN|NAN))$');\n\nfunction resolveYamlFloat(data) {\n  if (data === null) return false;\n\n  if (!YAML_FLOAT_PATTERN.test(data) ||\n      // Quick hack to not allow integers end with `_`\n      // Probably should update regexp & check speed\n      data[data.length - 1] === '_') {\n    return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlFloat(data) {\n  var value, sign, base, digits;\n\n  value  = data.replace(/_/g, '').toLowerCase();\n  sign   = value[0] === '-' ? -1 : 1;\n  digits = [];\n\n  if ('+-'.indexOf(value[0]) >= 0) {\n    value = value.slice(1);\n  }\n\n  if (value === '.inf') {\n    return (sign === 1) ? Number.POSITIVE_INFINITY : Number.NEGATIVE_INFINITY;\n\n  } else if (value === '.nan') {\n    return NaN;\n\n  } else if (value.indexOf(':') >= 0) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseFloat(v, 10));\n    });\n\n    value = 0.0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += d * base;\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n  return sign * parseFloat(value, 10);\n}\n\n\nvar SCIENTIFIC_WITHOUT_DOT = /^[-+]?[0-9]+e/;\n\nfunction representYamlFloat(object, style) {\n  var res;\n\n  if (isNaN(object)) {\n    switch (style) {\n      case 'lowercase': return '.nan';\n      case 'uppercase': return '.NAN';\n      case 'camelcase': return '.NaN';\n    }\n  } else if (Number.POSITIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '.inf';\n      case 'uppercase': return '.INF';\n      case 'camelcase': return '.Inf';\n    }\n  } else if (Number.NEGATIVE_INFINITY === object) {\n    switch (style) {\n      case 'lowercase': return '-.inf';\n      case 'uppercase': return '-.INF';\n      case 'camelcase': return '-.Inf';\n    }\n  } else if (common.isNegativeZero(object)) {\n    return '-0.0';\n  }\n\n  res = object.toString(10);\n\n  // JS stringifier can build scientific format without dots: 5e-100,\n  // while YAML requres dot: 5.e-100. Fix it with simple hack\n\n  return SCIENTIFIC_WITHOUT_DOT.test(res) ? res.replace('e', '.e') : res;\n}\n\nfunction isFloat(object) {\n  return (Object.prototype.toString.call(object) === '[object Number]') &&\n         (object % 1 !== 0 || common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:float', {\n  kind: 'scalar',\n  resolve: resolveYamlFloat,\n  construct: constructYamlFloat,\n  predicate: isFloat,\n  represent: representYamlFloat,\n  defaultStyle: 'lowercase'\n});\n\n},{\"../common\":2,\"../type\":13}],17:[function(require,module,exports){\n'use strict';\n\nvar common = require('../common');\nvar Type   = require('../type');\n\nfunction isHexCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */)) ||\n         ((0x41/* A */ <= c) && (c <= 0x46/* F */)) ||\n         ((0x61/* a */ <= c) && (c <= 0x66/* f */));\n}\n\nfunction isOctCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x37/* 7 */));\n}\n\nfunction isDecCode(c) {\n  return ((0x30/* 0 */ <= c) && (c <= 0x39/* 9 */));\n}\n\nfunction resolveYamlInteger(data) {\n  if (data === null) return false;\n\n  var max = data.length,\n      index = 0,\n      hasDigits = false,\n      ch;\n\n  if (!max) return false;\n\n  ch = data[index];\n\n  // sign\n  if (ch === '-' || ch === '+') {\n    ch = data[++index];\n  }\n\n  if (ch === '0') {\n    // 0\n    if (index + 1 === max) return true;\n    ch = data[++index];\n\n    // base 2, base 8, base 16\n\n    if (ch === 'b') {\n      // base 2\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (ch !== '0' && ch !== '1') return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n\n    if (ch === 'x') {\n      // base 16\n      index++;\n\n      for (; index < max; index++) {\n        ch = data[index];\n        if (ch === '_') continue;\n        if (!isHexCode(data.charCodeAt(index))) return false;\n        hasDigits = true;\n      }\n      return hasDigits && ch !== '_';\n    }\n\n    // base 8\n    for (; index < max; index++) {\n      ch = data[index];\n      if (ch === '_') continue;\n      if (!isOctCode(data.charCodeAt(index))) return false;\n      hasDigits = true;\n    }\n    return hasDigits && ch !== '_';\n  }\n\n  // base 10 (except 0) or base 60\n\n  // value should not start with `_`;\n  if (ch === '_') return false;\n\n  for (; index < max; index++) {\n    ch = data[index];\n    if (ch === '_') continue;\n    if (ch === ':') break;\n    if (!isDecCode(data.charCodeAt(index))) {\n      return false;\n    }\n    hasDigits = true;\n  }\n\n  // Should have digits and should not end with `_`\n  if (!hasDigits || ch === '_') return false;\n\n  // if !base60 - done;\n  if (ch !== ':') return true;\n\n  // base60 almost not used, no needs to optimize\n  return /^(:[0-5]?[0-9])+$/.test(data.slice(index));\n}\n\nfunction constructYamlInteger(data) {\n  var value = data, sign = 1, ch, base, digits = [];\n\n  if (value.indexOf('_') !== -1) {\n    value = value.replace(/_/g, '');\n  }\n\n  ch = value[0];\n\n  if (ch === '-' || ch === '+') {\n    if (ch === '-') sign = -1;\n    value = value.slice(1);\n    ch = value[0];\n  }\n\n  if (value === '0') return 0;\n\n  if (ch === '0') {\n    if (value[1] === 'b') return sign * parseInt(value.slice(2), 2);\n    if (value[1] === 'x') return sign * parseInt(value, 16);\n    return sign * parseInt(value, 8);\n  }\n\n  if (value.indexOf(':') !== -1) {\n    value.split(':').forEach(function (v) {\n      digits.unshift(parseInt(v, 10));\n    });\n\n    value = 0;\n    base = 1;\n\n    digits.forEach(function (d) {\n      value += (d * base);\n      base *= 60;\n    });\n\n    return sign * value;\n\n  }\n\n  return sign * parseInt(value, 10);\n}\n\nfunction isInteger(object) {\n  return (Object.prototype.toString.call(object)) === '[object Number]' &&\n         (object % 1 === 0 && !common.isNegativeZero(object));\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:int', {\n  kind: 'scalar',\n  resolve: resolveYamlInteger,\n  construct: constructYamlInteger,\n  predicate: isInteger,\n  represent: {\n    binary:      function (obj) { return obj >= 0 ? '0b' + obj.toString(2) : '-0b' + obj.toString(2).slice(1); },\n    octal:       function (obj) { return obj >= 0 ? '0'  + obj.toString(8) : '-0'  + obj.toString(8).slice(1); },\n    decimal:     function (obj) { return obj.toString(10); },\n    /* eslint-disable max-len */\n    hexadecimal: function (obj) { return obj >= 0 ? '0x' + obj.toString(16).toUpperCase() :  '-0x' + obj.toString(16).toUpperCase().slice(1); }\n  },\n  defaultStyle: 'decimal',\n  styleAliases: {\n    binary:      [ 2,  'bin' ],\n    octal:       [ 8,  'oct' ],\n    decimal:     [ 10, 'dec' ],\n    hexadecimal: [ 16, 'hex' ]\n  }\n});\n\n},{\"../common\":2,\"../type\":13}],18:[function(require,module,exports){\n'use strict';\n\nvar esprima;\n\n// Browserified version does not have esprima\n//\n// 1. For node.js just require module as deps\n// 2. For browser try to require mudule via external AMD system.\n//    If not found - try to fallback to window.esprima. If not\n//    found too - then fail to parse.\n//\ntry {\n  // workaround to exclude package from browserify list.\n  var _require = require;\n  esprima = _require('esprima');\n} catch (_) {\n  /*global window */\n  if (typeof window !== 'undefined') esprima = window.esprima;\n}\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptFunction(data) {\n  if (data === null) return false;\n\n  try {\n    var source = '(' + data + ')',\n        ast    = esprima.parse(source, { range: true });\n\n    if (ast.type                    !== 'Program'             ||\n        ast.body.length             !== 1                     ||\n        ast.body[0].type            !== 'ExpressionStatement' ||\n        (ast.body[0].expression.type !== 'ArrowFunctionExpression' &&\n          ast.body[0].expression.type !== 'FunctionExpression')) {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\n\nfunction constructJavascriptFunction(data) {\n  /*jslint evil:true*/\n\n  var source = '(' + data + ')',\n      ast    = esprima.parse(source, { range: true }),\n      params = [],\n      body;\n\n  if (ast.type                    !== 'Program'             ||\n      ast.body.length             !== 1                     ||\n      ast.body[0].type            !== 'ExpressionStatement' ||\n      (ast.body[0].expression.type !== 'ArrowFunctionExpression' &&\n        ast.body[0].expression.type !== 'FunctionExpression')) {\n    throw new Error('Failed to resolve function');\n  }\n\n  ast.body[0].expression.params.forEach(function (param) {\n    params.push(param.name);\n  });\n\n  body = ast.body[0].expression.body.range;\n\n  // Esprima's ranges include the first '{' and the last '}' characters on\n  // function expressions. So cut them out.\n  if (ast.body[0].expression.body.type === 'BlockStatement') {\n    /*eslint-disable no-new-func*/\n    return new Function(params, source.slice(body[0] + 1, body[1] - 1));\n  }\n  // ES6 arrow functions can omit the BlockStatement. In that case, just return\n  // the body.\n  /*eslint-disable no-new-func*/\n  return new Function(params, 'return ' + source.slice(body[0], body[1]));\n}\n\nfunction representJavascriptFunction(object /*, style*/) {\n  return object.toString();\n}\n\nfunction isFunction(object) {\n  return Object.prototype.toString.call(object) === '[object Function]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/function', {\n  kind: 'scalar',\n  resolve: resolveJavascriptFunction,\n  construct: constructJavascriptFunction,\n  predicate: isFunction,\n  represent: representJavascriptFunction\n});\n\n},{\"../../type\":13}],19:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptRegExp(data) {\n  if (data === null) return false;\n  if (data.length === 0) return false;\n\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // if regexp starts with '/' it can have modifiers and must be properly closed\n  // `/foo/gim` - modifiers tail can be maximum 3 chars\n  if (regexp[0] === '/') {\n    if (tail) modifiers = tail[1];\n\n    if (modifiers.length > 3) return false;\n    // if expression starts with /, is should be properly terminated\n    if (regexp[regexp.length - modifiers.length - 1] !== '/') return false;\n  }\n\n  return true;\n}\n\nfunction constructJavascriptRegExp(data) {\n  var regexp = data,\n      tail   = /\\/([gim]*)$/.exec(data),\n      modifiers = '';\n\n  // `/foo/gim` - tail can be maximum 4 chars\n  if (regexp[0] === '/') {\n    if (tail) modifiers = tail[1];\n    regexp = regexp.slice(1, regexp.length - modifiers.length - 1);\n  }\n\n  return new RegExp(regexp, modifiers);\n}\n\nfunction representJavascriptRegExp(object /*, style*/) {\n  var result = '/' + object.source + '/';\n\n  if (object.global) result += 'g';\n  if (object.multiline) result += 'm';\n  if (object.ignoreCase) result += 'i';\n\n  return result;\n}\n\nfunction isRegExp(object) {\n  return Object.prototype.toString.call(object) === '[object RegExp]';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/regexp', {\n  kind: 'scalar',\n  resolve: resolveJavascriptRegExp,\n  construct: constructJavascriptRegExp,\n  predicate: isRegExp,\n  represent: representJavascriptRegExp\n});\n\n},{\"../../type\":13}],20:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../../type');\n\nfunction resolveJavascriptUndefined() {\n  return true;\n}\n\nfunction constructJavascriptUndefined() {\n  /*eslint-disable no-undefined*/\n  return undefined;\n}\n\nfunction representJavascriptUndefined() {\n  return '';\n}\n\nfunction isUndefined(object) {\n  return typeof object === 'undefined';\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:js/undefined', {\n  kind: 'scalar',\n  resolve: resolveJavascriptUndefined,\n  construct: constructJavascriptUndefined,\n  predicate: isUndefined,\n  represent: representJavascriptUndefined\n});\n\n},{\"../../type\":13}],21:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:map', {\n  kind: 'mapping',\n  construct: function (data) { return data !== null ? data : {}; }\n});\n\n},{\"../type\":13}],22:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlMerge(data) {\n  return data === '<<' || data === null;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:merge', {\n  kind: 'scalar',\n  resolve: resolveYamlMerge\n});\n\n},{\"../type\":13}],23:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nfunction resolveYamlNull(data) {\n  if (data === null) return true;\n\n  var max = data.length;\n\n  return (max === 1 && data === '~') ||\n         (max === 4 && (data === 'null' || data === 'Null' || data === 'NULL'));\n}\n\nfunction constructYamlNull() {\n  return null;\n}\n\nfunction isNull(object) {\n  return object === null;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:null', {\n  kind: 'scalar',\n  resolve: resolveYamlNull,\n  construct: constructYamlNull,\n  predicate: isNull,\n  represent: {\n    canonical: function () { return '~';    },\n    lowercase: function () { return 'null'; },\n    uppercase: function () { return 'NULL'; },\n    camelcase: function () { return 'Null'; }\n  },\n  defaultStyle: 'lowercase'\n});\n\n},{\"../type\":13}],24:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\nvar _toString       = Object.prototype.toString;\n\nfunction resolveYamlOmap(data) {\n  if (data === null) return true;\n\n  var objectKeys = [], index, length, pair, pairKey, pairHasKey,\n      object = data;\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n    pairHasKey = false;\n\n    if (_toString.call(pair) !== '[object Object]') return false;\n\n    for (pairKey in pair) {\n      if (_hasOwnProperty.call(pair, pairKey)) {\n        if (!pairHasKey) pairHasKey = true;\n        else return false;\n      }\n    }\n\n    if (!pairHasKey) return false;\n\n    if (objectKeys.indexOf(pairKey) === -1) objectKeys.push(pairKey);\n    else return false;\n  }\n\n  return true;\n}\n\nfunction constructYamlOmap(data) {\n  return data !== null ? data : [];\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:omap', {\n  kind: 'sequence',\n  resolve: resolveYamlOmap,\n  construct: constructYamlOmap\n});\n\n},{\"../type\":13}],25:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nvar _toString = Object.prototype.toString;\n\nfunction resolveYamlPairs(data) {\n  if (data === null) return true;\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    if (_toString.call(pair) !== '[object Object]') return false;\n\n    keys = Object.keys(pair);\n\n    if (keys.length !== 1) return false;\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return true;\n}\n\nfunction constructYamlPairs(data) {\n  if (data === null) return [];\n\n  var index, length, pair, keys, result,\n      object = data;\n\n  result = new Array(object.length);\n\n  for (index = 0, length = object.length; index < length; index += 1) {\n    pair = object[index];\n\n    keys = Object.keys(pair);\n\n    result[index] = [ keys[0], pair[keys[0]] ];\n  }\n\n  return result;\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:pairs', {\n  kind: 'sequence',\n  resolve: resolveYamlPairs,\n  construct: constructYamlPairs\n});\n\n},{\"../type\":13}],26:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:seq', {\n  kind: 'sequence',\n  construct: function (data) { return data !== null ? data : []; }\n});\n\n},{\"../type\":13}],27:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction resolveYamlSet(data) {\n  if (data === null) return true;\n\n  var key, object = data;\n\n  for (key in object) {\n    if (_hasOwnProperty.call(object, key)) {\n      if (object[key] !== null) return false;\n    }\n  }\n\n  return true;\n}\n\nfunction constructYamlSet(data) {\n  return data !== null ? data : {};\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:set', {\n  kind: 'mapping',\n  resolve: resolveYamlSet,\n  construct: constructYamlSet\n});\n\n},{\"../type\":13}],28:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nmodule.exports = new Type('tag:yaml.org,2002:str', {\n  kind: 'scalar',\n  construct: function (data) { return data !== null ? data : ''; }\n});\n\n},{\"../type\":13}],29:[function(require,module,exports){\n'use strict';\n\nvar Type = require('../type');\n\nvar YAML_DATE_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9])'                    + // [2] month\n  '-([0-9][0-9])$');                   // [3] day\n\nvar YAML_TIMESTAMP_REGEXP = new RegExp(\n  '^([0-9][0-9][0-9][0-9])'          + // [1] year\n  '-([0-9][0-9]?)'                   + // [2] month\n  '-([0-9][0-9]?)'                   + // [3] day\n  '(?:[Tt]|[ \\\\t]+)'                 + // ...\n  '([0-9][0-9]?)'                    + // [4] hour\n  ':([0-9][0-9])'                    + // [5] minute\n  ':([0-9][0-9])'                    + // [6] second\n  '(?:\\\\.([0-9]*))?'                 + // [7] fraction\n  '(?:[ \\\\t]*(Z|([-+])([0-9][0-9]?)' + // [8] tz [9] tz_sign [10] tz_hour\n  '(?::([0-9][0-9]))?))?$');           // [11] tz_minute\n\nfunction resolveYamlTimestamp(data) {\n  if (data === null) return false;\n  if (YAML_DATE_REGEXP.exec(data) !== null) return true;\n  if (YAML_TIMESTAMP_REGEXP.exec(data) !== null) return true;\n  return false;\n}\n\nfunction constructYamlTimestamp(data) {\n  var match, year, month, day, hour, minute, second, fraction = 0,\n      delta = null, tz_hour, tz_minute, date;\n\n  match = YAML_DATE_REGEXP.exec(data);\n  if (match === null) match = YAML_TIMESTAMP_REGEXP.exec(data);\n\n  if (match === null) throw new Error('Date resolve error');\n\n  // match: [1] year [2] month [3] day\n\n  year = +(match[1]);\n  month = +(match[2]) - 1; // JS month starts with 0\n  day = +(match[3]);\n\n  if (!match[4]) { // no hour\n    return new Date(Date.UTC(year, month, day));\n  }\n\n  // match: [4] hour [5] minute [6] second [7] fraction\n\n  hour = +(match[4]);\n  minute = +(match[5]);\n  second = +(match[6]);\n\n  if (match[7]) {\n    fraction = match[7].slice(0, 3);\n    while (fraction.length < 3) { // milli-seconds\n      fraction += '0';\n    }\n    fraction = +fraction;\n  }\n\n  // match: [8] tz [9] tz_sign [10] tz_hour [11] tz_minute\n\n  if (match[9]) {\n    tz_hour = +(match[10]);\n    tz_minute = +(match[11] || 0);\n    delta = (tz_hour * 60 + tz_minute) * 60000; // delta in mili-seconds\n    if (match[9] === '-') delta = -delta;\n  }\n\n  date = new Date(Date.UTC(year, month, day, hour, minute, second, fraction));\n\n  if (delta) date.setTime(date.getTime() - delta);\n\n  return date;\n}\n\nfunction representYamlTimestamp(object /*, style*/) {\n  return object.toISOString();\n}\n\nmodule.exports = new Type('tag:yaml.org,2002:timestamp', {\n  kind: 'scalar',\n  resolve: resolveYamlTimestamp,\n  construct: constructYamlTimestamp,\n  instanceOf: Date,\n  represent: representYamlTimestamp\n});\n\n},{\"../type\":13}],\"/\":[function(require,module,exports){\n'use strict';\n\n\nvar yaml = require('./lib/js-yaml.js');\n\n\nmodule.exports = yaml;\n\n},{\"./lib/js-yaml.js\":1}]},{},[])(\"/\")\n});\n","'use strict';\n\nconst parser = require('../dist/snapdown-parser');\n\nconst identify = function() {\n  let counter = 0;\n  return function identify(e) {\n    return e.id || (e.id = ++counter)\n  };\n}();\n\nfunction transform(spec) {\n  return {\n    heap: transformHeap(spec.heap),\n  };\n}\n\nfunction transformHeap(roots) {\n  let flat = flattenAll(roots, []);\n  return flat;\n}\n\nfunction flattenAll(arr, ancestors) {\n  return arr.reduce((flat, e) => flat.concat(flatten(e, [ ...arr, ...ancestors ])), []);\n}\n\nfunction flatten(e, ancestors) {\n  // pointer: lookup reference or flatten inline target\n  if (e.name) {\n    if (e.target.ref) {\n      return [ Object.assign({}, e, { target: { to: lookupRef(e.target.ref, ancestors) } }) ];\n    }\n    return [ Object.assign({}, e, { target: { to: identify(e.target) } }), ...flatten(e.target, ancestors) ];\n  }\n  \n  // object: flatten fields\n  if (e.object) {\n    let fields = flattenAll(e.fields.map(f => {\n      // create blank pointers for non-pointer, non-primitive fields\n      if ( ! f.name && (f.object || f.array)) { return { name: {}, target: f }; }\n      if (f.val && !(f.object || f.array)) { return Object.assign({}, f, { inside: true }); }\n      return f;\n    }), ancestors);\n    return [ Object.assign({}, e, { fields: fields.filter(f => f.name || f.inside) }), ...fields.filter(f => ! f.name && !f.inside) ];\n  }\n  \n  // array: TODO DUPLICATED object.fields -> array.array\n  if (e.array) {\n    let fields = flattenAll(e.array.map(f => {\n      // create blank pointers for non-pointer fields\n      if ( ! f.name) { return { name: {}, target: f }; }\n      return f;\n    }), ancestors);\n    return [ Object.assign({}, e, { array: fields.filter(f => f.name) }), ...fields.filter(f => ! f.name) ];\n  }\n  \n  // primitive\n  if (e.val !== undefined) { return [ e ]; }\n  \n  throw new Error(`Snapdown cannot flatten: ${Object.keys(e)}`);\n}\n\nfunction lookupRef(ref, ancestors) {\n  let defn = ancestors.find(a => a.name && a.name.ref === ref);\n  if ( ! defn) {\n    let fieldsFound = false;\n    for (var elt of ancestors) {\n      if (elt.target && elt.target.fields) {\n        defn = elt.target.fields.find(a => a.name && a.name.ref === ref);\n        if (defn) {\n          fieldsFound = true;\n          break;\n        }\n      }\n    }\n    if ( ! fieldsFound) {\n      throw new Error(`Snapdown cannot lookup: ${ref}`);\n    }\n  }\n  if (defn.target.ref) { return lookupRef(defn.target.ref, ancestors); }\n  return identify(defn.target);\n}\n\nfunction parse(text) {\n  try {\n    return parser.parse(text);\n  } catch (e) {\n    if (e.location) {\n      e.message += ` (line ${e.location.start.line} col ${e.location.start.column})`;\n    }\n    e.input = text;\n    throw e;\n  }\n}\n\nmodule.exports = { parse, transform };\n","/*\n * Generated by PEG.js 0.10.0.\n *\n * http://pegjs.org/\n */\n\n\"use strict\";\n\nfunction peg$subclass(child, parent) {\n  function ctor() { this.constructor = child; }\n  ctor.prototype = parent.prototype;\n  child.prototype = new ctor();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message  = message;\n  this.expected = expected;\n  this.found    = found;\n  this.location = location;\n  this.name     = \"SyntaxError\";\n\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n        literal: function(expectation) {\n          return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n        },\n\n        \"class\": function(expectation) {\n          var escapedParts = \"\",\n              i;\n\n          for (i = 0; i < expectation.parts.length; i++) {\n            escapedParts += expectation.parts[i] instanceof Array\n              ? classEscape(expectation.parts[i][0]) + \"-\" + classEscape(expectation.parts[i][1])\n              : classEscape(expectation.parts[i]);\n          }\n\n          return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n        },\n\n        any: function(expectation) {\n          return \"any character\";\n        },\n\n        end: function(expectation) {\n          return \"end of input\";\n        },\n\n        other: function(expectation) {\n          return expectation.description;\n        }\n      };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\"/g,  '\\\\\"')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, '\\\\\\\\')\n      .replace(/\\]/g, '\\\\]')\n      .replace(/\\^/g, '\\\\^')\n      .replace(/-/g,  '\\\\-')\n      .replace(/\\0/g, '\\\\0')\n      .replace(/\\t/g, '\\\\t')\n      .replace(/\\n/g, '\\\\n')\n      .replace(/\\r/g, '\\\\r')\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return '\\\\x0' + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return '\\\\x'  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = new Array(expected.length),\n        i, j;\n\n    for (i = 0; i < expected.length; i++) {\n      descriptions[i] = describeExpectation(expected[i]);\n    }\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== void 0 ? options : {};\n\n  var peg$FAILED = {},\n\n      peg$startRuleFunctions = { diagram: peg$parsediagram },\n      peg$startRuleFunction  = peg$parsediagram,\n\n      peg$c0 = function(heap) { return { heap } },\n      peg$c1 = function(it) { return it },\n      peg$c2 = function(vals) { return vals },\n      peg$c3 = function(name, arrow, target) { return merge({ name, target }, arrow) },\n      peg$c4 = \"-\",\n      peg$c5 = peg$literalExpectation(\"-\", false),\n      peg$c6 = \">\",\n      peg$c7 = peg$literalExpectation(\">\", false),\n      peg$c8 = function() { return {} },\n      peg$c9 = \"=\",\n      peg$c10 = peg$literalExpectation(\"=\", false),\n      peg$c11 = function() { return { immutable: true } },\n      peg$c12 = \"(\",\n      peg$c13 = peg$literalExpectation(\"(\", false),\n      peg$c14 = \")\",\n      peg$c15 = peg$literalExpectation(\")\", false),\n      peg$c16 = function(internals) { return internals },\n      peg$c17 = \"((\",\n      peg$c18 = peg$literalExpectation(\"((\", false),\n      peg$c19 = \"))\",\n      peg$c20 = peg$literalExpectation(\"))\", false),\n      peg$c21 = function(internals) { return merge({ immutable: true }, internals) },\n      peg$c22 = function(object, fields) { return { object, fields } },\n      peg$c23 = function(fields) { return fields || [] },\n      peg$c24 = function(first, it) { return it },\n      peg$c25 = function(first, rest) { return [ first, ...rest ] },\n      peg$c26 = \"[\",\n      peg$c27 = peg$literalExpectation(\"[\", false),\n      peg$c28 = \"]\",\n      peg$c29 = peg$literalExpectation(\"]\", false),\n      peg$c30 = function(array) { return { array } },\n      peg$c31 = \"\\\"\",\n      peg$c32 = peg$literalExpectation(\"\\\"\", false),\n      peg$c33 = /^[^\"]/,\n      peg$c34 = peg$classExpectation([\"\\\"\"], true, false),\n      peg$c35 = function() { return { val: text() } },\n      peg$c36 = function(val) { return { val } },\n      peg$c37 = /^[0-9]/,\n      peg$c38 = peg$classExpectation([[\"0\", \"9\"]], false, false),\n      peg$c39 = \".\",\n      peg$c40 = peg$literalExpectation(\".\", false),\n      peg$c41 = function() { return parseFloat(text()) },\n      peg$c42 = function() { return parseInt(text()) },\n      peg$c43 = \"true\",\n      peg$c44 = peg$literalExpectation(\"true\", false),\n      peg$c45 = function() { return true },\n      peg$c46 = \"false\",\n      peg$c47 = peg$literalExpectation(\"false\", false),\n      peg$c48 = function() { return false },\n      peg$c49 = \"'\",\n      peg$c50 = peg$literalExpectation(\"'\", false),\n      peg$c51 = peg$anyExpectation(),\n      peg$c52 = function() { return text() },\n      peg$c53 = \"null\",\n      peg$c54 = peg$literalExpectation(\"null\", false),\n      peg$c55 = function() { return null },\n      peg$c56 = \"_\",\n      peg$c57 = peg$literalExpectation(\"_\", false),\n      peg$c58 = \"#\",\n      peg$c59 = peg$literalExpectation(\"#\", false),\n      peg$c60 = function() { return { ref: text() } },\n      peg$c61 = /^[a-z0-9~$%_+.\\/?]/i,\n      peg$c62 = peg$classExpectation([[\"a\", \"z\"], [\"0\", \"9\"], \"~\", \"$\", \"%\", \"_\", \"+\", \".\", \"/\", \"?\"], false, true),\n      peg$c63 = \"<\",\n      peg$c64 = peg$literalExpectation(\"<\", false),\n      peg$c65 = \",\",\n      peg$c66 = peg$literalExpectation(\",\", false),\n      peg$c67 = \"//\",\n      peg$c68 = peg$literalExpectation(\"//\", false),\n      peg$c69 = /^[^\\n\\r]/,\n      peg$c70 = peg$classExpectation([\"\\n\", \"\\r\"], true, false),\n      peg$c71 = /^[ \\t]/,\n      peg$c72 = peg$classExpectation([\" \", \"\\t\"], false, false),\n      peg$c73 = /^[\\n\\r]/,\n      peg$c74 = peg$classExpectation([\"\\n\", \"\\r\"], false, false),\n\n      peg$currPos          = 0,\n      peg$savedPos         = 0,\n      peg$posDetailsCache  = [{ line: 1, column: 1 }],\n      peg$maxFailPos       = 0,\n      peg$maxFailExpected  = [],\n      peg$silentFails      = 0,\n\n      peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== void 0 ? location : peg$computeLocation(peg$savedPos, peg$currPos)\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos], p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line:   details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos) {\n    var startPosDetails = peg$computePosDetails(startPos),\n        endPosDetails   = peg$computePosDetails(endPos);\n\n    return {\n      start: {\n        offset: startPos,\n        line:   startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line:   endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsediagram() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parseheap();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parse$();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parse$();\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c0(s1);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseheap() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$currPos;\n    s3 = [];\n    s4 = peg$parse$();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parse$();\n    }\n    if (s3 !== peg$FAILED) {\n      s4 = peg$parsepointer();\n      if (s4 === peg$FAILED) {\n        s4 = peg$parsevalue();\n      }\n      if (s4 !== peg$FAILED) {\n        peg$savedPos = s2;\n        s3 = peg$c1(s4);\n        s2 = s3;\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s2;\n      s2 = peg$FAILED;\n    }\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$currPos;\n      s3 = [];\n      s4 = peg$parse$();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parse$();\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = peg$parsepointer();\n        if (s4 === peg$FAILED) {\n          s4 = peg$parsevalue();\n        }\n        if (s4 !== peg$FAILED) {\n          peg$savedPos = s2;\n          s3 = peg$c1(s4);\n          s2 = s3;\n        } else {\n          peg$currPos = s2;\n          s2 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s2;\n        s2 = peg$FAILED;\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c2(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsepointer() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parselhs();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsearrow();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 === peg$FAILED) {\n            s4 = null;\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parserhs();\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c3(s1, s3, s5);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parselhs() {\n    var s0;\n\n    s0 = peg$parseblank();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseref();\n    }\n\n    return s0;\n  }\n\n  function peg$parsearrow() {\n    var s0;\n\n    s0 = peg$parsereassignable();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsefinal();\n    }\n\n    return s0;\n  }\n\n  function peg$parsereassignable() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    if (input.charCodeAt(peg$currPos) === 45) {\n      s2 = peg$c4;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c5); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (input.charCodeAt(peg$currPos) === 45) {\n          s2 = peg$c4;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c5); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 62) {\n        s2 = peg$c6;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c7); }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c8();\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsefinal() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = [];\n    if (input.charCodeAt(peg$currPos) === 61) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c10); }\n    }\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        if (input.charCodeAt(peg$currPos) === 61) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c10); }\n        }\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 62) {\n        s2 = peg$c6;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c7); }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c11();\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserhs() {\n    var s0;\n\n    s0 = peg$parsevalue();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseref();\n    }\n\n    return s0;\n  }\n\n  function peg$parsevalue() {\n    var s0;\n\n    s0 = peg$parseobject();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsearray();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsestring();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parseprimitive();\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parseobject() {\n    var s0;\n\n    s0 = peg$parsemutable();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parseimmutable();\n    }\n\n    return s0;\n  }\n\n  function peg$parsemutable() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 40) {\n      s1 = peg$c12;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c13); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseinternals();\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 41) {\n          s3 = peg$c14;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c15); }\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c16(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseimmutable() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 2) === peg$c17) {\n      s1 = peg$c17;\n      peg$currPos += 2;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c18); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseinternals();\n      if (s2 !== peg$FAILED) {\n        if (input.substr(peg$currPos, 2) === peg$c19) {\n          s3 = peg$c19;\n          peg$currPos += 2;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c20); }\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c21(s2);\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseinternals() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parse$();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parse$();\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsetype();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$parse$();\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$parse$();\n          }\n          if (s4 !== peg$FAILED) {\n            s5 = peg$parse_();\n            if (s5 !== peg$FAILED) {\n              s6 = peg$parsefields();\n              if (s6 !== peg$FAILED) {\n                s7 = peg$parse_();\n                if (s7 !== peg$FAILED) {\n                  s8 = [];\n                  s9 = peg$parse$();\n                  while (s9 !== peg$FAILED) {\n                    s8.push(s9);\n                    s9 = peg$parse$();\n                  }\n                  if (s8 !== peg$FAILED) {\n                    peg$savedPos = s0;\n                    s1 = peg$c22(s2, s6);\n                    s0 = s1;\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsefields() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsepointers();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parsevalues();\n    }\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c23(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsepointers() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsepointer();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma();\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsepointer();\n        if (s5 !== peg$FAILED) {\n          peg$savedPos = s3;\n          s4 = peg$c24(s1, s5);\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma();\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsepointer();\n          if (s5 !== peg$FAILED) {\n            peg$savedPos = s3;\n            s4 = peg$c24(s1, s5);\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c25(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsevalues() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parsevalue();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma();\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parsevalue();\n        if (s5 !== peg$FAILED) {\n          peg$savedPos = s3;\n          s4 = peg$c24(s1, s5);\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma();\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parsevalue();\n          if (s5 !== peg$FAILED) {\n            peg$savedPos = s3;\n            s4 = peg$c24(s1, s5);\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c25(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsearray() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 91) {\n      s1 = peg$c26;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c27); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parse_();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parseelements();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parse_();\n          if (s4 !== peg$FAILED) {\n            if (input.charCodeAt(peg$currPos) === 93) {\n              s5 = peg$c28;\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c29); }\n            }\n            if (s5 !== peg$FAILED) {\n              peg$savedPos = s0;\n              s1 = peg$c30(s3);\n              s0 = s1;\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseelements() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parserhs();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$currPos;\n      s4 = peg$parsecomma();\n      if (s4 !== peg$FAILED) {\n        s5 = peg$parserhs();\n        if (s5 !== peg$FAILED) {\n          peg$savedPos = s3;\n          s4 = peg$c24(s1, s5);\n          s3 = s4;\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s3;\n        s3 = peg$FAILED;\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$currPos;\n        s4 = peg$parsecomma();\n        if (s4 !== peg$FAILED) {\n          s5 = peg$parserhs();\n          if (s5 !== peg$FAILED) {\n            peg$savedPos = s3;\n            s4 = peg$c24(s1, s5);\n            s3 = s4;\n          } else {\n            peg$currPos = s3;\n            s3 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s3;\n          s3 = peg$FAILED;\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c25(s1, s2);\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsestring() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 34) {\n      s1 = peg$c31;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c32); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      if (peg$c33.test(input.charAt(peg$currPos))) {\n        s3 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c34); }\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        if (peg$c33.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c34); }\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 34) {\n          s3 = peg$c31;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c32); }\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c35();\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseprimitive() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsefloat();\n    if (s1 === peg$FAILED) {\n      s1 = peg$parseinteger();\n      if (s1 === peg$FAILED) {\n        s1 = peg$parseboolean();\n        if (s1 === peg$FAILED) {\n          s1 = peg$parsechar();\n          if (s1 === peg$FAILED) {\n            s1 = peg$parsenull();\n          }\n        }\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c36(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloat() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = [];\n    if (peg$c37.test(input.charAt(peg$currPos))) {\n      s3 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s3 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c38); }\n    }\n    while (s3 !== peg$FAILED) {\n      s2.push(s3);\n      if (peg$c37.test(input.charAt(peg$currPos))) {\n        s3 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c38); }\n      }\n    }\n    if (s2 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 46) {\n        s3 = peg$c39;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c40); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        if (peg$c37.test(input.charAt(peg$currPos))) {\n          s5 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c38); }\n        }\n        if (s5 !== peg$FAILED) {\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            if (peg$c37.test(input.charAt(peg$currPos))) {\n              s5 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c38); }\n            }\n          }\n        } else {\n          s4 = peg$FAILED;\n        }\n        if (s4 !== peg$FAILED) {\n          s2 = [s2, s3, s4];\n          s1 = s2;\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 === peg$FAILED) {\n      s1 = peg$currPos;\n      s2 = [];\n      if (peg$c37.test(input.charAt(peg$currPos))) {\n        s3 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c38); }\n      }\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          if (peg$c37.test(input.charAt(peg$currPos))) {\n            s3 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c38); }\n          }\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s3 = peg$c39;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c40); }\n        }\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          if (peg$c37.test(input.charAt(peg$currPos))) {\n            s5 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c38); }\n          }\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            if (peg$c37.test(input.charAt(peg$currPos))) {\n              s5 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s5 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c38); }\n            }\n          }\n          if (s4 !== peg$FAILED) {\n            s2 = [s2, s3, s4];\n            s1 = s2;\n          } else {\n            peg$currPos = s1;\n            s1 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s1;\n          s1 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c41();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseinteger() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 45) {\n      s1 = peg$c4;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c5); }\n    }\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      if (peg$c37.test(input.charAt(peg$currPos))) {\n        s3 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c38); }\n      }\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          if (peg$c37.test(input.charAt(peg$currPos))) {\n            s3 = input.charAt(peg$currPos);\n            peg$currPos++;\n          } else {\n            s3 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c38); }\n          }\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c42();\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseboolean() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c43) {\n      s1 = peg$c43;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c44); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c45();\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      if (input.substr(peg$currPos, 5) === peg$c46) {\n        s1 = peg$c46;\n        peg$currPos += 5;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c47); }\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c48();\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsechar() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 39) {\n      s1 = peg$c49;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c50); }\n    }\n    if (s1 !== peg$FAILED) {\n      if (input.length > peg$currPos) {\n        s2 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c51); }\n      }\n      if (s2 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 39) {\n          s3 = peg$c49;\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c50); }\n        }\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s1 = peg$c52();\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenull() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 4) === peg$c53) {\n      s1 = peg$c53;\n      peg$currPos += 4;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c54); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c55();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseblank() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 95) {\n      s1 = peg$c56;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c57); }\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$c8();\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parseref() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 35) {\n      s1 = peg$c58;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c59); }\n    }\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsename();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c60();\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsename() {\n    var s0, s1;\n\n    s0 = [];\n    if (peg$c61.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c62); }\n    }\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        if (peg$c61.test(input.charAt(peg$currPos))) {\n          s1 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s1 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c62); }\n        }\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetype() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsename();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsetype_params();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$c52();\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetype_params() {\n    var s0, s1, s2, s3, s4, s5, s6;\n\n    s0 = peg$currPos;\n    if (input.charCodeAt(peg$currPos) === 60) {\n      s1 = peg$c63;\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c64); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsetype();\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        s4 = peg$currPos;\n        if (input.charCodeAt(peg$currPos) === 44) {\n          s5 = peg$c65;\n          peg$currPos++;\n        } else {\n          s5 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c66); }\n        }\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsetype();\n          if (s6 !== peg$FAILED) {\n            s5 = [s5, s6];\n            s4 = s5;\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s4;\n          s4 = peg$FAILED;\n        }\n        while (s4 !== peg$FAILED) {\n          s3.push(s4);\n          s4 = peg$currPos;\n          if (input.charCodeAt(peg$currPos) === 44) {\n            s5 = peg$c65;\n            peg$currPos++;\n          } else {\n            s5 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c66); }\n          }\n          if (s5 !== peg$FAILED) {\n            s6 = peg$parsetype();\n            if (s6 !== peg$FAILED) {\n              s5 = [s5, s6];\n              s4 = s5;\n            } else {\n              peg$currPos = s4;\n              s4 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s4;\n            s4 = peg$FAILED;\n          }\n        }\n        if (s3 !== peg$FAILED) {\n          if (input.charCodeAt(peg$currPos) === 62) {\n            s4 = peg$c6;\n            peg$currPos++;\n          } else {\n            s4 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$c7); }\n          }\n          if (s4 !== peg$FAILED) {\n            s1 = [s1, s2, s3, s4];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomment() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 2) === peg$c67) {\n      s1 = peg$c67;\n      peg$currPos += 2;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c68); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      if (peg$c69.test(input.charAt(peg$currPos))) {\n        s3 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c70); }\n      }\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        if (peg$c69.test(input.charAt(peg$currPos))) {\n          s3 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s3 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c70); }\n        }\n      }\n      if (s2 !== peg$FAILED) {\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parse_() {\n    var s0, s1;\n\n    s0 = [];\n    if (peg$c71.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$c72); }\n    }\n    while (s1 !== peg$FAILED) {\n      s0.push(s1);\n      if (peg$c71.test(input.charAt(peg$currPos))) {\n        s1 = input.charAt(peg$currPos);\n        peg$currPos++;\n      } else {\n        s1 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c72); }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parse$() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomment();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = [];\n        if (peg$c73.test(input.charAt(peg$currPos))) {\n          s4 = input.charAt(peg$currPos);\n          peg$currPos++;\n        } else {\n          s4 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$c74); }\n        }\n        if (s4 !== peg$FAILED) {\n          while (s4 !== peg$FAILED) {\n            s3.push(s4);\n            if (peg$c73.test(input.charAt(peg$currPos))) {\n              s4 = input.charAt(peg$currPos);\n              peg$currPos++;\n            } else {\n              s4 = peg$FAILED;\n              if (peg$silentFails === 0) { peg$fail(peg$c74); }\n            }\n          }\n        } else {\n          s3 = peg$FAILED;\n        }\n        if (s3 !== peg$FAILED) {\n          s1 = [s1, s2, s3];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0, s1, s2, s3, s4, s5;\n\n    s0 = peg$currPos;\n    s1 = peg$parse_();\n    if (s1 !== peg$FAILED) {\n      if (input.charCodeAt(peg$currPos) === 44) {\n        s2 = peg$c65;\n        peg$currPos++;\n      } else {\n        s2 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$c66); }\n      }\n      if (s2 === peg$FAILED) {\n        s2 = peg$parse$();\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parse_();\n        if (s3 !== peg$FAILED) {\n          s4 = [];\n          s5 = peg$parse$();\n          while (s5 !== peg$FAILED) {\n            s4.push(s5);\n            s5 = peg$parse$();\n          }\n          if (s4 !== peg$FAILED) {\n            s1 = [s1, s2, s3, s4];\n            s0 = s1;\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n\n    function merge() { return Object.assign({}, ...arguments); }\n\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nmodule.exports = {\n  SyntaxError: peg$SyntaxError,\n  parse:       peg$parse\n};\n","'use strict';\n\nfunction createSVG(tag, classes) {\n  let elt = document.createElementNS('http://www.w3.org/2000/svg', tag);\n  if (classes) { elt.classList.add(classes); }\n  return elt;\n}\n\nfunction createSVGRoot() {\n  let root = createSVG('svg');\n  root.insertAdjacentHTML('afterbegin', `\n    <defs>\n      <marker id=\"snap-arrowhead\" markerWidth=\"10\" markerHeight=\"8\" refX=\"8\" refY=\"4\" orient=\"auto\">\n        <path d=\"M0,8 L8,4 L0,0\"/>\n      </marker>\n      <filter id=\"snap-double\">\n        <feMorphology in=\"SourceGraphic\" result=\"Doubled\" operator=\"dilate\" radius=\"1\"/>\n        <feComposite in=\"SourceGraphic\" in2=\"Doubled\" result=\"Out\" operator=\"xor\"/>\n      </filter>\n    </defs>\n    <style>\n    rect.snap-obj { stroke: black; fill: none; }\n    path.snap-arrow { stroke: black; fill: none; marker-end: url(#snap-arrowhead); }\n    #snap-arrowhead { stroke: black; fill: none; }\n    .snap-immutable { filter: url(#snap-double); }\n    text { font-family: sans-serif; font-size: 12pt; text-anchor: start; alignment-baseline: hanging; }\n    </style>\n  `);\n  return root;\n}\n\nconst metrics = createSVGRoot();\n\nconst makeID = function() {\n  let counter = 0;\n  return function makeID(type) {\n    return `${type}${counter++}`;\n  };\n}();\n\nfunction drawable(snap) {\n  document.body.append(metrics);\n  let graph = {\n    id: 'diagram',\n    layoutOptions: {\n      'elk.algorithm': 'layered',\n      'elk.direction': 'DOWN',\n      'elk.edgeRouting': 'POLYLINE',\n      'elk.hierarchyHandling': 'INCLUDE_CHILDREN',\n    },\n    children: [ drawableHeap(snap.heap) ],\n  }\n  document.body.removeChild(metrics);\n  return graph;\n}\n\nfunction drawableHeap(heap) {\n  let graph = {\n    id: 'heap',\n    children: [],\n    edges: [],\n  }\n  heap.forEach(e => incorporate(e, graph));\n  return graph;\n}\n\nfunction incorporate(e, graph, showHashRefs=false) {\n  // pointer\n  if (e.name) {\n    let nodeSpacing = 20;\n    let isHashRef = e.name.ref.startsWith('#');\n    if (e.name.ref && isHashRef && !showHashRefs) { return; } // TODO can we unnest name: { ref: x } to name: x somewhere?\n    let ptr = Object.assign({\n      id: makeID('ptr'),\n      layoutOptions: {\n        'elk.nodeLabels.placement': 'INSIDE V_TOP H_CENTER',\n        'elk.nodeSize.constraints': 'MINIMUM_SIZE',\n        'elk.position': `(${nodeSpacing * graph.children.length}, 0)`,\n      },\n      labels: isHashRef ? [] : makeLabels(e.name.ref)\n    }, e);\n    graph.children.push(ptr);\n    graph.edges.push(Object.assign({ id: makeID('edge'), sources: [ ptr.id ], targets: [ ptr.target.to ] }, e));\n    return;\n  }\n  \n  // object\n  if (e.object) {\n    let labels = makeLabels(e.object);\n    let obj = Object.assign({\n      id: makeID('obj'),\n      layoutOptions: {\n        'elk.nodeLabels.placement': 'INSIDE V_TOP H_CENTER',\n        'elk.nodeSize.constraints': 'NODE_LABELS MINIMUM_SIZE',\n        'elk.layered.crossingMinimization.semiInteractive': true,\n      },\n      labels,\n      children: [],\n      edges: [],\n    }, e);\n    if(obj.fields.length) {\n      // TODO understand WTF is going on here\n      // the axes are flipped for nodes w/ childen vs. w/o, so only do this when there are fields?!\n      Object.assign(obj.layoutOptions, {\n        'elk.nodeSize.minimum': `0,${Math.max.apply(null, labels.map(l => l.width))}`,\n      });\n    }\n    graph.children.push(obj);\n    obj.fields.forEach(f => incorporate(f, obj, true));\n    return;\n  }\n  \n  // array\n  if (e.array) {\n    let arr = Object.assign({\n      id: makeID('arr'),\n      children: [],\n      edges: [],\n    }, e);\n    graph.children.push(arr);\n    // TODO order matters, push cell children instead\n    arr.array.forEach(f => incorporate(f, arr));\n    return;\n  }\n  \n  // primitive:\n  if (e.val !== undefined) {\n    graph.children.push(Object.assign({\n      id: makeID('val'),\n      layoutOptions: {\n        'elk.nodeLabels.placement': 'INSIDE V_TOP H_CENTER',\n      },\n      labels: makeLabels(e.val),\n    }, e));\n    return;\n  }\n  \n  throw new Error('Snapdown cannot incorporate: ' + Object.keys(e));\n}\n\nfunction makeLabels(text) {\n  if (text === undefined) { return []; }\n  let elt = createSVG('text');\n  elt.textContent = text = `${text}`;\n  metrics.append(elt);\n  let { width, height } = elt.getBoundingClientRect();\n  metrics.removeChild(elt);\n  return [ { text, width, height } ];\n}\n\nfunction draw(nearby, graph, id) {\n  let root = createSVGRoot();\n  root.id = id;\n  nearby.parentNode.insertBefore(root, nearby.nextSibling);\n  [ 'width', 'height' ].forEach(attr => root.setAttribute(attr, graph[attr]));\n  \n  graph.children.forEach(drawAtom.bind(null, root));\n}\n\nfunction drawAtom(parent, atom) {\n  let group = createSVG('g');\n  group.setAttribute('transform', 'translate(' + atom.x + ',' + atom.y + ')');\n  \n  // object\n  if (atom.object) {\n    let rect = createSVG('rect', 'snap-obj');\n    [ 'width', 'height' ].forEach(attr => rect.setAttribute(attr, atom[attr]));\n    rect.setAttribute('rx', 20);\n    if (atom.immutable) { rect.classList.add('snap-immutable'); }\n    group.append(rect);\n  }\n  \n  atom.labels && atom.labels.forEach(drawLabel.bind(null, group));\n  atom.children && atom.children.forEach(drawAtom.bind(null, group));\n  atom.edges && atom.edges.forEach(drawEdge.bind(null, group));\n  parent.append(group);\n}\n\nfunction drawLabel(parent, label) {\n  let text = createSVG('text');\n  [ 'x', 'y' ].forEach(attr => text.setAttribute(attr, label[attr]));\n  text.textContent = label.text;\n  parent.append(text);\n}\n\nfunction drawEdge(parent, edge) {\n  // TODO https://github.com/OpenKieler/klayjs-svg/blob/master/klayjs-svg.js#L176\n  var path = createSVG('path', 'snap-arrow');\n  if (edge.immutable) { path.classList.add('snap-immutable'); }\n  path.setAttribute('d', edge.sections.map(s => [\n    'M', s.startPoint.x, s.startPoint.y,\n    ...(s.bendPoints || []).map(bend => `L ${bend.x} ${bend.y}`),\n    'L', s.endPoint.x, s.endPoint.y,\n  ].join(' ')).join(' '));\n  parent.append(path);\n}\n\nmodule.exports = { drawable, draw };\n"],"sourceRoot":""}